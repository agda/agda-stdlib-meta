<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Class.MonadTC</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/agda/agda-stdlib-meta/tree/fix-deriving-type-generation///Class/MonadTC.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">module</a> <a id="44" href="Class.MonadTC.html" class="Module">Class.MonadTC</a> <a id="58" class="Keyword">where</a>

<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="Meta.Prelude.html" class="Module">Meta.Prelude</a>

<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Data.List.html" class="Module">Data.List</a> <a id="113" class="Keyword">using</a> <a id="119" class="Symbol">(</a><a id="120" href="Data.List.Base.html#1634" class="Function">map</a><a id="123" class="Symbol">)</a>

<a id="126" class="Keyword">import</a> <a id="133" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a> <a id="157" class="Symbol">as</a> <a id="160" class="Module">R&#39;</a>
<a id="163" class="Keyword">import</a> <a id="170" href="Reflection.html" class="Module">Reflection</a> <a id="181" class="Symbol">as</a> <a id="184" class="Module">R</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Reflection.Syntax.html" class="Module">Reflection.Syntax</a>

<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Reflection.Debug.html" class="Module">Reflection.Debug</a>

<a id="247" class="Keyword">open</a> <a id="252" class="Keyword">import</a> <a id="259" href="Class.Show.html" class="Module">Class.Show</a>
<a id="270" class="Keyword">open</a> <a id="275" class="Keyword">import</a> <a id="282" href="Class.DecEq.html" class="Module">Class.DecEq</a>
<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Class.MonadReader.html" class="Module">Class.MonadReader</a>
<a id="324" class="Keyword">open</a> <a id="329" class="Keyword">import</a> <a id="336" href="Class.MonadError.html" class="Module">Class.MonadError</a>
<a id="353" class="Keyword">open</a> <a id="358" class="Keyword">import</a> <a id="365" href="Class.Functor.html" class="Module">Class.Functor</a>
<a id="379" class="Keyword">open</a> <a id="384" class="Keyword">import</a> <a id="391" href="Class.Monad.html" class="Module">Class.Monad</a>
<a id="403" class="Keyword">open</a> <a id="408" class="Keyword">import</a> <a id="415" href="Class.Traversable.html" class="Module">Class.Traversable</a>

<a id="434" class="Keyword">private</a> <a id="442" class="Keyword">variable</a>
  <a id="453" href="Class.MonadTC.html#453" class="Generalizable">a</a> <a id="455" href="Class.MonadTC.html#455" class="Generalizable">f</a> <a id="457" class="Symbol">:</a> <a id="459" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="467" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="469" href="Class.MonadTC.html#469" class="Generalizable">B</a> <a id="471" class="Symbol">:</a> <a id="473" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="477" href="Class.MonadTC.html#455" class="Generalizable">f</a>

<a id="480" class="Keyword">data</a> <a id="ReductionOptions"></a><a id="485" href="Class.MonadTC.html#485" class="Datatype">ReductionOptions</a> <a id="502" class="Symbol">:</a> <a id="504" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="508" class="Keyword">where</a>
  <a id="ReductionOptions.onlyReduce"></a><a id="516" href="Class.MonadTC.html#516" class="InductiveConstructor">onlyReduce</a> <a id="527" class="Symbol">:</a> <a id="529" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="534" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="539" class="Symbol">→</a> <a id="541" href="Class.MonadTC.html#485" class="Datatype">ReductionOptions</a>
  <a id="ReductionOptions.dontReduce"></a><a id="560" href="Class.MonadTC.html#560" class="InductiveConstructor">dontReduce</a> <a id="571" class="Symbol">:</a> <a id="573" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="578" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="583" class="Symbol">→</a> <a id="585" href="Class.MonadTC.html#485" class="Datatype">ReductionOptions</a>

<a id="reduceAll"></a><a id="603" href="Class.MonadTC.html#603" class="Function">reduceAll</a> <a id="613" class="Symbol">:</a> <a id="615" href="Class.MonadTC.html#485" class="Datatype">ReductionOptions</a>
<a id="632" href="Class.MonadTC.html#603" class="Function">reduceAll</a> <a id="642" class="Symbol">=</a> <a id="644" href="Class.MonadTC.html#560" class="InductiveConstructor">dontReduce</a> <a id="655" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="659" class="Keyword">record</a> <a id="TCOptions"></a><a id="666" href="Class.MonadTC.html#666" class="Record">TCOptions</a> <a id="676" class="Symbol">:</a> <a id="678" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="682" class="Keyword">where</a>
  <a id="690" class="Keyword">field</a>
    <a id="TCOptions.debug"></a><a id="700" href="Class.MonadTC.html#700" class="Field">debug</a> <a id="706" class="Symbol">:</a> <a id="708" href="Reflection.Debug.html#2435" class="Record">DebugOptions</a>
    <a id="TCOptions.fuel"></a><a id="725" href="Class.MonadTC.html#725" class="Field">fuel</a>  <a id="731" class="Symbol">:</a> <a id="733" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="738" class="Symbol">(</a><a id="739" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="746" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="748" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="749" class="Symbol">)</a>

<a id="defaultTCOptions"></a><a id="752" href="Class.MonadTC.html#752" class="Function">defaultTCOptions</a> <a id="769" class="Symbol">:</a> <a id="771" href="Class.MonadTC.html#666" class="Record">TCOptions</a>
<a id="781" href="Class.MonadTC.html#752" class="Function">defaultTCOptions</a> <a id="798" class="Symbol">=</a> <a id="800" class="Keyword">record</a>
  <a id="809" class="Symbol">{</a> <a id="811" href="Class.MonadTC.html#700" class="Field">debug</a> <a id="817" class="Symbol">=</a> <a id="819" href="Reflection.Debug.html#2590" class="Function">defaultDebugOptions</a>
  <a id="841" class="Symbol">;</a> <a id="843" href="Class.MonadTC.html#725" class="Field">fuel</a>  <a id="849" class="Symbol">=</a> <a id="851" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="854" class="Symbol">}</a>

<a id="857" class="Keyword">record</a> <a id="TCEnv"></a><a id="864" href="Class.MonadTC.html#864" class="Record">TCEnv</a> <a id="870" class="Symbol">:</a> <a id="872" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="876" class="Keyword">where</a>
  <a id="884" class="Keyword">field</a>
    <a id="TCEnv.normalisation"></a><a id="894" href="Class.MonadTC.html#894" class="Field">normalisation</a>  <a id="909" class="Symbol">:</a> <a id="911" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="TCEnv.reconstruction"></a><a id="920" href="Class.MonadTC.html#920" class="Field">reconstruction</a> <a id="935" class="Symbol">:</a> <a id="937" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="TCEnv.noConstraints"></a><a id="946" href="Class.MonadTC.html#946" class="Field">noConstraints</a>  <a id="961" class="Symbol">:</a> <a id="963" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="TCEnv.reduction"></a><a id="972" href="Class.MonadTC.html#972" class="Field">reduction</a>      <a id="987" class="Symbol">:</a> <a id="989" href="Class.MonadTC.html#485" class="Datatype">ReductionOptions</a>
    <a id="TCEnv.globalContext"></a><a id="1010" href="Class.MonadTC.html#1010" class="Field">globalContext</a>  <a id="1025" class="Symbol">:</a> <a id="1027" href="Reflection.AST.Term.html#2011" class="Function">Telescope</a>
    <a id="TCEnv.localContext"></a><a id="1041" href="Class.MonadTC.html#1041" class="Field">localContext</a>   <a id="1056" class="Symbol">:</a> <a id="1058" href="Reflection.AST.Term.html#2011" class="Function">Telescope</a>
    <a id="TCEnv.goal"></a><a id="1072" href="Class.MonadTC.html#1072" class="Field">goal</a>           <a id="1087" class="Symbol">:</a> <a id="1089" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1094" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1096" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a>
    <a id="TCEnv.options"></a><a id="1105" href="Class.MonadTC.html#1105" class="Field">options</a>        <a id="1120" class="Symbol">:</a> <a id="1122" href="Class.MonadTC.html#666" class="Record">TCOptions</a>

  <a id="1135" class="Keyword">open</a> <a id="1140" href="Class.MonadTC.html#666" class="Module">TCOptions</a> <a id="1150" href="Class.MonadTC.html#1105" class="Field">options</a> <a id="1158" class="Keyword">public</a>

<a id="initTCEnvWithGoal"></a><a id="1166" href="Class.MonadTC.html#1166" class="Function">initTCEnvWithGoal</a> <a id="1184" class="Symbol">:</a> <a id="1186" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1191" class="Symbol">→</a> <a id="1193" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="1198" href="Class.MonadTC.html#864" class="Record">TCEnv</a>
<a id="1204" href="Class.MonadTC.html#1166" class="Function">initTCEnvWithGoal</a> <a id="1222" href="Class.MonadTC.html#1222" class="Bound">goal</a> <a id="1227" class="Symbol">=</a> <a id="1229" href="Agda.Builtin.Reflection.html#9258" class="Postulate">R.getContext</a> <a id="1242" href="Class.Functor.Core.html#328" class="Function Operator">&lt;&amp;&gt;</a> <a id="1246" class="Symbol">λ</a> <a id="1248" href="Class.MonadTC.html#1248" class="Bound">ctx</a> <a id="1252" class="Symbol">→</a> <a id="1254" class="Keyword">record</a>
  <a id="1263" class="Symbol">{</a> <a id="1265" href="Class.MonadTC.html#894" class="Field">normalisation</a>  <a id="1280" class="Symbol">=</a> <a id="1282" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="1290" class="Symbol">;</a> <a id="1292" href="Class.MonadTC.html#920" class="Field">reconstruction</a> <a id="1307" class="Symbol">=</a> <a id="1309" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="1317" class="Symbol">;</a> <a id="1319" href="Class.MonadTC.html#946" class="Field">noConstraints</a>  <a id="1334" class="Symbol">=</a> <a id="1336" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="1344" class="Symbol">;</a> <a id="1346" href="Class.MonadTC.html#972" class="Field">reduction</a>      <a id="1361" class="Symbol">=</a> <a id="1363" href="Class.MonadTC.html#603" class="Function">reduceAll</a>
  <a id="1375" class="Symbol">;</a> <a id="1377" href="Class.MonadTC.html#1010" class="Field">globalContext</a>  <a id="1392" class="Symbol">=</a> <a id="1394" href="Class.MonadTC.html#1248" class="Bound">ctx</a>
  <a id="1400" class="Symbol">;</a> <a id="1402" href="Class.MonadTC.html#1041" class="Field">localContext</a>   <a id="1417" class="Symbol">=</a> <a id="1419" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="1424" class="Symbol">;</a> <a id="1426" href="Class.MonadTC.html#1072" class="Field">goal</a>           <a id="1441" class="Symbol">=</a> <a id="1443" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1448" href="Class.MonadTC.html#1222" class="Bound">goal</a>
  <a id="1455" class="Symbol">;</a> <a id="1457" href="Class.MonadTC.html#1105" class="Field">options</a>        <a id="1472" class="Symbol">=</a> <a id="1474" href="Class.MonadTC.html#752" class="Function">defaultTCOptions</a>
  <a id="1493" class="Symbol">}</a>

<a id="initTCEnv"></a><a id="1496" href="Class.MonadTC.html#1496" class="Function">initTCEnv</a> <a id="1506" class="Symbol">:</a> <a id="1508" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="1513" href="Class.MonadTC.html#864" class="Record">TCEnv</a>
<a id="1519" href="Class.MonadTC.html#1496" class="Function">initTCEnv</a> <a id="1529" class="Symbol">=</a> <a id="1531" href="Class.MonadTC.html#1166" class="Function">initTCEnvWithGoal</a> <a id="1549" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>

<a id="1558" class="Keyword">record</a> <a id="MonadTC"></a><a id="1565" href="Class.MonadTC.html#1565" class="Record">MonadTC</a> <a id="1573" class="Symbol">(</a><a id="1574" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1576" class="Symbol">:</a> <a id="1578" class="Symbol">∀</a> <a id="1580" class="Symbol">{</a><a id="1581" href="Class.MonadTC.html#1581" class="Bound">f</a><a id="1582" class="Symbol">}</a> <a id="1584" class="Symbol">→</a> <a id="1586" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1590" href="Class.MonadTC.html#1581" class="Bound">f</a> <a id="1592" class="Symbol">→</a> <a id="1594" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1598" href="Class.MonadTC.html#1581" class="Bound">f</a><a id="1599" class="Symbol">)</a>
               <a id="1616" class="Symbol">⦃</a> <a id="1618" href="Class.MonadTC.html#1618" class="Bound">m</a> <a id="1620" class="Symbol">:</a> <a id="1622" href="Class.Monad.Core.html#173" class="Record">Monad</a> <a id="1628" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1630" class="Symbol">⦄</a> <a id="1632" class="Symbol">⦃</a> <a id="1634" href="Class.MonadTC.html#1634" class="Bound">me</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Class.MonadError.html#268" class="Record">MonadError</a> <a id="1650" class="Symbol">(</a><a id="1651" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1656" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="1665" class="Symbol">)</a> <a id="1667" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1669" class="Symbol">⦄</a> <a id="1671" class="Symbol">:</a> <a id="1673" href="Agda.Primitive.html#512" class="Primitive">Setω₁</a> <a id="1679" class="Keyword">where</a>
  <a id="1687" class="Keyword">field</a>
    <a id="MonadTC.unify"></a><a id="1697" href="Class.MonadTC.html#1697" class="Field">unify</a>            <a id="1714" class="Symbol">:</a> <a id="1716" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1721" class="Symbol">→</a> <a id="1723" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1728" class="Symbol">→</a> <a id="1730" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1732" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="MonadTC.typeError"></a><a id="1738" href="Class.MonadTC.html#1738" class="Field">typeError</a>        <a id="1755" class="Symbol">:</a> <a id="1757" class="Symbol">∀</a> <a id="1759" class="Symbol">{</a><a id="1760" href="Class.MonadTC.html#1760" class="Bound">A</a> <a id="1762" class="Symbol">:</a> <a id="1764" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1768" href="Class.MonadTC.html#455" class="Generalizable">f</a><a id="1769" class="Symbol">}</a> <a id="1771" class="Symbol">→</a> <a id="1773" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1778" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a> <a id="1788" class="Symbol">→</a> <a id="1790" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1792" href="Class.MonadTC.html#1760" class="Bound">A</a>
    <a id="MonadTC.inferType"></a><a id="1798" href="Class.MonadTC.html#1798" class="Field">inferType</a>        <a id="1815" class="Symbol">:</a> <a id="1817" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1822" class="Symbol">→</a> <a id="1824" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1826" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a>
    <a id="MonadTC.checkType"></a><a id="1835" href="Class.MonadTC.html#1835" class="Field">checkType</a>        <a id="1852" class="Symbol">:</a> <a id="1854" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1859" class="Symbol">→</a> <a id="1861" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="1866" class="Symbol">→</a> <a id="1868" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1870" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="MonadTC.normalise"></a><a id="1879" href="Class.MonadTC.html#1879" class="Field">normalise</a>        <a id="1896" class="Symbol">:</a> <a id="1898" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1903" class="Symbol">→</a> <a id="1905" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1907" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="MonadTC.reduce"></a><a id="1916" href="Class.MonadTC.html#1916" class="Field">reduce</a>           <a id="1933" class="Symbol">:</a> <a id="1935" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1940" class="Symbol">→</a> <a id="1942" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1944" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="MonadTC.quoteTC"></a><a id="1953" href="Class.MonadTC.html#1953" class="Field">quoteTC</a>          <a id="1970" class="Symbol">:</a> <a id="1972" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="1974" class="Symbol">→</a> <a id="1976" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="1978" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="MonadTC.unquoteTC"></a><a id="1987" href="Class.MonadTC.html#1987" class="Field">unquoteTC</a>        <a id="2004" class="Symbol">:</a> <a id="2006" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2011" class="Symbol">→</a> <a id="2013" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2015" href="Class.MonadTC.html#467" class="Generalizable">A</a>
    <a id="MonadTC.quoteωTC"></a><a id="2021" href="Class.MonadTC.html#2021" class="Field">quoteωTC</a>         <a id="2038" class="Symbol">:</a> <a id="2040" class="Symbol">∀</a> <a id="2042" class="Symbol">{</a><a id="2043" href="Class.MonadTC.html#2043" class="Bound">A</a> <a id="2045" class="Symbol">:</a> <a id="2047" href="Agda.Primitive.html#512" class="Primitive">Setω</a><a id="2051" class="Symbol">}</a> <a id="2053" class="Symbol">→</a> <a id="2055" href="Class.MonadTC.html#2043" class="Bound">A</a> <a id="2057" class="Symbol">→</a> <a id="2059" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2061" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="MonadTC.freshName"></a><a id="2070" href="Class.MonadTC.html#2070" class="Field">freshName</a>        <a id="2087" class="Symbol">:</a> <a id="2089" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2096" class="Symbol">→</a> <a id="2098" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2100" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="MonadTC.declareDef"></a><a id="2109" href="Class.MonadTC.html#2109" class="Field">declareDef</a>       <a id="2126" class="Symbol">:</a> <a id="2128" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="2132" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="2137" class="Symbol">→</a> <a id="2139" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="2144" class="Symbol">→</a> <a id="2146" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2148" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="MonadTC.declarePostulate"></a><a id="2154" href="Class.MonadTC.html#2154" class="Field">declarePostulate</a> <a id="2171" class="Symbol">:</a> <a id="2173" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="2177" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="2182" class="Symbol">→</a> <a id="2184" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="2189" class="Symbol">→</a> <a id="2191" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2193" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="MonadTC.defineFun"></a><a id="2199" href="Class.MonadTC.html#2199" class="Field">defineFun</a>        <a id="2216" class="Symbol">:</a> <a id="2218" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="2223" class="Symbol">→</a> <a id="2225" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2230" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a> <a id="2237" class="Symbol">→</a> <a id="2239" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2241" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="MonadTC.getType"></a><a id="2247" href="Class.MonadTC.html#2247" class="Field">getType</a>          <a id="2264" class="Symbol">:</a> <a id="2266" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="2271" class="Symbol">→</a> <a id="2273" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2275" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a>
    <a id="MonadTC.getDefinition"></a><a id="2284" href="Class.MonadTC.html#2284" class="Field">getDefinition</a>    <a id="2301" class="Symbol">:</a> <a id="2303" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="2308" class="Symbol">→</a> <a id="2310" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2312" href="Agda.Builtin.Reflection.html#7485" class="Datatype">Definition</a>
    <a id="MonadTC.blockOnMeta"></a><a id="2327" href="Class.MonadTC.html#2327" class="Field">blockOnMeta</a>      <a id="2344" class="Symbol">:</a> <a id="2346" href="Agda.Builtin.Reflection.html#2457" class="Postulate">Meta</a> <a id="2351" class="Symbol">→</a> <a id="2353" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2355" href="Class.MonadTC.html#467" class="Generalizable">A</a>
    <a id="MonadTC.commitTC"></a><a id="2361" href="Class.MonadTC.html#2361" class="Field">commitTC</a>         <a id="2378" class="Symbol">:</a> <a id="2380" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2382" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="MonadTC.isMacro"></a><a id="2388" href="Class.MonadTC.html#2388" class="Field">isMacro</a>          <a id="2405" class="Symbol">:</a> <a id="2407" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="2412" class="Symbol">→</a> <a id="2414" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2416" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="MonadTC.debugPrint"></a><a id="2425" href="Class.MonadTC.html#2425" class="Field">debugPrint</a>       <a id="2442" class="Symbol">:</a> <a id="2444" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2451" class="Symbol">→</a> <a id="2453" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2455" class="Symbol">→</a> <a id="2457" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2462" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a> <a id="2472" class="Symbol">→</a> <a id="2474" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2476" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="MonadTC.runSpeculative"></a><a id="2482" href="Class.MonadTC.html#2482" class="Field">runSpeculative</a>   <a id="2499" class="Symbol">:</a> <a id="2501" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2503" class="Symbol">(</a><a id="2504" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="2506" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2508" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="2512" class="Symbol">)</a> <a id="2514" class="Symbol">→</a> <a id="2516" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2518" href="Class.MonadTC.html#467" class="Generalizable">A</a>
    <a id="MonadTC.getInstances"></a><a id="2524" href="Class.MonadTC.html#2524" class="Field">getInstances</a>     <a id="2541" class="Symbol">:</a> <a id="2543" href="Agda.Builtin.Reflection.html#2457" class="Postulate">Meta</a> <a id="2548" class="Symbol">→</a> <a id="2550" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2552" class="Symbol">(</a><a id="2553" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2558" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="2562" class="Symbol">)</a>

  <a id="2567" class="Keyword">instance</a> <a id="2576" href="Class.MonadTC.html#2576" class="Function">_</a> <a id="2578" class="Symbol">=</a> <a id="2580" href="Class.Monad.Core.html#610" class="Function">Functor-M</a> <a id="2590" class="Symbol">{</a><a id="2591" class="Argument">M</a> <a id="2593" class="Symbol">=</a> <a id="2595" href="Class.MonadTC.html#1574" class="Bound">M</a><a id="2596" class="Symbol">}</a>
  <a id="2600" class="Keyword">open</a> <a id="2605" href="Class.MonadError.html#268" class="Module">MonadError</a> <a id="2616" href="Class.MonadTC.html#1634" class="Bound">me</a>

  <a id="MonadTC.runAndReset"></a><a id="2622" href="Class.MonadTC.html#2622" class="Function">runAndReset</a> <a id="2634" class="Symbol">:</a> <a id="2636" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2638" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="2640" class="Symbol">→</a> <a id="2642" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2644" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="2648" href="Class.MonadTC.html#2622" class="Function">runAndReset</a> <a id="2660" href="Class.MonadTC.html#2660" class="Bound">x</a> <a id="2662" class="Symbol">=</a> <a id="2664" href="Class.MonadTC.html#2482" class="Field">runSpeculative</a> <a id="2679" class="Symbol">((</a><a id="2681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,</a> <a id="2684" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="2689" class="Symbol">)</a> <a id="2691" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="2695" href="Class.MonadTC.html#2660" class="Bound">x</a><a id="2696" class="Symbol">)</a>

  <a id="2701" class="Comment">-- dry-run and return true iff no error occured</a>
  <a id="2751" class="Comment">-- does not change any state</a>
  <a id="MonadTC.isSuccessful"></a><a id="2782" href="Class.MonadTC.html#2782" class="Function">isSuccessful</a> <a id="2795" class="Symbol">:</a> <a id="2797" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2799" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="2801" class="Symbol">→</a> <a id="2803" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2805" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="2812" href="Class.MonadTC.html#2782" class="Function">isSuccessful</a> <a id="2825" href="Class.MonadTC.html#2825" class="Bound">x</a> <a id="2827" class="Symbol">=</a> <a id="2829" href="Class.MonadTC.html#2622" class="Function">runAndReset</a> <a id="2841" class="Symbol">(</a><a id="2842" href="Class.MonadError.html#364" class="Function">catch</a> <a id="2848" class="Symbol">(</a><a id="2849" href="Class.MonadTC.html#2825" class="Bound">x</a> <a id="2851" href="Class.Monad.Core.html#324" class="Function Operator">&gt;&gt;</a> <a id="2854" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="2861" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="2865" class="Symbol">)</a> <a id="2867" class="Symbol">(λ</a> <a id="2870" href="Class.MonadTC.html#2870" class="Bound">_</a> <a id="2872" class="Symbol">→</a> <a id="2874" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="2881" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="2886" class="Symbol">))</a>

  <a id="2892" class="Comment">-- TODO: return true on function, axiom and prim-fun constructors?</a>
  <a id="MonadTC.isDef"></a><a id="2961" href="Class.MonadTC.html#2961" class="Function">isDef</a> <a id="2967" class="Symbol">:</a> <a id="2969" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="2974" class="Symbol">→</a> <a id="2976" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="2978" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="2985" href="Class.MonadTC.html#2961" class="Function">isDef</a> <a id="2991" href="Class.MonadTC.html#2991" class="Bound">n</a> <a id="2993" class="Symbol">=</a> <a id="2995" class="Keyword">do</a>
    <a id="3002" href="Agda.Builtin.Reflection.html#7680" class="InductiveConstructor">constructor′</a> <a id="3015" class="Symbol">_</a> <a id="3017" class="Symbol">_</a> <a id="3019" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3021" href="Class.MonadTC.html#2284" class="Field">getDefinition</a> <a id="3035" href="Class.MonadTC.html#2991" class="Bound">n</a>
      <a id="3043" class="Keyword">where</a> <a id="3049" class="CatchallClause Symbol">_</a> <a id="3051" class="Symbol">→</a> <a id="3053" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3060" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="3069" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3076" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="MonadTC.isCon"></a><a id="3085" href="Class.MonadTC.html#3085" class="Function">isCon</a> <a id="3091" class="Symbol">:</a> <a id="3093" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="3098" class="Symbol">→</a> <a id="3100" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="3102" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="3109" href="Class.MonadTC.html#3085" class="Function">isCon</a> <a id="3115" href="Class.MonadTC.html#3115" class="Bound">n</a> <a id="3117" class="Symbol">=</a> <a id="3119" class="Keyword">do</a>
    <a id="3126" href="Agda.Builtin.Reflection.html#7680" class="InductiveConstructor">constructor′</a> <a id="3139" class="Symbol">_</a> <a id="3141" class="Symbol">_</a> <a id="3143" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3145" href="Class.MonadTC.html#2284" class="Field">getDefinition</a> <a id="3159" href="Class.MonadTC.html#3115" class="Bound">n</a>
      <a id="3167" class="Keyword">where</a> <a id="3173" class="CatchallClause Symbol">_</a> <a id="3175" class="Symbol">→</a> <a id="3177" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3184" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="3194" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3201" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

  <a id="MonadTC.nameConstr"></a><a id="3209" href="Class.MonadTC.html#3209" class="Function">nameConstr</a> <a id="3220" class="Symbol">:</a> <a id="3222" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="3227" class="Symbol">→</a> <a id="3229" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3234" class="Symbol">(</a><a id="3235" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="3239" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3243" class="Symbol">)</a> <a id="3245" class="Symbol">→</a> <a id="3247" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="3249" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="3256" href="Class.MonadTC.html#3209" class="Function">nameConstr</a> <a id="3267" href="Class.MonadTC.html#3267" class="Bound">n</a> <a id="3269" href="Class.MonadTC.html#3269" class="Bound">args</a> <a id="3274" class="Symbol">=</a> <a id="3276" class="Keyword">do</a>
    <a id="3283" href="Class.MonadTC.html#3283" class="Bound">isD</a> <a id="3287" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3289" href="Class.MonadTC.html#2961" class="Function">isDef</a> <a id="3295" href="Class.MonadTC.html#3267" class="Bound">n</a>
    <a id="3301" href="Class.MonadTC.html#3301" class="Bound">isC</a> <a id="3305" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3307" href="Class.MonadTC.html#3085" class="Function">isCon</a> <a id="3313" href="Class.MonadTC.html#3267" class="Bound">n</a>
    <a id="3319" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3324" class="Symbol">(</a><a id="3325" href="Class.MonadTC.html#3283" class="Bound">isD</a> <a id="3329" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3331" href="Class.MonadTC.html#3301" class="Bound">isC</a><a id="3334" class="Symbol">)</a> <a id="3336" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3339" class="Symbol">λ</a> <a id="3341" class="Keyword">where</a>
      <a id="3353" class="Symbol">(</a><a id="3354" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3359" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3361" class="Symbol">_)</a>      <a id="3369" class="Symbol">→</a> <a id="3371" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3378" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3380" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="3384" href="Class.MonadTC.html#3267" class="Bound">n</a> <a id="3386" href="Class.MonadTC.html#3269" class="Bound">args</a>
      <a id="3397" class="Symbol">(</a><a id="3398" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3404" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3406" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="3410" class="Symbol">)</a>  <a id="3413" class="Symbol">→</a> <a id="3415" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3422" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3424" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3428" href="Class.MonadTC.html#3267" class="Bound">n</a> <a id="3430" href="Class.MonadTC.html#3269" class="Bound">args</a>
      <a id="3441" class="Symbol">(</a><a id="3442" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3448" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3450" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="3455" class="Symbol">)</a> <a id="3457" class="Symbol">→</a> <a id="3459" href="Class.MonadError.html#344" class="Function">error</a> <a id="3465" class="Symbol">((</a><a id="3467" href="Agda.Builtin.Reflection.html#621" class="Primitive">R&#39;.primShowQName</a> <a id="3484" href="Class.MonadTC.html#3267" class="Bound">n</a> <a id="3486" href="Data.String.Base.html#3151" class="Function Operator">&lt;+&gt;</a> <a id="3490" class="String">&quot;is neither a definition nor a constructor!&quot;</a><a id="3534" class="Symbol">)</a> <a id="3536" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="3539" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3541" class="Symbol">)</a>

  <a id="MonadTC.termFromName"></a><a id="3546" href="Class.MonadTC.html#3546" class="Function">termFromName</a> <a id="3559" class="Symbol">:</a> <a id="3561" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="3566" class="Symbol">→</a> <a id="3568" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="3570" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="3577" href="Class.MonadTC.html#3546" class="Function">termFromName</a> <a id="3590" href="Class.MonadTC.html#3590" class="Bound">n</a> <a id="3592" class="Symbol">=</a> <a id="3594" href="Class.MonadTC.html#3209" class="Function">nameConstr</a> <a id="3605" href="Class.MonadTC.html#3590" class="Bound">n</a> <a id="3607" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

  <a id="3613" class="Comment">-- apply the unique constructor of the record to the arguments</a>
  <a id="MonadTC.mkRecord"></a><a id="3678" href="Class.MonadTC.html#3678" class="Function">mkRecord</a> <a id="3687" class="Symbol">:</a> <a id="3689" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="3694" class="Symbol">→</a> <a id="3696" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3701" class="Symbol">(</a><a id="3702" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="3706" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3710" class="Symbol">)</a> <a id="3712" class="Symbol">→</a> <a id="3714" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="3716" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="3723" href="Class.MonadTC.html#3678" class="Function">mkRecord</a> <a id="3732" href="Class.MonadTC.html#3732" class="Bound">n</a> <a id="3734" href="Class.MonadTC.html#3734" class="Bound">args</a> <a id="3739" class="Symbol">=</a> <a id="3741" class="Keyword">do</a>
    <a id="3748" class="Symbol">(</a><a id="3749" href="Agda.Builtin.Reflection.html#7617" class="InductiveConstructor">record′</a> <a id="3757" href="Class.MonadTC.html#3757" class="Bound">c</a> <a id="3759" class="Symbol">_)</a> <a id="3762" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3764" href="Class.MonadTC.html#2284" class="Field">getDefinition</a> <a id="3778" href="Class.MonadTC.html#3732" class="Bound">n</a>
      <a id="3786" class="Keyword">where</a> <a id="3792" class="CatchallClause Symbol">_</a> <a id="3794" class="Symbol">→</a> <a id="3796" href="Class.MonadError.html#344" class="Function">error</a> <a id="3802" class="Symbol">(</a><a id="3803" class="String">&quot;Not a record!&quot;</a> <a id="3819" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="3822" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3824" class="Symbol">)</a>
    <a id="3830" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3837" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3839" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3843" href="Class.MonadTC.html#3757" class="Bound">c</a> <a id="3845" href="Class.MonadTC.html#3734" class="Bound">args</a>

  <a id="MonadTC.isSolvedMeta"></a><a id="3853" href="Class.MonadTC.html#3853" class="Function">isSolvedMeta</a> <a id="3866" class="Symbol">:</a> <a id="3868" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3873" class="Symbol">→</a> <a id="3875" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="3877" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="3884" href="Class.MonadTC.html#3853" class="Function">isSolvedMeta</a> <a id="3897" href="Class.MonadTC.html#3897" class="Bound">m</a><a id="3898" class="Symbol">@(</a><a id="3900" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="3905" href="Class.MonadTC.html#3905" class="Bound">x</a> <a id="3907" href="Class.MonadTC.html#3907" class="Bound">args</a><a id="3911" class="Symbol">)</a> <a id="3913" class="Symbol">=</a> <a id="3915" class="Keyword">do</a>
    <a id="3922" href="Class.MonadTC.html#3922" class="Bound">r</a><a id="3923" class="Symbol">@(</a><a id="3925" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="3930" href="Class.MonadTC.html#3930" class="Bound">y</a> <a id="3932" class="Symbol">_)</a> <a id="3935" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3937" href="Class.MonadTC.html#1916" class="Field">reduce</a> <a id="3944" href="Class.MonadTC.html#3897" class="Bound">m</a>
      <a id="3952" class="Keyword">where</a> <a id="3958" class="CatchallClause Symbol">_</a> <a id="3960" class="Symbol">→</a> <a id="3962" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3969" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="3978" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3985" class="Symbol">(</a><a id="3986" href="Class.MonadTC.html#3905" class="Bound">x</a> <a id="3988" href="Class.DecEq.Core.html#251" class="Function Operator">≠</a> <a id="3990" href="Class.MonadTC.html#3930" class="Bound">y</a><a id="3991" class="Symbol">)</a>
  <a id="3995" href="Class.MonadTC.html#3853" class="CatchallClause Function">isSolvedMeta</a><a id="4007" class="CatchallClause"> </a><a id="4008" class="CatchallClause Symbol">_</a> <a id="4010" class="Symbol">=</a> <a id="4012" href="Class.MonadError.html#344" class="Function">error</a> <a id="4018" class="Symbol">(</a><a id="4019" class="String">&quot;Not a meta!&quot;</a> <a id="4033" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="4036" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4038" class="Symbol">)</a>

  <a id="MonadTC.hasUnsolvedMetas"></a><a id="4043" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4060" class="Symbol">:</a> <a id="4062" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4067" class="Symbol">→</a> <a id="4069" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="4071" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="MonadTC.hasUnsolvedMetas&#39;"></a><a id="4078" href="Class.MonadTC.html#4078" class="Function">hasUnsolvedMetas&#39;</a> <a id="4096" class="Symbol">:</a> <a id="4098" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4103" class="Symbol">(</a><a id="4104" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="4108" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="4112" class="Symbol">)</a> <a id="4114" class="Symbol">→</a> <a id="4116" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="4118" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="MonadTC.hasUnsolvedMetasCl"></a><a id="4125" href="Class.MonadTC.html#4125" class="Function">hasUnsolvedMetasCl</a> <a id="4144" class="Symbol">:</a> <a id="4146" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4151" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a> <a id="4158" class="Symbol">→</a> <a id="4160" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="4162" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="MonadTC.hasUnsolvedMetasTel"></a><a id="4169" href="Class.MonadTC.html#4169" class="Function">hasUnsolvedMetasTel</a> <a id="4189" class="Symbol">:</a> <a id="4191" href="Reflection.AST.Term.html#2011" class="Function">Telescope</a> <a id="4201" class="Symbol">→</a> <a id="4203" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="4205" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

  <a id="4213" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4230" class="Symbol">(</a><a id="4231" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="4235" href="Class.MonadTC.html#4235" class="Bound">x</a> <a id="4237" href="Class.MonadTC.html#4237" class="Bound">args</a><a id="4241" class="Symbol">)</a> <a id="4243" class="Symbol">=</a> <a id="4245" href="Class.MonadTC.html#4078" class="Function">hasUnsolvedMetas&#39;</a> <a id="4263" href="Class.MonadTC.html#4237" class="Bound">args</a>
  <a id="4270" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4287" class="Symbol">(</a><a id="4288" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="4292" href="Class.MonadTC.html#4292" class="Bound">c</a> <a id="4294" href="Class.MonadTC.html#4294" class="Bound">args</a><a id="4298" class="Symbol">)</a> <a id="4300" class="Symbol">=</a> <a id="4302" href="Class.MonadTC.html#4078" class="Function">hasUnsolvedMetas&#39;</a> <a id="4320" href="Class.MonadTC.html#4294" class="Bound">args</a>
  <a id="4327" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4344" class="Symbol">(</a><a id="4345" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="4349" href="Class.MonadTC.html#4349" class="Bound">f</a> <a id="4351" href="Class.MonadTC.html#4351" class="Bound">args</a><a id="4355" class="Symbol">)</a> <a id="4357" class="Symbol">=</a> <a id="4359" href="Class.MonadTC.html#4078" class="Function">hasUnsolvedMetas&#39;</a> <a id="4377" href="Class.MonadTC.html#4351" class="Bound">args</a>
  <a id="4384" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4401" class="Symbol">(</a><a id="4402" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="4406" href="Class.MonadTC.html#4406" class="Bound">v</a> <a id="4408" class="Symbol">(</a><a id="4409" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="4413" class="Symbol">_</a> <a id="4415" href="Class.MonadTC.html#4415" class="Bound">t</a><a id="4416" class="Symbol">))</a> <a id="4419" class="Symbol">=</a> <a id="4421" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4438" href="Class.MonadTC.html#4415" class="Bound">t</a>
  <a id="4442" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4459" class="Symbol">(</a><a id="4460" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="4468" href="Class.MonadTC.html#4468" class="Bound">cs</a> <a id="4471" href="Class.MonadTC.html#4471" class="Bound">args</a><a id="4475" class="Symbol">)</a> <a id="4477" class="Symbol">=</a> <a id="4479" class="Keyword">do</a>
    <a id="4486" href="Class.MonadTC.html#4486" class="Bound">a</a> <a id="4488" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="4490" href="Class.MonadTC.html#4125" class="Function">hasUnsolvedMetasCl</a> <a id="4509" href="Class.MonadTC.html#4468" class="Bound">cs</a>
    <a id="4516" href="Class.MonadTC.html#4516" class="Bound">b</a> <a id="4518" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="4520" href="Class.MonadTC.html#4078" class="Function">hasUnsolvedMetas&#39;</a> <a id="4538" href="Class.MonadTC.html#4471" class="Bound">args</a>
    <a id="4547" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="4554" class="Symbol">(</a><a id="4555" href="Class.MonadTC.html#4486" class="Bound">a</a> <a id="4557" href="Data.Bool.Base.html#1053" class="Function Operator">∨</a> <a id="4559" href="Class.MonadTC.html#4516" class="Bound">b</a><a id="4560" class="Symbol">)</a>
  <a id="4564" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4581" class="Symbol">(</a><a id="4582" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="4585" class="Symbol">(</a><a id="4586" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4590" class="Symbol">_</a> <a id="4592" href="Class.MonadTC.html#4592" class="Bound">a</a><a id="4593" class="Symbol">)</a> <a id="4595" class="Symbol">(</a><a id="4596" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="4600" class="Symbol">_</a> <a id="4602" href="Class.MonadTC.html#4602" class="Bound">b</a><a id="4603" class="Symbol">))</a> <a id="4606" class="Symbol">=</a> <a id="4608" class="Keyword">do</a>
    <a id="4615" href="Class.MonadTC.html#4615" class="Bound">a</a> <a id="4617" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="4619" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4636" href="Class.MonadTC.html#4592" class="Bound">a</a>
    <a id="4642" href="Class.MonadTC.html#4642" class="Bound">b</a> <a id="4644" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="4646" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4663" href="Class.MonadTC.html#4602" class="Bound">b</a>
    <a id="4669" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="4676" class="Symbol">(</a><a id="4677" href="Class.MonadTC.html#4615" class="Bound">a</a> <a id="4679" href="Data.Bool.Base.html#1053" class="Function Operator">∨</a> <a id="4681" href="Class.MonadTC.html#4642" class="Bound">b</a><a id="4682" class="Symbol">)</a>
  <a id="4686" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4703" class="Symbol">(</a><a id="4704" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="4709" class="Symbol">(</a><a id="4710" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="4714" href="Class.MonadTC.html#4714" class="Bound">t</a><a id="4715" class="Symbol">))</a> <a id="4718" class="Symbol">=</a> <a id="4720" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4737" href="Class.MonadTC.html#4714" class="Bound">t</a>
  <a id="4741" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4758" class="Symbol">(</a><a id="4759" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="4764" class="Symbol">(</a><a id="4765" href="Agda.Builtin.Reflection.html#5689" class="InductiveConstructor">prop</a> <a id="4770" href="Class.MonadTC.html#4770" class="Bound">t</a><a id="4771" class="Symbol">))</a> <a id="4774" class="Symbol">=</a> <a id="4776" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4793" href="Class.MonadTC.html#4770" class="Bound">t</a>
  <a id="4797" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4814" class="Symbol">(</a><a id="4815" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="4820" href="Agda.Builtin.Reflection.html#5777" class="InductiveConstructor">unknown</a><a id="4827" class="Symbol">)</a> <a id="4829" class="Symbol">=</a> <a id="4831" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="4838" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="4845" href="Class.MonadTC.html#4043" class="CatchallClause Function">hasUnsolvedMetas</a><a id="4861" class="CatchallClause"> </a><a id="4862" class="CatchallClause Symbol">(</a><a id="4863" href="Agda.Builtin.Reflection.html#5477" class="CatchallClause InductiveConstructor">sort</a><a id="4867" class="CatchallClause"> </a><a id="4868" class="CatchallClause Symbol">_)</a> <a id="4871" class="Symbol">=</a> <a id="4873" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="4880" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="4888" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4905" class="Symbol">(</a><a id="4906" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="4910" href="Class.MonadTC.html#4910" class="Bound">l</a><a id="4911" class="Symbol">)</a> <a id="4913" class="Symbol">=</a> <a id="4915" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="4922" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="4930" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="4947" href="Class.MonadTC.html#4947" class="Bound">m</a><a id="4948" class="Symbol">@(</a><a id="4950" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="4955" href="Class.MonadTC.html#4955" class="Bound">x</a> <a id="4957" href="Class.MonadTC.html#4957" class="Bound">x₁</a><a id="4959" class="Symbol">)</a> <a id="4961" class="Symbol">=</a> <a id="4963" href="Data.Bool.Base.html#941" class="Function">not</a> <a id="4967" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="4971" href="Class.MonadTC.html#3853" class="Function">isSolvedMeta</a> <a id="4984" href="Class.MonadTC.html#4947" class="Bound">m</a>
  <a id="4988" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="5005" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="5013" class="Symbol">=</a> <a id="5015" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="5022" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="5031" href="Class.MonadTC.html#4078" class="Function">hasUnsolvedMetas&#39;</a> <a id="5049" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5052" class="Symbol">=</a> <a id="5054" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="5061" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="5069" href="Class.MonadTC.html#4078" class="Function">hasUnsolvedMetas&#39;</a> <a id="5087" class="Symbol">((</a><a id="5089" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5093" class="Symbol">_</a> <a id="5095" href="Class.MonadTC.html#5095" class="Bound">x</a><a id="5096" class="Symbol">)</a> <a id="5098" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5100" href="Class.MonadTC.html#5100" class="Bound">l</a><a id="5101" class="Symbol">)</a> <a id="5103" class="Symbol">=</a> <a id="5105" class="Keyword">do</a>
    <a id="5112" href="Class.MonadTC.html#5112" class="Bound">a</a> <a id="5114" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5116" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="5133" href="Class.MonadTC.html#5095" class="Bound">x</a>
    <a id="5139" href="Class.MonadTC.html#5139" class="Bound">b</a> <a id="5141" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5143" href="Class.MonadTC.html#4078" class="Function">hasUnsolvedMetas&#39;</a> <a id="5161" href="Class.MonadTC.html#5100" class="Bound">l</a>
    <a id="5167" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="5174" class="Symbol">(</a><a id="5175" href="Class.MonadTC.html#5112" class="Bound">a</a> <a id="5177" href="Data.Bool.Base.html#1053" class="Function Operator">∨</a> <a id="5179" href="Class.MonadTC.html#5139" class="Bound">b</a><a id="5180" class="Symbol">)</a>

  <a id="5185" href="Class.MonadTC.html#4125" class="Function">hasUnsolvedMetasCl</a> <a id="5204" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5207" class="Symbol">=</a> <a id="5209" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="5216" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="5224" href="Class.MonadTC.html#4125" class="Function">hasUnsolvedMetasCl</a> <a id="5243" class="Symbol">(</a><a id="5244" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="5251" href="Class.MonadTC.html#5251" class="Bound">tel</a> <a id="5255" class="Symbol">_</a> <a id="5257" href="Class.MonadTC.html#5257" class="Bound">t</a> <a id="5259" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5261" href="Class.MonadTC.html#5261" class="Bound">cl</a><a id="5263" class="Symbol">)</a> <a id="5265" class="Symbol">=</a> <a id="5267" class="Keyword">do</a>
    <a id="5274" href="Class.MonadTC.html#5274" class="Bound">a</a> <a id="5276" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5278" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="5295" href="Class.MonadTC.html#5257" class="Bound">t</a>
    <a id="5301" href="Class.MonadTC.html#5301" class="Bound">b</a> <a id="5303" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5305" href="Class.MonadTC.html#4169" class="Function">hasUnsolvedMetasTel</a> <a id="5325" href="Class.MonadTC.html#5251" class="Bound">tel</a>
    <a id="5333" href="Class.MonadTC.html#5333" class="Bound">c</a> <a id="5335" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5337" href="Class.MonadTC.html#4125" class="Function">hasUnsolvedMetasCl</a> <a id="5356" href="Class.MonadTC.html#5261" class="Bound">cl</a>
    <a id="5363" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="5370" class="Symbol">(</a><a id="5371" href="Class.MonadTC.html#5274" class="Bound">a</a> <a id="5373" href="Data.Bool.Base.html#1053" class="Function Operator">∨</a> <a id="5375" href="Class.MonadTC.html#5301" class="Bound">b</a> <a id="5377" href="Data.Bool.Base.html#1053" class="Function Operator">∨</a> <a id="5379" href="Class.MonadTC.html#5333" class="Bound">c</a><a id="5380" class="Symbol">)</a>
  <a id="5384" href="Class.MonadTC.html#4125" class="Function">hasUnsolvedMetasCl</a> <a id="5403" class="Symbol">(</a><a id="5404" href="Agda.Builtin.Reflection.html#6188" class="InductiveConstructor">absurd-clause</a> <a id="5418" href="Class.MonadTC.html#5418" class="Bound">tel</a> <a id="5422" class="Symbol">_</a> <a id="5424" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5426" href="Class.MonadTC.html#5426" class="Bound">cl</a><a id="5428" class="Symbol">)</a> <a id="5430" class="Symbol">=</a> <a id="5432" class="Keyword">do</a>
    <a id="5439" href="Class.MonadTC.html#5439" class="Bound">a</a> <a id="5441" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5443" href="Class.MonadTC.html#4169" class="Function">hasUnsolvedMetasTel</a> <a id="5463" href="Class.MonadTC.html#5418" class="Bound">tel</a>
    <a id="5471" href="Class.MonadTC.html#5471" class="Bound">b</a> <a id="5473" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5475" href="Class.MonadTC.html#4125" class="Function">hasUnsolvedMetasCl</a> <a id="5494" href="Class.MonadTC.html#5426" class="Bound">cl</a>
    <a id="5501" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="5508" class="Symbol">(</a><a id="5509" href="Class.MonadTC.html#5439" class="Bound">a</a> <a id="5511" href="Data.Bool.Base.html#1053" class="Function Operator">∨</a> <a id="5513" href="Class.MonadTC.html#5471" class="Bound">b</a><a id="5514" class="Symbol">)</a>

  <a id="5519" href="Class.MonadTC.html#4169" class="Function">hasUnsolvedMetasTel</a> <a id="5539" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5542" class="Symbol">=</a> <a id="5544" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="5551" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="5559" href="Class.MonadTC.html#4169" class="Function">hasUnsolvedMetasTel</a> <a id="5579" class="Symbol">((_</a> <a id="5583" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5585" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5589" class="Symbol">_</a> <a id="5591" href="Class.MonadTC.html#5591" class="Bound">x</a><a id="5592" class="Symbol">)</a> <a id="5594" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5596" href="Class.MonadTC.html#5596" class="Bound">tel</a><a id="5599" class="Symbol">)</a> <a id="5601" class="Symbol">=</a> <a id="5603" class="Keyword">do</a>
    <a id="5610" href="Class.MonadTC.html#5610" class="Bound">a</a> <a id="5612" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5614" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a> <a id="5631" href="Class.MonadTC.html#5591" class="Bound">x</a>
    <a id="5637" href="Class.MonadTC.html#5637" class="Bound">b</a> <a id="5639" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5641" href="Class.MonadTC.html#4169" class="Function">hasUnsolvedMetasTel</a> <a id="5661" href="Class.MonadTC.html#5596" class="Bound">tel</a>
    <a id="5669" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="5676" class="Symbol">(</a><a id="5677" href="Class.MonadTC.html#5610" class="Bound">a</a> <a id="5679" href="Data.Bool.Base.html#1053" class="Function Operator">∨</a> <a id="5681" href="Class.MonadTC.html#5637" class="Bound">b</a><a id="5682" class="Symbol">)</a>

  <a id="5687" class="Comment">-- this allows mutual recursion</a>
  <a id="MonadTC.declareAndDefineFuns"></a><a id="5721" href="Class.MonadTC.html#5721" class="Function">declareAndDefineFuns</a> <a id="5742" class="Symbol">:</a> <a id="5744" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5749" class="Symbol">(</a><a id="5750" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="5754" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="5759" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5761" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="5766" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5768" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5773" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a><a id="5779" class="Symbol">)</a> <a id="5781" class="Symbol">→</a> <a id="5783" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="5785" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="5789" href="Class.MonadTC.html#5721" class="Function">declareAndDefineFuns</a> <a id="5810" href="Class.MonadTC.html#5810" class="Bound">ds</a> <a id="5813" class="Symbol">=</a> <a id="5815" class="Keyword">do</a>
    <a id="5822" href="Class.Traversable.Core.html#288" class="Function">traverse</a> <a id="5831" class="Symbol">(λ</a> <a id="5834" class="Symbol">(</a><a id="5835" href="Class.MonadTC.html#5835" class="Bound">n</a> <a id="5837" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5839" href="Class.MonadTC.html#5839" class="Bound">t</a> <a id="5841" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5843" class="Symbol">_)</a> <a id="5846" class="Symbol">→</a> <a id="5848" href="Class.MonadTC.html#2109" class="Field">declareDef</a> <a id="5859" href="Class.MonadTC.html#5835" class="Bound">n</a> <a id="5861" href="Class.MonadTC.html#5839" class="Bound">t</a><a id="5862" class="Symbol">)</a> <a id="5864" href="Class.MonadTC.html#5810" class="Bound">ds</a>
    <a id="5871" href="Class.Traversable.Core.html#288" class="Function">traverse</a> <a id="5880" class="Symbol">(λ</a> <a id="5883" class="Keyword">where</a> <a id="5889" class="Symbol">(</a><a id="5890" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5894" class="Symbol">_</a> <a id="5896" href="Class.MonadTC.html#5896" class="Bound">n</a> <a id="5898" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5900" class="Symbol">_</a> <a id="5902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5904" href="Class.MonadTC.html#5904" class="Bound">cs</a><a id="5906" class="Symbol">)</a> <a id="5908" class="Symbol">→</a> <a id="5910" href="Class.MonadTC.html#2199" class="Field">defineFun</a> <a id="5920" href="Class.MonadTC.html#5896" class="Bound">n</a> <a id="5922" href="Class.MonadTC.html#5904" class="Bound">cs</a><a id="5924" class="Symbol">)</a> <a id="5926" href="Class.MonadTC.html#5810" class="Bound">ds</a>
    <a id="5933" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="5940" class="Symbol">_</a>

  <a id="MonadTC.declareAndDefineFunsDebug"></a><a id="5945" href="Class.MonadTC.html#5945" class="Function">declareAndDefineFunsDebug</a> <a id="5971" class="Symbol">:</a> <a id="5973" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5978" class="Symbol">(</a><a id="5979" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="5983" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="5988" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5990" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="5995" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5997" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6002" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a><a id="6008" class="Symbol">)</a> <a id="6010" class="Symbol">→</a> <a id="6012" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="6014" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="6018" href="Class.MonadTC.html#5945" class="Function">declareAndDefineFunsDebug</a> <a id="6044" href="Class.MonadTC.html#6044" class="Bound">ds</a> <a id="6047" class="Symbol">=</a> <a id="6049" class="Keyword">do</a>
    <a id="6056" href="Class.Traversable.Core.html#288" class="Function">traverse</a> <a id="6065" class="Symbol">(λ</a> <a id="6068" class="Symbol">(</a><a id="6069" href="Class.MonadTC.html#6069" class="Bound">n</a> <a id="6071" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6073" href="Class.MonadTC.html#6073" class="Bound">t</a> <a id="6075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6077" class="Symbol">_)</a> <a id="6080" class="Symbol">→</a> <a id="6082" href="Class.MonadTC.html#2109" class="Field">declareDef</a> <a id="6093" href="Class.MonadTC.html#6069" class="Bound">n</a> <a id="6095" href="Class.MonadTC.html#6073" class="Bound">t</a><a id="6096" class="Symbol">)</a> <a id="6098" href="Class.MonadTC.html#6044" class="Bound">ds</a>
    <a id="6105" href="Class.Traversable.Core.html#288" class="Function">traverse</a> <a id="6114" class="Symbol">(λ</a> <a id="6117" class="Keyword">where</a> <a id="6123" class="Symbol">(</a><a id="6124" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6128" class="Symbol">_</a> <a id="6130" href="Class.MonadTC.html#6130" class="Bound">n</a> <a id="6132" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6134" class="Symbol">_</a> <a id="6136" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6138" class="Symbol">_)</a> <a id="6141" class="Symbol">→</a> <a id="6143" class="Keyword">do</a>
      <a id="6152" href="Class.MonadTC.html#6152" class="Bound">b</a> <a id="6154" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="6156" href="Class.MonadTC.html#2247" class="Field">getType</a> <a id="6164" href="Class.MonadTC.html#6130" class="Bound">n</a> <a id="6166" href="Class.Monad.Core.html#290" class="Field Operator">&gt;&gt;=</a> <a id="6170" href="Class.MonadTC.html#4043" class="Function">hasUnsolvedMetas</a>
      <a id="6193" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="6196" href="Class.MonadTC.html#6152" class="Bound">b</a> <a id="6198" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="6203" href="Class.MonadError.html#344" class="Function">error</a> <a id="6209" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="6211" href="Agda.Builtin.Reflection.html#8238" class="InductiveConstructor">strErr</a> <a id="6218" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6220" href="Class.Show.Core.html#178" class="Field">show</a> <a id="6225" href="Class.MonadTC.html#6130" class="Bound">n</a> <a id="6227" href="Data.List.Base.html#5205" class="Function Operator">]</a> <a id="6229" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="6234" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="6241" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="6243" class="Symbol">)</a> <a id="6245" href="Class.MonadTC.html#6044" class="Bound">ds</a>
    <a id="6252" href="Class.Traversable.Core.html#288" class="Function">traverse</a> <a id="6261" class="Symbol">(λ</a> <a id="6264" class="Keyword">where</a> <a id="6270" class="Symbol">(</a><a id="6271" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6275" class="Symbol">_</a> <a id="6277" href="Class.MonadTC.html#6277" class="Bound">n</a> <a id="6279" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6281" class="Symbol">_</a> <a id="6283" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6285" href="Class.MonadTC.html#6285" class="Bound">cs</a><a id="6287" class="Symbol">)</a> <a id="6289" class="Symbol">→</a> <a id="6291" href="Class.MonadTC.html#2199" class="Field">defineFun</a> <a id="6301" href="Class.MonadTC.html#6277" class="Bound">n</a> <a id="6303" href="Class.MonadTC.html#6285" class="Bound">cs</a><a id="6305" class="Symbol">)</a> <a id="6307" href="Class.MonadTC.html#6044" class="Bound">ds</a>
    <a id="6314" href="Class.Traversable.Core.html#288" class="Function">traverse</a> <a id="6323" class="Symbol">(λ</a> <a id="6326" class="Keyword">where</a> <a id="6332" class="Symbol">(</a><a id="6333" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6337" class="Symbol">_</a> <a id="6339" href="Class.MonadTC.html#6339" class="Bound">n</a> <a id="6341" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6343" class="Symbol">_</a> <a id="6345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6347" class="Symbol">_)</a> <a id="6350" class="Symbol">→</a> <a id="6352" class="Keyword">do</a>
      <a id="6361" href="Class.MonadTC.html#6361" class="Bound">d</a><a id="6362" class="Symbol">@(</a><a id="6364" href="Agda.Builtin.Reflection.html#7510" class="InductiveConstructor">function</a> <a id="6373" href="Class.MonadTC.html#6373" class="Bound">cs</a><a id="6375" class="Symbol">)</a> <a id="6377" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="6379" href="Class.MonadTC.html#2284" class="Field">getDefinition</a> <a id="6393" href="Class.MonadTC.html#6339" class="Bound">n</a>
        <a id="6403" class="Keyword">where</a> <a id="6409" class="CatchallClause Symbol">_</a> <a id="6411" class="Symbol">→</a> <a id="6413" href="Class.MonadError.html#344" class="Function">error</a> <a id="6419" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="6421" href="Agda.Builtin.Reflection.html#8238" class="InductiveConstructor">strErr</a> <a id="6428" class="String">&quot;Weird bug&quot;</a> <a id="6440" href="Data.List.Base.html#5205" class="Function Operator">]</a>
      <a id="6448" href="Class.MonadTC.html#6448" class="Bound">b</a> <a id="6450" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="6452" href="Class.MonadTC.html#4125" class="Function">hasUnsolvedMetasCl</a> <a id="6471" href="Class.MonadTC.html#6373" class="Bound">cs</a>
      <a id="6480" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="6483" href="Class.MonadTC.html#6448" class="Bound">b</a> <a id="6485" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="6490" href="Class.MonadError.html#344" class="Function">error</a> <a id="6496" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="6498" href="Agda.Builtin.Reflection.html#8238" class="InductiveConstructor">strErr</a> <a id="6505" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6507" href="Class.Show.Core.html#178" class="Field">show</a> <a id="6512" href="Class.MonadTC.html#6361" class="Bound">d</a> <a id="6514" href="Data.List.Base.html#5205" class="Function Operator">]</a> <a id="6516" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="6521" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="6528" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="6530" class="Symbol">)</a> <a id="6532" href="Class.MonadTC.html#6044" class="Bound">ds</a>
    <a id="6539" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="6546" class="Symbol">_</a>

  <a id="MonadTC.declareAndDefineFun"></a><a id="6551" href="Class.MonadTC.html#6551" class="Function">declareAndDefineFun</a> <a id="6571" class="Symbol">:</a> <a id="6573" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="6577" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="6582" class="Symbol">→</a> <a id="6584" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="6589" class="Symbol">→</a> <a id="6591" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6596" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a> <a id="6603" class="Symbol">→</a> <a id="6605" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="6607" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="6611" href="Class.MonadTC.html#6551" class="Function">declareAndDefineFun</a> <a id="6631" href="Class.MonadTC.html#6631" class="Bound">n</a> <a id="6633" href="Class.MonadTC.html#6633" class="Bound">ty</a> <a id="6636" href="Class.MonadTC.html#6636" class="Bound">cls</a> <a id="6640" class="Symbol">=</a> <a id="6642" href="Class.MonadTC.html#5721" class="Function">declareAndDefineFuns</a> <a id="6663" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="6665" class="Symbol">(</a><a id="6666" href="Class.MonadTC.html#6631" class="Bound">n</a> <a id="6668" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6670" href="Class.MonadTC.html#6633" class="Bound">ty</a> <a id="6673" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6675" href="Class.MonadTC.html#6636" class="Bound">cls</a><a id="6678" class="Symbol">)</a> <a id="6680" href="Data.List.Base.html#5205" class="Function Operator">]</a>

  <a id="MonadTC.newMeta"></a><a id="6685" href="Class.MonadTC.html#6685" class="Function">newMeta</a> <a id="6693" class="Symbol">:</a> <a id="6695" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6700" class="Symbol">→</a> <a id="6702" href="Class.MonadTC.html#1574" class="Bound">M</a> <a id="6704" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="6711" href="Class.MonadTC.html#6685" class="Function">newMeta</a> <a id="6719" class="Symbol">=</a> <a id="6721" href="Class.MonadTC.html#1835" class="Field">checkType</a> <a id="6731" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>

<a id="6740" class="Keyword">module</a> <a id="6747" href="Class.MonadTC.html#6747" class="Module">_</a> <a id="6749" class="Symbol">{</a><a id="6750" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="6752" class="Symbol">:</a> <a id="6754" class="Symbol">∀</a> <a id="6756" class="Symbol">{</a><a id="6757" href="Class.MonadTC.html#6757" class="Bound">f</a><a id="6758" class="Symbol">}</a> <a id="6760" class="Symbol">→</a> <a id="6762" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6766" href="Class.MonadTC.html#6757" class="Bound">f</a> <a id="6768" class="Symbol">→</a> <a id="6770" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6774" href="Class.MonadTC.html#6757" class="Bound">f</a><a id="6775" class="Symbol">}</a>
  <a id="6779" class="Symbol">⦃</a> <a id="6781" href="Class.MonadTC.html#6781" class="Bound">m</a> <a id="6783" class="Symbol">:</a> <a id="6785" href="Class.Monad.Core.html#173" class="Record">Monad</a> <a id="6791" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="6793" class="Symbol">⦄</a> <a id="6795" class="Symbol">⦃</a> <a id="6797" href="Class.MonadTC.html#6797" class="Bound">me</a> <a id="6800" class="Symbol">:</a> <a id="6802" href="Class.MonadError.html#268" class="Record">MonadError</a> <a id="6813" class="Symbol">(</a><a id="6814" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6819" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="6828" class="Symbol">)</a> <a id="6830" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="6832" class="Symbol">⦄</a> <a id="6834" class="Symbol">⦃</a> <a id="6836" href="Class.MonadTC.html#6836" class="Bound">mtc</a> <a id="6840" class="Symbol">:</a> <a id="6842" href="Class.MonadTC.html#1565" class="Record">MonadTC</a> <a id="6850" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="6852" class="Symbol">⦄</a> <a id="6854" class="Symbol">⦃</a> <a id="6856" href="Class.MonadTC.html#6856" class="Bound">mre</a> <a id="6860" class="Symbol">:</a> <a id="6862" href="Class.MonadReader.html#233" class="Record">MonadReader</a> <a id="6874" href="Class.MonadTC.html#864" class="Record">TCEnv</a> <a id="6880" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="6882" class="Symbol">⦄</a> <a id="6884" class="Keyword">where</a>

  <a id="6893" class="Keyword">instance</a> <a id="6902" href="Class.MonadTC.html#6902" class="Function">_</a> <a id="6904" class="Symbol">=</a> <a id="6906" href="Class.Monad.Core.html#610" class="Function">Functor-M</a> <a id="6916" class="Symbol">{</a><a id="6917" class="Argument">M</a> <a id="6919" class="Symbol">=</a> <a id="6921" href="Class.MonadTC.html#6750" class="Bound">M</a><a id="6922" class="Symbol">}</a>
  <a id="6926" class="Keyword">open</a> <a id="6931" href="Class.MonadError.html#268" class="Module">MonadError</a> <a id="6942" href="Class.MonadTC.html#6797" class="Bound">me</a>
  <a id="6947" class="Keyword">open</a> <a id="6952" href="Class.MonadTC.html#1565" class="Module">MonadTC</a> <a id="6960" href="Class.MonadTC.html#6836" class="Bound">mtc</a>
  <a id="6966" class="Keyword">open</a> <a id="6971" href="Class.MonadReader.html#233" class="Module">MonadReader</a> <a id="6983" href="Class.MonadTC.html#6856" class="Bound">mre</a>

  <a id="6990" class="Keyword">record</a> <a id="6997" href="Class.MonadTC.html#6997" class="Record">IsMErrorPart</a> <a id="7010" class="Symbol">(</a><a id="7011" href="Class.MonadTC.html#7011" class="Bound">A</a> <a id="7013" class="Symbol">:</a> <a id="7015" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="7019" href="Class.MonadTC.html#453" class="Generalizable">a</a><a id="7020" class="Symbol">)</a> <a id="7022" class="Symbol">:</a> <a id="7024" href="Agda.Primitive.html#512" class="Primitive">Setω</a> <a id="7029" class="Keyword">where</a>
    <a id="7039" class="Keyword">field</a> <a id="7045" href="Class.MonadTC.html#7045" class="Field">toMErrorPart</a> <a id="7058" class="Symbol">:</a> <a id="7060" href="Class.MonadTC.html#7011" class="Bound">A</a> <a id="7062" class="Symbol">→</a> <a id="7064" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="7066" class="Symbol">(</a><a id="7067" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7072" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="7081" class="Symbol">)</a>

  <a id="7086" class="Keyword">open</a> <a id="7091" href="Class.MonadTC.html#6997" class="Module">IsMErrorPart</a> <a id="7104" class="Symbol">⦃...⦄</a> <a id="7110" class="Keyword">public</a>

  <a id="7120" class="Keyword">data</a> <a id="7125" href="Class.MonadTC.html#7125" class="Datatype">MErrorPartWrap</a> <a id="7140" class="Symbol">:</a> <a id="7142" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="7146" class="Keyword">where</a>
    <a id="7156" href="Class.MonadTC.html#7156" class="InductiveConstructor">wrap</a> <a id="7161" class="Symbol">:</a> <a id="7163" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="7165" class="Symbol">(</a><a id="7166" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7171" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="7180" class="Symbol">)</a> <a id="7182" class="Symbol">→</a> <a id="7184" href="Class.MonadTC.html#7125" class="Datatype">MErrorPartWrap</a>

  <a id="7202" href="Class.MonadTC.html#7202" class="Function">IsMErrorPart-IsErrorPart</a> <a id="7227" class="Symbol">:</a> <a id="7229" class="Symbol">⦃</a> <a id="7231" href="Class.MonadTC.html#7231" class="Symbol">_</a> <a id="7233" class="Symbol">:</a> <a id="7235" href="Reflection.Debug.html#357" class="Record">IsErrorPart</a> <a id="7247" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="7249" class="Symbol">⦄</a> <a id="7251" class="Symbol">→</a> <a id="7253" href="Class.MonadTC.html#6997" class="Record">IsMErrorPart</a> <a id="7266" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="7270" href="Class.MonadTC.html#7202" class="Function">IsMErrorPart-IsErrorPart</a> <a id="7295" class="Symbol">.</a><a id="7296" href="Class.MonadTC.html#7045" class="Field">toMErrorPart</a> <a id="7309" href="Class.MonadTC.html#7309" class="Bound">a</a> <a id="7311" class="Symbol">=</a> <a id="7313" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="7320" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="7322" href="Reflection.Debug.html#399" class="Field">toErrorPart</a> <a id="7334" href="Class.MonadTC.html#7309" class="Bound">a</a> <a id="7336" href="Data.List.Base.html#5205" class="Function Operator">]</a>

  <a id="7341" class="Keyword">instance</a>
    <a id="7354" href="Class.MonadTC.html#7354" class="Function">IsMErrorPart-String</a> <a id="7374" class="Symbol">:</a> <a id="7376" href="Class.MonadTC.html#6997" class="Record">IsMErrorPart</a> <a id="7389" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
    <a id="7400" href="Class.MonadTC.html#7354" class="Function">IsMErrorPart-String</a> <a id="7420" class="Symbol">=</a> <a id="7422" href="Class.MonadTC.html#7202" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="7452" href="Class.MonadTC.html#7452" class="Function">IsMErrorPart-Term</a> <a id="7470" class="Symbol">:</a> <a id="7472" href="Class.MonadTC.html#6997" class="Record">IsMErrorPart</a> <a id="7485" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="7494" href="Class.MonadTC.html#7452" class="Function">IsMErrorPart-Term</a> <a id="7512" class="Symbol">=</a> <a id="7514" href="Class.MonadTC.html#7202" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="7544" href="Class.MonadTC.html#7544" class="Function">IsMErrorPart-Name</a> <a id="7562" class="Symbol">:</a> <a id="7564" href="Class.MonadTC.html#6997" class="Record">IsMErrorPart</a> <a id="7577" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="7586" href="Class.MonadTC.html#7544" class="Function">IsMErrorPart-Name</a> <a id="7604" class="Symbol">=</a> <a id="7606" href="Class.MonadTC.html#7202" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="7636" href="Class.MonadTC.html#7636" class="Function">IsMErrorPart-MErrorPartWrap</a> <a id="7664" class="Symbol">:</a> <a id="7666" href="Class.MonadTC.html#6997" class="Record">IsMErrorPart</a> <a id="7679" href="Class.MonadTC.html#7125" class="Datatype">MErrorPartWrap</a>
    <a id="7698" href="Class.MonadTC.html#7636" class="Function">IsMErrorPart-MErrorPartWrap</a> <a id="7726" class="Symbol">.</a><a id="7727" href="Class.MonadTC.html#7045" class="Field">toMErrorPart</a> <a id="7740" class="Symbol">(</a><a id="7741" href="Class.MonadTC.html#7156" class="InductiveConstructor">wrap</a> <a id="7746" href="Class.MonadTC.html#7746" class="Bound">a</a><a id="7747" class="Symbol">)</a> <a id="7749" class="Symbol">=</a> <a id="7751" href="Class.MonadTC.html#7746" class="Bound">a</a>

  <a id="7756" href="Class.MonadTC.html#7756" class="Function">[]ᵐ</a> <a id="7760" class="Symbol">:</a> <a id="7762" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="7764" class="Symbol">(</a><a id="7765" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7770" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="7779" class="Symbol">)</a>
  <a id="7783" href="Class.MonadTC.html#7756" class="Function">[]ᵐ</a> <a id="7787" class="Symbol">=</a> <a id="7789" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="7796" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

  <a id="7802" class="Keyword">infixr</a> <a id="7809" class="Number">5</a> <a id="7811" href="Class.MonadTC.html#7819" class="Function Operator">_∷ᵈᵐ_</a>
  <a id="7819" href="Class.MonadTC.html#7819" class="Function Operator">_∷ᵈᵐ_</a> <a id="7825" class="Symbol">:</a> <a id="7827" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="7829" class="Symbol">→</a> <a id="7831" class="Symbol">⦃</a> <a id="7833" href="Class.MonadTC.html#7833" class="Symbol">_</a> <a id="7835" class="Symbol">:</a> <a id="7837" href="Class.MonadTC.html#6997" class="Record">IsMErrorPart</a> <a id="7850" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="7852" class="Symbol">⦄</a> <a id="7854" class="Symbol">→</a> <a id="7856" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="7858" class="Symbol">(</a><a id="7859" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7864" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="7873" class="Symbol">)</a> <a id="7875" class="Symbol">→</a> <a id="7877" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="7879" class="Symbol">(</a><a id="7880" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7885" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="7894" class="Symbol">)</a>
  <a id="7898" href="Class.MonadTC.html#7898" class="Bound">e</a> <a id="7900" href="Class.MonadTC.html#7819" class="Function Operator">∷ᵈᵐ</a> <a id="7904" href="Class.MonadTC.html#7904" class="Bound">es</a> <a id="7907" class="Symbol">=</a> <a id="7909" class="Keyword">do</a> <a id="7912" href="Class.MonadTC.html#7912" class="Bound">e</a> <a id="7914" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="7916" href="Class.MonadTC.html#7045" class="Field">toMErrorPart</a> <a id="7929" href="Class.MonadTC.html#7898" class="Bound">e</a><a id="7930" class="Symbol">;</a> <a id="7932" href="Class.MonadTC.html#7932" class="Bound">es</a> <a id="7935" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="7937" href="Class.MonadTC.html#7904" class="Bound">es</a><a id="7939" class="Symbol">;</a> <a id="7941" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="7948" class="Symbol">(</a><a id="7949" href="Class.MonadTC.html#7912" class="Bound">e</a> <a id="7951" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="7954" href="Class.MonadTC.html#7932" class="Bound">es</a><a id="7956" class="Symbol">)</a>

  <a id="7961" href="Class.MonadTC.html#7961" class="Function Operator">_ᵛ</a> <a id="7964" class="Symbol">:</a> <a id="7966" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="7968" class="Symbol">→</a> <a id="7970" href="Class.MonadTC.html#7125" class="Datatype">MErrorPartWrap</a>
  <a id="7987" href="Class.MonadTC.html#7987" class="Bound">a</a> <a id="7989" href="Class.MonadTC.html#7961" class="Function Operator">ᵛ</a> <a id="7991" class="Symbol">=</a> <a id="7993" href="Class.MonadTC.html#7156" class="InductiveConstructor">wrap</a> <a id="7998" class="Keyword">do</a> <a id="8001" href="Class.MonadTC.html#8001" class="Bound">a</a> <a id="8003" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="8005" href="Class.MonadTC.html#1953" class="Function">quoteTC</a> <a id="8013" href="Class.MonadTC.html#7987" class="Bound">a</a><a id="8014" class="Symbol">;</a> <a id="8016" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="8023" class="Symbol">(</a><a id="8024" href="Class.MonadTC.html#8001" class="Bound">a</a> <a id="8026" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="8029" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="8031" class="Symbol">)</a>

  <a id="8036" href="Class.MonadTC.html#8036" class="Function Operator">_ᵛⁿ</a> <a id="8040" class="Symbol">:</a> <a id="8042" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="8044" class="Symbol">→</a> <a id="8046" href="Class.MonadTC.html#7125" class="Datatype">MErrorPartWrap</a>
  <a id="8063" href="Class.MonadTC.html#8063" class="Bound">a</a> <a id="8065" href="Class.MonadTC.html#8036" class="Function Operator">ᵛⁿ</a> <a id="8068" class="Symbol">=</a> <a id="8070" href="Class.MonadTC.html#7156" class="InductiveConstructor">wrap</a> <a id="8075" class="Keyword">do</a> <a id="8078" href="Class.MonadTC.html#8078" class="Bound">a</a> <a id="8080" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="8082" href="Class.MonadReader.html#340" class="Field">local</a> <a id="8088" class="Symbol">(λ</a> <a id="8091" href="Class.MonadTC.html#8091" class="Bound">env</a> <a id="8095" class="Symbol">→</a> <a id="8097" class="Keyword">record</a> <a id="8104" href="Class.MonadTC.html#8091" class="Bound">env</a> <a id="8108" class="Symbol">{</a> <a id="8110" href="Class.MonadTC.html#894" class="Field">normalisation</a> <a id="8124" class="Symbol">=</a> <a id="8126" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="8131" class="Symbol">})</a> <a id="8134" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8136" href="Class.MonadTC.html#1953" class="Function">quoteTC</a> <a id="8144" href="Class.MonadTC.html#8063" class="Bound">a</a><a id="8145" class="Symbol">;</a> <a id="8147" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="8154" class="Symbol">(</a><a id="8155" href="Class.MonadTC.html#8078" class="Bound">a</a> <a id="8157" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="8160" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="8162" class="Symbol">)</a>

  <a id="8167" href="Class.MonadTC.html#8167" class="Function Operator">_ᵗ</a> <a id="8170" class="Symbol">:</a> <a id="8172" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8177" class="Symbol">→</a> <a id="8179" href="Class.MonadTC.html#7125" class="Datatype">MErrorPartWrap</a>
  <a id="8196" href="Class.MonadTC.html#8196" class="Bound">t</a> <a id="8198" href="Class.MonadTC.html#8167" class="Function Operator">ᵗ</a> <a id="8200" class="Symbol">=</a> <a id="8202" href="Class.MonadTC.html#7156" class="InductiveConstructor">wrap</a> <a id="8207" class="Keyword">do</a> <a id="8210" href="Class.MonadTC.html#8210" class="Bound">T</a> <a id="8212" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="8214" href="Class.MonadTC.html#1798" class="Function">inferType</a> <a id="8224" href="Class.MonadTC.html#8196" class="Bound">t</a><a id="8225" class="Symbol">;</a> <a id="8227" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="8234" class="Symbol">(</a><a id="8235" href="Class.MonadTC.html#8196" class="Bound">t</a> <a id="8237" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="8240" class="String">&quot; : &quot;</a> <a id="8246" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="8249" href="Class.MonadTC.html#8210" class="Bound">T</a> <a id="8251" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="8254" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="8256" class="Symbol">)</a>

  <a id="8261" href="Class.MonadTC.html#8261" class="Function">debugLog</a> <a id="8270" class="Symbol">:</a> <a id="8272" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8277" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a> <a id="8287" class="Symbol">→</a> <a id="8289" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="8291" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="8295" href="Class.MonadTC.html#8261" class="Function">debugLog</a> <a id="8304" href="Class.MonadTC.html#8304" class="Bound">es</a> <a id="8307" class="Symbol">=</a> <a id="8309" class="Keyword">do</a>
    <a id="8316" class="Keyword">record</a> <a id="8323" class="Symbol">{</a> <a id="8325" href="Class.MonadTC.html#1105" class="Field">options</a> <a id="8333" class="Symbol">=</a> <a id="8335" class="Keyword">record</a> <a id="8342" class="Symbol">{</a> <a id="8344" href="Class.MonadTC.html#700" class="Field">debug</a> <a id="8350" class="Symbol">=</a> <a id="8352" href="Class.MonadTC.html#8352" class="Bound">debug</a> <a id="8358" class="Symbol">}</a> <a id="8360" class="Symbol">}</a> <a id="8362" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="8364" href="Class.MonadReader.html#326" class="Field">ask</a>
    <a id="8372" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="8375" href="Class.MonadTC.html#8352" class="Bound">debug</a> <a id="8381" class="Symbol">.</a><a id="8382" href="Reflection.Debug.html#2531" class="Field">DebugOptions.filter</a> <a id="8402" class="Symbol">(</a><a id="8403" href="Class.MonadTC.html#8352" class="Bound">debug</a> <a id="8409" class="Symbol">.</a><a id="8410" href="Reflection.Debug.html#2472" class="Field">DebugOptions.path</a><a id="8427" class="Symbol">)</a>
      <a id="8435" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="8440" href="Class.MonadTC.html#2425" class="Function">debugPrint</a> <a id="8451" class="Symbol">(</a><a id="8452" href="Reflection.Debug.html#2921" class="Function">debugOptionsPath</a> <a id="8469" href="Class.MonadTC.html#8352" class="Bound">debug</a><a id="8474" class="Symbol">)</a> <a id="8476" class="Symbol">(</a><a id="8477" href="Class.MonadTC.html#8352" class="Bound">debug</a> <a id="8483" class="Symbol">.</a><a id="8484" href="Reflection.Debug.html#2554" class="Field">DebugOptions.level</a><a id="8502" class="Symbol">)</a>
             <a id="8517" class="Symbol">(</a><a id="8518" href="Reflection.Debug.html#3307" class="Function">debugPrintPrefix</a> <a id="8535" href="Class.MonadTC.html#8352" class="Bound">debug</a> <a id="8541" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8543" href="Class.MonadTC.html#8304" class="Bound">es</a><a id="8545" class="Symbol">)</a>
      <a id="8553" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="8558" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="8565" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>

  <a id="8571" href="Class.MonadTC.html#8571" class="Function">debugLogᵐ</a> <a id="8581" class="Symbol">:</a> <a id="8583" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="8585" class="Symbol">(</a><a id="8586" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8591" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="8600" class="Symbol">)</a> <a id="8602" class="Symbol">→</a> <a id="8604" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="8606" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="8610" href="Class.MonadTC.html#8571" class="Function">debugLogᵐ</a> <a id="8620" href="Class.MonadTC.html#8620" class="Bound">x</a> <a id="8622" class="Symbol">=</a> <a id="8624" class="Keyword">do</a> <a id="8627" href="Class.MonadTC.html#8627" class="Bound">x</a> <a id="8629" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="8631" href="Class.MonadTC.html#8620" class="Bound">x</a><a id="8632" class="Symbol">;</a> <a id="8634" href="Class.MonadTC.html#8261" class="Function">debugLog</a> <a id="8643" href="Class.MonadTC.html#8627" class="Bound">x</a>

  <a id="8648" href="Class.MonadTC.html#8648" class="Function">debugLog1ᵐ</a> <a id="8659" class="Symbol">:</a> <a id="8661" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="8663" class="Symbol">→</a> <a id="8665" class="Symbol">⦃</a> <a id="8667" href="Class.MonadTC.html#8667" class="Symbol">_</a> <a id="8669" class="Symbol">:</a> <a id="8671" href="Class.MonadTC.html#6997" class="Record">IsMErrorPart</a> <a id="8684" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="8686" class="Symbol">⦄</a> <a id="8688" class="Symbol">→</a> <a id="8690" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="8692" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="8696" href="Class.MonadTC.html#8648" class="Function">debugLog1ᵐ</a> <a id="8707" href="Class.MonadTC.html#8707" class="Bound">a</a> <a id="8709" class="Symbol">=</a> <a id="8711" href="Class.MonadTC.html#8571" class="Function">debugLogᵐ</a> <a id="8721" class="Symbol">(</a><a id="8722" href="Class.MonadTC.html#8707" class="Bound">a</a> <a id="8724" href="Class.MonadTC.html#7819" class="Function Operator">∷ᵈᵐ</a> <a id="8728" href="Class.MonadTC.html#7756" class="Function">[]ᵐ</a><a id="8731" class="Symbol">)</a>

  <a id="8736" class="Comment">-- withDebugOptions : DebugOptions → M A → M A</a>
  <a id="8785" class="Comment">-- withDebugOptions opts x = local (λ where</a>
  <a id="8831" class="Comment">--   env@record { debug = opts&#39; } → record env { debug = specializeDebugOptions opts&#39; opts }) x</a>

  <a id="8930" href="Class.MonadTC.html#8930" class="Function">withAppendDebugPath</a> <a id="8950" class="Symbol">:</a> <a id="8952" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="8959" class="Symbol">→</a> <a id="8961" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="8963" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="8965" class="Symbol">→</a> <a id="8967" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="8969" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="8973" href="Class.MonadTC.html#8930" class="Function">withAppendDebugPath</a> <a id="8993" href="Class.MonadTC.html#8993" class="Bound">path</a> <a id="8998" href="Class.MonadTC.html#8998" class="Bound">x</a> <a id="9000" class="Symbol">=</a> <a id="9002" href="Class.MonadReader.html#340" class="Field">local</a> <a id="9008" class="Symbol">(λ</a> <a id="9011" class="Keyword">where</a>
    <a id="9021" href="Class.MonadTC.html#9021" class="Bound">env</a><a id="9024" class="Symbol">@</a><a id="9025" class="Keyword">record</a> <a id="9032" class="Symbol">{</a> <a id="9034" href="Class.MonadTC.html#1105" class="Field">options</a> <a id="9042" class="Symbol">=</a> <a id="9044" href="Class.MonadTC.html#9044" class="Bound">o</a><a id="9045" class="Symbol">@</a><a id="9046" class="Keyword">record</a> <a id="9053" class="Symbol">{</a> <a id="9055" href="Class.MonadTC.html#700" class="Field">debug</a> <a id="9061" class="Symbol">=</a> <a id="9063" href="Class.MonadTC.html#9063" class="Bound">opts</a> <a id="9068" class="Symbol">}</a> <a id="9070" class="Symbol">}</a> <a id="9072" class="Symbol">→</a> <a id="9074" class="Keyword">record</a> <a id="9081" href="Class.MonadTC.html#9021" class="Bound">env</a> <a id="9085" class="Symbol">{</a>
      <a id="9093" href="Class.MonadTC.html#1105" class="Field">options</a> <a id="9101" class="Symbol">=</a> <a id="9103" class="Keyword">record</a> <a id="9110" href="Class.MonadTC.html#9044" class="Bound">o</a> <a id="9112" class="Symbol">{</a> <a id="9114" href="Class.MonadTC.html#700" class="Field">debug</a> <a id="9120" class="Symbol">=</a> <a id="9122" class="Keyword">record</a> <a id="9129" href="Class.MonadTC.html#9063" class="Bound">opts</a> <a id="9134" class="Symbol">{</a> <a id="9136" href="Reflection.Debug.html#2472" class="Field">path</a> <a id="9141" class="Symbol">=</a> <a id="9143" href="Class.MonadTC.html#9063" class="Bound">opts</a> <a id="9148" class="Symbol">.</a><a id="9149" href="Reflection.Debug.html#2472" class="Field">DebugOptions.path</a> <a id="9167" href="Data.List.Base.html#7451" class="Function Operator">∷ʳ</a> <a id="9170" href="Class.MonadTC.html#8993" class="Bound">path</a> <a id="9175" class="Symbol">}</a> <a id="9177" class="Symbol">}</a> <a id="9179" class="Symbol">})</a> <a id="9182" href="Class.MonadTC.html#8998" class="Bound">x</a>

  <a id="9187" href="Class.MonadTC.html#9187" class="Function">noConstraints</a> <a id="9201" class="Symbol">:</a> <a id="9203" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="9205" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="9207" class="Symbol">→</a> <a id="9209" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="9211" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="9215" href="Class.MonadTC.html#9187" class="Function">noConstraints</a> <a id="9229" class="Symbol">=</a> <a id="9231" href="Class.MonadReader.html#340" class="Field">local</a> <a id="9237" class="Symbol">λ</a> <a id="9239" href="Class.MonadTC.html#9239" class="Bound">e</a> <a id="9241" class="Symbol">→</a> <a id="9243" class="Keyword">record</a> <a id="9250" href="Class.MonadTC.html#9239" class="Bound">e</a> <a id="9252" class="Symbol">{</a> <a id="9254" href="Class.MonadTC.html#946" class="Field">noConstraints</a> <a id="9268" class="Symbol">=</a> <a id="9270" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="9275" class="Symbol">}</a>

  <a id="9280" href="Class.MonadTC.html#9280" class="Function">hasType</a> <a id="9288" class="Symbol">:</a> <a id="9290" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="9295" class="Symbol">→</a> <a id="9297" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="9302" class="Symbol">→</a> <a id="9304" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="9306" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="9313" href="Class.MonadTC.html#9280" class="Function">hasType</a> <a id="9321" href="Class.MonadTC.html#9321" class="Bound">t</a> <a id="9323" href="Class.MonadTC.html#9323" class="Bound">ty</a> <a id="9326" class="Symbol">=</a> <a id="9328" href="Class.MonadTC.html#2782" class="Function">isSuccessful</a> <a id="9341" class="Symbol">(</a><a id="9342" href="Class.MonadTC.html#9187" class="Function">noConstraints</a> <a id="9356" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9358" href="Class.MonadTC.html#1835" class="Function">checkType</a> <a id="9368" href="Class.MonadTC.html#9321" class="Bound">t</a> <a id="9370" href="Class.MonadTC.html#9323" class="Bound">ty</a><a id="9372" class="Symbol">)</a>

  <a id="9377" href="Class.MonadTC.html#9377" class="Function">hasType&#39;</a> <a id="9386" class="Symbol">:</a> <a id="9388" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="9393" class="Symbol">→</a> <a id="9395" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="9400" class="Symbol">→</a> <a id="9402" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="9404" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="9411" href="Class.MonadTC.html#9377" class="Function">hasType&#39;</a> <a id="9420" href="Class.MonadTC.html#9420" class="Bound">n</a> <a id="9422" href="Class.MonadTC.html#9422" class="Bound">ty</a> <a id="9425" class="Symbol">=</a> <a id="9427" href="Class.MonadTC.html#2782" class="Function">isSuccessful</a> <a id="9440" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9442" href="Class.MonadTC.html#9187" class="Function">noConstraints</a> <a id="9456" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9458" class="Keyword">do</a>
    <a id="9465" href="Class.MonadTC.html#9465" class="Bound">t</a> <a id="9467" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="9469" href="Class.MonadTC.html#3546" class="Function">termFromName</a> <a id="9482" href="Class.MonadTC.html#9420" class="Bound">n</a>
    <a id="9488" href="Class.MonadTC.html#9488" class="Bound">t&#39;</a> <a id="9491" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="9493" href="Class.MonadTC.html#1835" class="Function">checkType</a> <a id="9503" href="Class.MonadTC.html#9465" class="Bound">t</a> <a id="9505" href="Class.MonadTC.html#9422" class="Bound">ty</a>
    <a id="9512" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="9515" href="Class.MonadTC.html#9920" class="Function">isAppliedToUnknownsAndMetas</a> <a id="9543" href="Class.MonadTC.html#9488" class="Bound">t&#39;</a>
      <a id="9552" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="9557" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="9564" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
      <a id="9573" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="9578" href="Class.MonadError.html#344" class="Function">error</a> <a id="9584" class="Symbol">(</a><a id="9585" class="String">&quot;This makes the function return false&quot;</a> <a id="9624" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="9627" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="9629" class="Symbol">)</a>
    <a id="9635" class="Keyword">where</a>
      <a id="9647" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="9666" class="Symbol">:</a> <a id="9668" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9673" class="Symbol">(</a><a id="9674" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="9678" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="9682" class="Symbol">)</a> <a id="9684" class="Symbol">→</a> <a id="9686" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
      <a id="9697" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="9716" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="9719" class="Symbol">=</a> <a id="9721" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="9732" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="9751" class="Symbol">(</a><a id="9752" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="9756" href="Class.MonadTC.html#9756" class="Bound">i</a> <a id="9758" class="Symbol">(</a><a id="9759" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="9764" href="Class.MonadTC.html#9764" class="Bound">x</a> <a id="9766" href="Class.MonadTC.html#9766" class="Bound">x₁</a><a id="9768" class="Symbol">)</a> <a id="9770" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9772" href="Class.MonadTC.html#9772" class="Bound">l</a><a id="9773" class="Symbol">)</a> <a id="9775" class="Symbol">=</a> <a id="9777" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="9796" href="Class.MonadTC.html#9772" class="Bound">l</a>
      <a id="9804" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="9823" class="Symbol">(</a><a id="9824" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="9828" href="Class.MonadTC.html#9828" class="Bound">i</a> <a id="9830" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="9838" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9840" href="Class.MonadTC.html#9840" class="Bound">l</a><a id="9841" class="Symbol">)</a> <a id="9843" class="Symbol">=</a> <a id="9845" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="9864" href="Class.MonadTC.html#9840" class="Bound">l</a>
      <a id="9872" href="Class.MonadTC.html#9647" class="CatchallClause Function">isUnknownsAndMetas</a><a id="9890" class="CatchallClause"> </a><a id="9891" class="CatchallClause Symbol">(</a><a id="9892" href="Agda.Builtin.Reflection.html#3732" class="CatchallClause InductiveConstructor">arg</a><a id="9895" class="CatchallClause"> </a><a id="9896" href="Class.MonadTC.html#9896" class="CatchallClause Bound">i</a><a id="9897" class="CatchallClause"> </a><a id="9898" class="CatchallClause Symbol">_</a><a id="9899" class="CatchallClause"> </a><a id="9900" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="9901" class="CatchallClause"> </a><a id="9902" href="Class.MonadTC.html#9902" class="CatchallClause Bound">l</a><a id="9903" class="CatchallClause Symbol">)</a> <a id="9905" class="Symbol">=</a> <a id="9907" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

      <a id="9920" href="Class.MonadTC.html#9920" class="Function">isAppliedToUnknownsAndMetas</a> <a id="9948" class="Symbol">:</a> <a id="9950" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="9955" class="Symbol">→</a> <a id="9957" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
      <a id="9968" href="Class.MonadTC.html#9920" class="Function">isAppliedToUnknownsAndMetas</a> <a id="9996" class="Symbol">(</a><a id="9997" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="10001" href="Class.MonadTC.html#10001" class="Bound">x</a> <a id="10003" href="Class.MonadTC.html#10003" class="Bound">args</a><a id="10007" class="Symbol">)</a>      <a id="10014" class="Symbol">=</a> <a id="10016" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="10035" href="Class.MonadTC.html#10003" class="Bound">args</a>
      <a id="10046" href="Class.MonadTC.html#9920" class="Function">isAppliedToUnknownsAndMetas</a> <a id="10074" class="Symbol">(</a><a id="10075" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="10079" href="Class.MonadTC.html#10079" class="Bound">c</a> <a id="10081" href="Class.MonadTC.html#10081" class="Bound">args</a><a id="10085" class="Symbol">)</a>      <a id="10092" class="Symbol">=</a> <a id="10094" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="10113" href="Class.MonadTC.html#10081" class="Bound">args</a>
      <a id="10124" href="Class.MonadTC.html#9920" class="Function">isAppliedToUnknownsAndMetas</a> <a id="10152" class="Symbol">(</a><a id="10153" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="10157" href="Class.MonadTC.html#10157" class="Bound">f</a> <a id="10159" href="Class.MonadTC.html#10159" class="Bound">args</a><a id="10163" class="Symbol">)</a>      <a id="10170" class="Symbol">=</a> <a id="10172" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="10191" href="Class.MonadTC.html#10159" class="Bound">args</a>
      <a id="10202" href="Class.MonadTC.html#9920" class="Function">isAppliedToUnknownsAndMetas</a> <a id="10230" class="Symbol">(</a><a id="10231" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="10239" href="Class.MonadTC.html#10239" class="Bound">cs</a> <a id="10242" href="Class.MonadTC.html#10242" class="Bound">args</a><a id="10246" class="Symbol">)</a> <a id="10248" class="Symbol">=</a> <a id="10250" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="10269" href="Class.MonadTC.html#10242" class="Bound">args</a>
      <a id="10280" href="Class.MonadTC.html#9920" class="Function">isAppliedToUnknownsAndMetas</a> <a id="10308" class="Symbol">(</a><a id="10309" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="10314" href="Class.MonadTC.html#10314" class="Bound">x</a> <a id="10316" href="Class.MonadTC.html#10316" class="Bound">args</a><a id="10320" class="Symbol">)</a>     <a id="10326" class="Symbol">=</a> <a id="10328" href="Class.MonadTC.html#9647" class="Function">isUnknownsAndMetas</a> <a id="10347" href="Class.MonadTC.html#10316" class="Bound">args</a>
      <a id="10358" href="Class.MonadTC.html#9920" class="CatchallClause Function">isAppliedToUnknownsAndMetas</a><a id="10385" class="CatchallClause"> </a><a id="10386" class="CatchallClause Symbol">_</a>                 <a id="10404" class="Symbol">=</a> <a id="10406" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

  <a id="10414" href="Class.MonadTC.html#10414" class="Function">extendContext</a> <a id="10428" class="Symbol">:</a> <a id="10430" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="10437" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10439" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="10443" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="10448" class="Symbol">→</a> <a id="10450" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="10452" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="10454" class="Symbol">→</a> <a id="10456" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="10458" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="10462" href="Class.MonadTC.html#10414" class="Function">extendContext</a> <a id="10476" href="Class.MonadTC.html#10476" class="Bound">ty</a> <a id="10479" class="Symbol">=</a> <a id="10481" href="Class.MonadReader.html#340" class="Field">local</a> <a id="10487" class="Symbol">λ</a> <a id="10489" class="Keyword">where</a> <a id="10495" href="Class.MonadTC.html#10495" class="Bound">e</a><a id="10496" class="Symbol">@</a><a id="10497" class="Keyword">record</a> <a id="10504" class="Symbol">{</a> <a id="10506" href="Class.MonadTC.html#1041" class="Field">localContext</a> <a id="10519" class="Symbol">=</a> <a id="10521" href="Class.MonadTC.html#10521" class="Bound">Γ</a> <a id="10523" class="Symbol">}</a> <a id="10525" class="Symbol">→</a> <a id="10527" class="Keyword">record</a> <a id="10534" href="Class.MonadTC.html#10495" class="Bound">e</a> <a id="10536" class="Symbol">{</a> <a id="10538" href="Class.MonadTC.html#1041" class="Field">localContext</a> <a id="10551" class="Symbol">=</a> <a id="10553" href="Class.MonadTC.html#10476" class="Bound">ty</a> <a id="10556" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10558" href="Class.MonadTC.html#10521" class="Bound">Γ</a> <a id="10560" class="Symbol">}</a>

  <a id="10565" href="Class.MonadTC.html#10565" class="Function">getContext</a> <a id="10576" class="Symbol">:</a> <a id="10578" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="10580" href="Reflection.AST.Term.html#2011" class="Function">Telescope</a>
  <a id="10592" href="Class.MonadTC.html#10565" class="Function">getContext</a> <a id="10603" class="Symbol">=</a> <a id="10605" href="Class.MonadReader.html#391" class="Function">reader</a> <a id="10612" class="Symbol">λ</a> <a id="10614" class="Keyword">where</a>
    <a id="10624" href="Class.MonadTC.html#10624" class="Bound">e</a><a id="10625" class="Symbol">@</a><a id="10626" class="Keyword">record</a> <a id="10633" class="Symbol">{</a> <a id="10635" href="Class.MonadTC.html#1041" class="Field">localContext</a> <a id="10648" class="Symbol">=</a> <a id="10650" href="Class.MonadTC.html#10650" class="Bound">Γ</a> <a id="10652" class="Symbol">;</a> <a id="10654" href="Class.MonadTC.html#1010" class="Field">globalContext</a> <a id="10668" class="Symbol">=</a> <a id="10670" href="Class.MonadTC.html#10670" class="Bound">Γ&#39;</a> <a id="10673" class="Symbol">}</a> <a id="10675" class="Symbol">→</a> <a id="10677" href="Class.MonadTC.html#10650" class="Bound">Γ</a> <a id="10679" href="Data.List.Base.html#1734" class="Function Operator">Data.List.++</a> <a id="10692" href="Class.MonadTC.html#10670" class="Bound">Γ&#39;</a>

  <a id="10698" href="Class.MonadTC.html#10698" class="Function">getLocalContext</a> <a id="10714" class="Symbol">:</a> <a id="10716" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="10718" href="Reflection.AST.Term.html#2011" class="Function">Telescope</a>
  <a id="10730" href="Class.MonadTC.html#10698" class="Function">getLocalContext</a> <a id="10746" class="Symbol">=</a> <a id="10748" href="Class.MonadReader.html#391" class="Function">reader</a> <a id="10755" class="Symbol">λ</a> <a id="10757" class="Keyword">where</a> <a id="10763" href="Class.MonadTC.html#10763" class="Bound">e</a><a id="10764" class="Symbol">@</a><a id="10765" class="Keyword">record</a> <a id="10772" class="Symbol">{</a> <a id="10774" href="Class.MonadTC.html#1041" class="Field">localContext</a> <a id="10787" class="Symbol">=</a> <a id="10789" href="Class.MonadTC.html#10789" class="Bound">Γ</a> <a id="10791" class="Symbol">}</a> <a id="10793" class="Symbol">→</a> <a id="10795" href="Class.MonadTC.html#10789" class="Bound">Γ</a>

  <a id="10800" href="Class.MonadTC.html#10800" class="Function">inContext</a> <a id="10810" class="Symbol">:</a> <a id="10812" href="Reflection.AST.Term.html#2011" class="Function">Telescope</a> <a id="10822" class="Symbol">→</a> <a id="10824" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="10826" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="10828" class="Symbol">→</a> <a id="10830" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="10832" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="10836" href="Class.MonadTC.html#10800" class="Function">inContext</a> <a id="10846" href="Class.MonadTC.html#10846" class="Bound">ctx</a> <a id="10850" class="Symbol">=</a> <a id="10852" href="Class.MonadReader.html#340" class="Field">local</a> <a id="10858" class="Symbol">λ</a> <a id="10860" href="Class.MonadTC.html#10860" class="Bound">e</a> <a id="10862" class="Symbol">→</a> <a id="10864" class="Keyword">record</a> <a id="10871" href="Class.MonadTC.html#10860" class="Bound">e</a> <a id="10873" class="Symbol">{</a> <a id="10875" href="Class.MonadTC.html#1041" class="Field">localContext</a> <a id="10888" class="Symbol">=</a> <a id="10890" href="Class.MonadTC.html#10846" class="Bound">ctx</a> <a id="10894" class="Symbol">}</a>

  <a id="10899" class="Comment">-- extend context by multiple variables</a>
  <a id="10941" href="Class.MonadTC.html#10941" class="Function">extendContext&#39;</a> <a id="10956" class="Symbol">:</a> <a id="10958" href="Reflection.AST.Term.html#2011" class="Function">Telescope</a> <a id="10968" class="Symbol">→</a> <a id="10970" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="10972" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="10974" class="Symbol">→</a> <a id="10976" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="10978" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="10982" href="Class.MonadTC.html#10941" class="Function">extendContext&#39;</a> <a id="10997" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11000" href="Class.MonadTC.html#11000" class="Bound">x</a> <a id="11002" class="Symbol">=</a> <a id="11004" href="Class.MonadTC.html#11000" class="Bound">x</a>
  <a id="11008" href="Class.MonadTC.html#10941" class="Function">extendContext&#39;</a> <a id="11023" class="Symbol">(</a><a id="11024" href="Class.MonadTC.html#11024" class="Bound">c</a> <a id="11026" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11028" href="Class.MonadTC.html#11028" class="Bound">cs</a><a id="11030" class="Symbol">)</a> <a id="11032" href="Class.MonadTC.html#11032" class="Bound">x</a> <a id="11034" class="Symbol">=</a> <a id="11036" href="Class.MonadTC.html#10414" class="Function">extendContext</a> <a id="11050" href="Class.MonadTC.html#11024" class="Bound">c</a> <a id="11052" class="Symbol">(</a><a id="11053" href="Class.MonadTC.html#10941" class="Function">extendContext&#39;</a> <a id="11068" href="Class.MonadTC.html#11028" class="Bound">cs</a> <a id="11071" href="Class.MonadTC.html#11032" class="Bound">x</a><a id="11072" class="Symbol">)</a>

  <a id="11077" href="Class.MonadTC.html#11077" class="Function">dropContext</a> <a id="11089" class="Symbol">:</a> <a id="11091" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="11093" class="Symbol">→</a> <a id="11095" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11097" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="11099" class="Symbol">→</a> <a id="11101" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11103" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="11107" href="Class.MonadTC.html#11077" class="Function">dropContext</a> <a id="11119" href="Class.MonadTC.html#11119" class="Bound">n</a> <a id="11121" href="Class.MonadTC.html#11121" class="Bound">x</a> <a id="11123" class="Symbol">=</a> <a id="11125" class="Keyword">do</a>
    <a id="11132" href="Class.MonadTC.html#11132" class="Bound">ctx</a> <a id="11136" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="11138" href="Class.MonadTC.html#10565" class="Function">getContext</a>
    <a id="11153" href="Class.MonadTC.html#10800" class="Function">inContext</a> <a id="11163" class="Symbol">(</a><a id="11164" href="Data.List.Base.html#8807" class="Function">drop</a> <a id="11169" href="Class.MonadTC.html#11119" class="Bound">n</a> <a id="11171" href="Class.MonadTC.html#11132" class="Bound">ctx</a><a id="11174" class="Symbol">)</a> <a id="11176" href="Class.MonadTC.html#11121" class="Bound">x</a>

  <a id="11181" href="Class.MonadTC.html#11181" class="Function">logAndError</a> <a id="11193" class="Symbol">:</a> <a id="11195" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11200" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a> <a id="11210" class="Symbol">→</a> <a id="11212" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11214" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="11218" href="Class.MonadTC.html#11181" class="Function">logAndError</a> <a id="11230" href="Class.MonadTC.html#11230" class="Bound">e</a> <a id="11232" class="Symbol">=</a> <a id="11234" href="Class.MonadTC.html#8261" class="Function">debugLog</a> <a id="11243" href="Class.MonadTC.html#11230" class="Bound">e</a> <a id="11245" href="Class.Monad.Core.html#324" class="Function Operator">&gt;&gt;</a> <a id="11248" href="Class.MonadError.html#344" class="Function">error</a> <a id="11254" href="Class.MonadTC.html#11230" class="Bound">e</a>

  <a id="11259" href="Class.MonadTC.html#11259" class="Function">error1</a> <a id="11266" class="Symbol">:</a> <a id="11268" class="Symbol">⦃</a> <a id="11270" href="Reflection.Debug.html#357" class="Record">IsErrorPart</a> <a id="11282" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="11284" class="Symbol">⦄</a> <a id="11286" class="Symbol">→</a> <a id="11288" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="11290" class="Symbol">→</a> <a id="11292" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11294" href="Class.MonadTC.html#469" class="Generalizable">B</a>
  <a id="11298" href="Class.MonadTC.html#11259" class="Function">error1</a> <a id="11305" href="Class.MonadTC.html#11305" class="Bound">a</a> <a id="11307" class="Symbol">=</a> <a id="11309" href="Class.MonadError.html#344" class="Function">error</a> <a id="11315" class="Symbol">(</a><a id="11316" href="Class.MonadTC.html#11305" class="Bound">a</a> <a id="11318" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="11321" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="11323" class="Symbol">)</a>

  <a id="11328" href="Class.MonadTC.html#11328" class="Function">debugLog1</a> <a id="11338" class="Symbol">:</a> <a id="11340" class="Symbol">⦃</a> <a id="11342" href="Reflection.Debug.html#357" class="Record">IsErrorPart</a> <a id="11354" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="11356" class="Symbol">⦄</a> <a id="11358" class="Symbol">→</a> <a id="11360" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="11362" class="Symbol">→</a> <a id="11364" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11366" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="11370" href="Class.MonadTC.html#11328" class="Function">debugLog1</a> <a id="11380" href="Class.MonadTC.html#11380" class="Bound">a</a> <a id="11382" class="Symbol">=</a> <a id="11384" href="Class.MonadTC.html#8261" class="Function">debugLog</a> <a id="11393" class="Symbol">(</a><a id="11394" href="Class.MonadTC.html#11380" class="Bound">a</a> <a id="11396" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="11399" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="11401" class="Symbol">)</a>

  <a id="11406" href="Class.MonadTC.html#11406" class="Function">logAndError1</a> <a id="11419" class="Symbol">:</a> <a id="11421" class="Symbol">⦃</a> <a id="11423" href="Reflection.Debug.html#357" class="Record">IsErrorPart</a> <a id="11435" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="11437" class="Symbol">⦄</a> <a id="11439" class="Symbol">→</a> <a id="11441" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="11443" class="Symbol">→</a> <a id="11445" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11447" href="Class.MonadTC.html#469" class="Generalizable">B</a>
  <a id="11451" href="Class.MonadTC.html#11406" class="Function">logAndError1</a> <a id="11464" href="Class.MonadTC.html#11464" class="Bound">a</a> <a id="11466" class="Symbol">=</a> <a id="11468" href="Class.MonadTC.html#11328" class="Function">debugLog1</a> <a id="11478" href="Class.MonadTC.html#11464" class="Bound">a</a> <a id="11480" href="Class.Monad.Core.html#324" class="Function Operator">&gt;&gt;</a> <a id="11483" href="Class.MonadTC.html#11259" class="Function">error1</a> <a id="11490" href="Class.MonadTC.html#11464" class="Bound">a</a>

  <a id="11495" href="Class.MonadTC.html#11495" class="Function">markDontFail</a> <a id="11508" class="Symbol">:</a> <a id="11510" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="11517" class="Symbol">→</a> <a id="11519" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11521" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="11523" class="Symbol">→</a> <a id="11525" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11527" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="11531" href="Class.MonadTC.html#11495" class="Function">markDontFail</a> <a id="11544" href="Class.MonadTC.html#11544" class="Bound">s</a> <a id="11546" href="Class.MonadTC.html#11546" class="Bound">x</a> <a id="11548" class="Symbol">=</a> <a id="11550" href="Class.MonadError.html#364" class="Function">catch</a> <a id="11556" href="Class.MonadTC.html#11546" class="Bound">x</a> <a id="11558" class="Symbol">λ</a> <a id="11560" href="Class.MonadTC.html#11560" class="Bound">e</a> <a id="11562" class="Symbol">→</a> <a id="11564" href="Class.MonadTC.html#11181" class="Function">logAndError</a> <a id="11576" class="Symbol">(</a><a id="11577" href="Class.MonadTC.html#11544" class="Bound">s</a> <a id="11579" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="11582" class="String">&quot; should never fail! This is a bug!\nError:\n&quot;</a> <a id="11629" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="11632" href="Class.MonadTC.html#11560" class="Bound">e</a><a id="11633" class="Symbol">)</a>

  <a id="11638" href="Class.MonadTC.html#11638" class="Function">goalTy</a> <a id="11645" class="Symbol">:</a> <a id="11647" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11649" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a>
  <a id="11656" href="Class.MonadTC.html#11638" class="Function">goalTy</a> <a id="11663" class="Symbol">=</a> <a id="11665" class="Keyword">do</a>
    <a id="11672" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="11677" href="Class.MonadTC.html#11677" class="Bound">t</a> <a id="11679" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="11681" href="Class.MonadReader.html#391" class="Function">reader</a> <a id="11688" href="Class.MonadTC.html#1072" class="Field">TCEnv.goal</a>
      <a id="11705" class="Keyword">where</a> <a id="11711" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="11716" href="Class.MonadTC.html#11716" class="Bound">T</a> <a id="11718" class="Symbol">→</a> <a id="11720" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="11727" href="Class.MonadTC.html#11716" class="Bound">T</a>
    <a id="11733" href="Class.MonadTC.html#1798" class="Function">inferType</a> <a id="11743" href="Class.MonadTC.html#11677" class="Bound">t</a>

  <a id="11748" class="Comment">-- take the first result if it&#39;s a just, otherwise reset the state and</a>
  <a id="11821" class="Comment">-- run the second computation</a>
  <a id="11853" href="Class.MonadTC.html#11853" class="Function">runSpeculativeMaybe</a> <a id="11873" class="Symbol">:</a> <a id="11875" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11877" class="Symbol">(</a><a id="11878" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="11884" href="Class.MonadTC.html#467" class="Generalizable">A</a><a id="11885" class="Symbol">)</a> <a id="11887" class="Symbol">→</a> <a id="11889" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11891" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="11893" class="Symbol">→</a> <a id="11895" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="11897" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="11901" href="Class.MonadTC.html#11853" class="Function">runSpeculativeMaybe</a> <a id="11921" href="Class.MonadTC.html#11921" class="Bound">x</a> <a id="11923" href="Class.MonadTC.html#11923" class="Bound">y</a> <a id="11925" class="Symbol">=</a> <a id="11927" class="Keyword">do</a>
    <a id="11934" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="11942" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="11944" href="Class.MonadTC.html#2482" class="Function">runSpeculative</a> <a id="11959" class="Symbol">(</a><a id="11960" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="11962" href="Function.Base.html#704" class="Function">id</a> <a id="11965" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="11967" href="Data.Maybe.Base.html#1117" class="Function">is-just</a> <a id="11975" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="11977" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="11981" href="Class.MonadTC.html#11921" class="Bound">x</a><a id="11982" class="Symbol">)</a>
      <a id="11990" class="Keyword">where</a> <a id="11996" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12001" href="Class.MonadTC.html#12001" class="Bound">a</a> <a id="12003" class="Symbol">→</a> <a id="12005" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="12012" href="Class.MonadTC.html#12001" class="Bound">a</a>
    <a id="12018" href="Class.MonadTC.html#11923" class="Bound">y</a>

  <a id="12023" href="Class.MonadTC.html#12023" class="Function">try</a> <a id="12027" class="Symbol">:</a> <a id="12029" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="12034" class="Symbol">(</a><a id="12035" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="12037" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="12038" class="Symbol">)</a> <a id="12040" class="Symbol">→</a> <a id="12042" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="12044" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="12046" class="Symbol">→</a> <a id="12048" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="12050" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="12054" href="Class.MonadTC.html#12023" class="Function">try</a> <a id="12058" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="12061" href="Class.MonadTC.html#12061" class="Bound">e</a> <a id="12063" class="Symbol">=</a> <a id="12065" href="Class.MonadTC.html#12061" class="Bound">e</a>
  <a id="12069" href="Class.MonadTC.html#12023" class="Function">try</a> <a id="12073" class="Symbol">(</a><a id="12074" href="Class.MonadTC.html#12074" class="Bound">x</a> <a id="12076" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12078" href="Class.MonadTC.html#12078" class="Bound">cs</a><a id="12080" class="Symbol">)</a> <a id="12082" href="Class.MonadTC.html#12082" class="Bound">e</a> <a id="12084" class="Symbol">=</a> <a id="12086" href="Class.MonadError.html#364" class="Field">MonadError.catch</a> <a id="12103" href="Class.MonadTC.html#6797" class="Bound">me</a> <a id="12106" href="Class.MonadTC.html#12074" class="Bound">x</a> <a id="12108" class="Symbol">(λ</a> <a id="12111" href="Class.MonadTC.html#12111" class="Bound">_</a> <a id="12113" class="Symbol">→</a> <a id="12115" href="Class.MonadTC.html#12023" class="Function">try</a> <a id="12119" href="Class.MonadTC.html#12078" class="Bound">cs</a> <a id="12122" href="Class.MonadTC.html#12082" class="Bound">e</a><a id="12123" class="Symbol">)</a>

  <a id="12128" href="Class.MonadTC.html#12128" class="Function">getConstrs</a> <a id="12139" class="Symbol">:</a> <a id="12141" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="12146" class="Symbol">→</a> <a id="12148" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="12150" class="Symbol">(</a><a id="12151" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="12156" class="Symbol">(</a><a id="12157" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="12162" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12164" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="12168" class="Symbol">))</a>
  <a id="12173" href="Class.MonadTC.html#12128" class="Function">getConstrs</a> <a id="12184" href="Class.MonadTC.html#12184" class="Bound">n</a> <a id="12186" class="Symbol">=</a> <a id="12188" class="Keyword">do</a>
    <a id="12195" href="Class.MonadTC.html#12195" class="Bound">d</a> <a id="12197" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="12199" href="Class.MonadTC.html#2284" class="Function">getDefinition</a> <a id="12213" href="Class.MonadTC.html#12184" class="Bound">n</a>
    <a id="12219" href="Class.MonadTC.html#12219" class="Bound">cs</a> <a id="12222" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="12224" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="12229" href="Class.MonadTC.html#12195" class="Bound">d</a> <a id="12231" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="12234" class="Symbol">λ</a> <a id="12236" class="Keyword">where</a>
      <a id="12248" class="Symbol">(</a><a id="12249" href="Agda.Builtin.Reflection.html#7617" class="InductiveConstructor">record′</a> <a id="12257" href="Class.MonadTC.html#12257" class="Bound">c</a> <a id="12259" href="Class.MonadTC.html#12259" class="Bound">fs</a><a id="12261" class="Symbol">)</a>  <a id="12264" class="Symbol">→</a> <a id="12266" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="12273" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="12275" href="Class.MonadTC.html#12257" class="Bound">c</a> <a id="12277" href="Data.List.Base.html#5205" class="Function Operator">]</a>
      <a id="12285" class="Symbol">(</a><a id="12286" href="Agda.Builtin.Reflection.html#7558" class="InductiveConstructor">data-type</a> <a id="12296" href="Class.MonadTC.html#12296" class="Bound">pars</a> <a id="12301" href="Class.MonadTC.html#12301" class="Bound">cs</a><a id="12303" class="Symbol">)</a> <a id="12305" class="Symbol">→</a> <a id="12307" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="12314" href="Class.MonadTC.html#12301" class="Bound">cs</a>
      <a id="12323" class="CatchallClause Symbol">_</a>                   <a id="12343" class="Symbol">→</a> <a id="12345" href="Class.MonadError.html#344" class="Function">error</a> <a id="12351" class="Symbol">(</a><a id="12352" href="Class.MonadTC.html#12184" class="Bound">n</a> <a id="12354" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="12357" class="String">&quot;is not a data or record definition!&quot;</a> <a id="12395" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="12398" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="12400" class="Symbol">)</a>
    <a id="12406" href="Class.Traversable.Core.html#288" class="Function">traverse</a> <a id="12415" class="Symbol">(λ</a> <a id="12418" href="Class.MonadTC.html#12418" class="Bound">n</a> <a id="12420" class="Symbol">→</a> <a id="12422" class="Symbol">(</a><a id="12423" href="Class.MonadTC.html#12418" class="Bound">n</a> <a id="12425" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="12427" class="Symbol">)</a> <a id="12429" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="12433" class="Symbol">(</a><a id="12434" href="Class.MonadTC.html#1879" class="Function">normalise</a> <a id="12444" href="Class.Monad.Core.html#379" class="Function Operator">=&lt;&lt;</a> <a id="12448" href="Class.MonadTC.html#2247" class="Function">getType</a> <a id="12456" href="Class.MonadTC.html#12418" class="Bound">n</a><a id="12457" class="Symbol">))</a> <a id="12460" class="Symbol">(</a><a id="12461" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="12466" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="12471" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="12473" href="Class.MonadTC.html#12219" class="Bound">cs</a><a id="12475" class="Symbol">)</a>

  <a id="12480" href="Class.MonadTC.html#12480" class="Function">getConstrsForType</a> <a id="12498" class="Symbol">:</a> <a id="12500" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="12505" class="Symbol">→</a> <a id="12507" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="12509" class="Symbol">(</a><a id="12510" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="12515" class="Symbol">(</a><a id="12516" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="12521" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12523" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="12527" class="Symbol">))</a>
  <a id="12532" href="Class.MonadTC.html#12480" class="Function">getConstrsForType</a> <a id="12550" href="Class.MonadTC.html#12550" class="Bound">ty</a> <a id="12553" class="Symbol">=</a> <a id="12555" class="Keyword">do</a>
    <a id="12562" class="Symbol">(</a><a id="12563" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="12567" href="Class.MonadTC.html#12567" class="Bound">n</a> <a id="12569" class="Symbol">_)</a> <a id="12572" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="12574" href="Class.MonadTC.html#1879" class="Function">normalise</a> <a id="12584" href="Class.MonadTC.html#12550" class="Bound">ty</a>
      <a id="12593" class="Keyword">where</a> <a id="12599" class="CatchallClause Symbol">_</a> <a id="12601" class="Symbol">→</a> <a id="12603" href="Class.MonadError.html#344" class="Function">error</a> <a id="12609" class="Symbol">(</a><a id="12610" href="Class.MonadTC.html#12550" class="Bound">ty</a> <a id="12613" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="12616" class="String">&quot;does not reduce to a definition!&quot;</a> <a id="12651" href="Reflection.Debug.html#1115" class="Function Operator">∷ᵈ</a> <a id="12654" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="12656" class="Symbol">)</a>
    <a id="12662" href="Class.MonadTC.html#12128" class="Function">getConstrs</a> <a id="12673" href="Class.MonadTC.html#12567" class="Bound">n</a>

  <a id="12678" href="Class.MonadTC.html#12678" class="Function">getConstrsForTerm</a> <a id="12696" class="Symbol">:</a> <a id="12698" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="12703" class="Symbol">→</a> <a id="12705" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="12707" class="Symbol">(</a><a id="12708" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="12713" class="Symbol">(</a><a id="12714" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="12719" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12721" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="12725" class="Symbol">))</a>
  <a id="12730" href="Class.MonadTC.html#12678" class="Function">getConstrsForTerm</a> <a id="12748" href="Class.MonadTC.html#12748" class="Bound">t</a> <a id="12750" class="Symbol">=</a> <a id="12752" href="Class.MonadTC.html#12480" class="Function">getConstrsForType</a> <a id="12770" href="Class.Monad.Core.html#379" class="Function Operator">=&lt;&lt;</a> <a id="12774" href="Class.MonadTC.html#1798" class="Function">inferType</a> <a id="12784" href="Class.MonadTC.html#12748" class="Bound">t</a>

  <a id="12789" class="Comment">-- run a TC computation to arrive at the term under the binder for the pattern</a>
  <a id="12870" href="Class.MonadTC.html#12870" class="Function">withPattern</a> <a id="12882" class="Symbol">:</a> <a id="12884" href="Reflection.AST.Term.html#2011" class="Function">Telescope</a> <a id="12894" class="Symbol">→</a> <a id="12896" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="12901" class="Symbol">(</a><a id="12902" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="12906" href="Agda.Builtin.Reflection.html#5031" class="Datatype">Pattern</a><a id="12913" class="Symbol">)</a> <a id="12915" class="Symbol">→</a> <a id="12917" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="12919" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="12924" class="Symbol">→</a> <a id="12926" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="12928" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a>
  <a id="12937" href="Class.MonadTC.html#12870" class="Function">withPattern</a> <a id="12949" href="Class.MonadTC.html#12949" class="Bound">tel</a> <a id="12953" href="Class.MonadTC.html#12953" class="Bound">ps</a> <a id="12956" href="Class.MonadTC.html#12956" class="Bound">t</a> <a id="12958" class="Symbol">=</a> <a id="12960" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">Clause.clause</a> <a id="12974" href="Class.MonadTC.html#12949" class="Bound">tel</a> <a id="12978" href="Class.MonadTC.html#12953" class="Bound">ps</a> <a id="12981" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="12985" href="Class.MonadTC.html#10941" class="Function">extendContext&#39;</a> <a id="13000" href="Class.MonadTC.html#12949" class="Bound">tel</a> <a id="13004" href="Class.MonadTC.html#12956" class="Bound">t</a>

  <a id="13009" href="Class.MonadTC.html#13009" class="Function">unifyWithGoal</a> <a id="13023" class="Symbol">:</a> <a id="13025" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="13030" class="Symbol">→</a> <a id="13032" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="13034" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="13038" href="Class.MonadTC.html#13009" class="Function">unifyWithGoal</a> <a id="13052" href="Class.MonadTC.html#13052" class="Bound">t</a> <a id="13054" class="Symbol">=</a> <a id="13056" class="Keyword">do</a>
    <a id="13063" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13068" href="Class.MonadTC.html#13068" class="Bound">t&#39;</a> <a id="13071" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="13073" href="Class.MonadReader.html#391" class="Function">reader</a> <a id="13080" href="Class.MonadTC.html#1072" class="Field">TCEnv.goal</a>
      <a id="13097" class="Keyword">where</a> <a id="13103" class="CatchallClause Symbol">_</a> <a id="13105" class="Symbol">→</a> <a id="13107" href="Class.MonadTC.html#11259" class="Function">error1</a> <a id="13114" class="String">&quot;unifyWithGoal: Goal is not a term!&quot;</a>
    <a id="13155" href="Class.MonadTC.html#1697" class="Function">unify</a> <a id="13161" href="Class.MonadTC.html#13068" class="Bound">t&#39;</a> <a id="13164" href="Class.MonadTC.html#13052" class="Bound">t</a>

  <a id="13169" href="Class.MonadTC.html#13169" class="Function">runWithHole</a> <a id="13181" class="Symbol">:</a> <a id="13183" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="13188" class="Symbol">→</a> <a id="13190" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="13192" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="13194" class="Symbol">→</a> <a id="13196" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="13198" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="13202" href="Class.MonadTC.html#13169" class="Function">runWithHole</a> <a id="13214" href="Class.MonadTC.html#13214" class="Bound">t</a> <a id="13216" class="Symbol">=</a> <a id="13218" href="Class.MonadReader.html#340" class="Field">local</a> <a id="13224" class="Symbol">(λ</a> <a id="13227" href="Class.MonadTC.html#13227" class="Bound">env</a> <a id="13231" class="Symbol">→</a> <a id="13233" class="Keyword">record</a> <a id="13240" href="Class.MonadTC.html#13227" class="Bound">env</a> <a id="13244" class="Symbol">{</a> <a id="13246" href="Class.MonadTC.html#1072" class="Field">goal</a> <a id="13251" class="Symbol">=</a> <a id="13253" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13258" href="Class.MonadTC.html#13214" class="Bound">t</a> <a id="13260" class="Symbol">})</a>

  <a id="13266" href="Class.MonadTC.html#13266" class="Function">runWithGoalTy</a> <a id="13280" class="Symbol">:</a> <a id="13282" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="13287" class="Symbol">→</a> <a id="13289" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="13291" href="Class.MonadTC.html#467" class="Generalizable">A</a> <a id="13293" class="Symbol">→</a> <a id="13295" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="13297" href="Class.MonadTC.html#467" class="Generalizable">A</a>
  <a id="13301" href="Class.MonadTC.html#13266" class="Function">runWithGoalTy</a> <a id="13315" href="Class.MonadTC.html#13315" class="Bound">t</a> <a id="13317" class="Symbol">=</a> <a id="13319" href="Class.MonadReader.html#340" class="Field">local</a> <a id="13325" class="Symbol">(λ</a> <a id="13328" href="Class.MonadTC.html#13328" class="Bound">env</a> <a id="13332" class="Symbol">→</a> <a id="13334" class="Keyword">record</a> <a id="13341" href="Class.MonadTC.html#13328" class="Bound">env</a> <a id="13345" class="Symbol">{</a> <a id="13347" href="Class.MonadTC.html#1072" class="Field">goal</a> <a id="13352" class="Symbol">=</a> <a id="13354" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="13359" href="Class.MonadTC.html#13315" class="Bound">t</a> <a id="13361" class="Symbol">})</a>

  <a id="13367" href="Class.MonadTC.html#13367" class="Function">goalHole</a> <a id="13376" class="Symbol">:</a> <a id="13378" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="13380" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="13387" href="Class.MonadTC.html#13367" class="Function">goalHole</a> <a id="13396" class="Symbol">=</a> <a id="13398" class="Keyword">do</a>
    <a id="13405" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="13410" href="Class.MonadTC.html#13410" class="Bound">T</a> <a id="13412" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="13414" href="Class.MonadReader.html#391" class="Function">reader</a> <a id="13421" href="Class.MonadTC.html#1072" class="Field">TCEnv.goal</a>
      <a id="13438" class="Keyword">where</a> <a id="13444" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13449" href="Class.MonadTC.html#13449" class="Bound">hole</a> <a id="13454" class="Symbol">→</a> <a id="13456" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="13463" href="Class.MonadTC.html#13449" class="Bound">hole</a>
    <a id="13472" href="Class.MonadTC.html#6685" class="Function">newMeta</a> <a id="13480" href="Class.MonadTC.html#13410" class="Bound">T</a>

  <a id="13485" href="Class.MonadTC.html#13485" class="Function">withGoalHole</a> <a id="13498" class="Symbol">:</a> <a id="13500" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="13502" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="13504" class="Symbol">→</a> <a id="13506" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="13508" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="13515" href="Class.MonadTC.html#13485" class="Function">withGoalHole</a> <a id="13528" href="Class.MonadTC.html#13528" class="Bound">tac</a> <a id="13532" class="Symbol">=</a> <a id="13534" class="Keyword">do</a>
    <a id="13541" href="Class.MonadTC.html#13541" class="Bound">hole</a> <a id="13546" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="13548" href="Class.MonadTC.html#13367" class="Function">goalHole</a>
    <a id="13561" href="Class.MonadTC.html#13169" class="Function">runWithHole</a> <a id="13573" href="Class.MonadTC.html#13541" class="Bound">hole</a> <a id="13578" href="Class.MonadTC.html#13528" class="Bound">tac</a>
    <a id="13586" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="13593" href="Class.MonadTC.html#13541" class="Bound">hole</a>

  <a id="13601" class="Comment">-- Finding all instance candidates of a given type.</a>
  <a id="13655" href="Class.MonadTC.html#13655" class="Function">findInstances</a> <a id="13669" class="Symbol">:</a> <a id="13671" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="13676" class="Symbol">→</a> <a id="13678" href="Class.MonadTC.html#6750" class="Bound">M</a> <a id="13680" class="Symbol">(</a><a id="13681" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="13686" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="13690" class="Symbol">)</a>
  <a id="13694" href="Class.MonadTC.html#13655" class="Function">findInstances</a> <a id="13708" href="Class.MonadTC.html#13708" class="Bound">ty</a> <a id="13711" class="Symbol">=</a> <a id="13713" href="Class.MonadTC.html#2622" class="Function">runAndReset</a> <a id="13725" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13727" class="Keyword">do</a>
    <a id="13734" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13739" href="Class.MonadTC.html#13739" class="Bound">m</a> <a id="13741" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="13743" href="Class.MonadTC.html#13925" class="Function">findMeta</a> <a id="13752" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="13756" href="Class.MonadTC.html#6685" class="Function">newMeta</a> <a id="13764" href="Class.MonadTC.html#13708" class="Bound">ty</a>
      <a id="13773" class="Keyword">where</a> <a id="13779" class="CatchallClause Symbol">_</a> <a id="13781" class="Symbol">→</a> <a id="13783" href="Class.MonadTC.html#11259" class="Function">error1</a> <a id="13790" class="String">&quot;[findInstances] newMeta did not produce meta-variable!&quot;</a>
    <a id="13851" href="Class.MonadTC.html#2524" class="Function">getInstances</a> <a id="13864" href="Class.MonadTC.html#13739" class="Bound">m</a>
    <a id="13870" class="Keyword">where</a>
      <a id="13882" class="Keyword">open</a> <a id="13887" class="Keyword">import</a> <a id="13894" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="13905" class="Keyword">using</a> <a id="13911" class="Symbol">(</a><a id="13912" href="Data.Maybe.Base.html#2264" class="Function Operator">_&lt;∣&gt;_</a><a id="13917" class="Symbol">)</a>
      <a id="13925" href="Class.MonadTC.html#13925" class="Function">findMeta</a> <a id="13934" class="Symbol">=</a> <a id="13936" class="Symbol">λ</a> <a id="13938" class="Keyword">where</a>
        <a id="13952" class="Symbol">(</a><a id="13953" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="13956" class="Symbol">(</a><a id="13957" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="13961" class="Symbol">_</a> <a id="13963" href="Class.MonadTC.html#13963" class="Bound">ty</a><a id="13965" class="Symbol">)</a> <a id="13967" class="Symbol">(</a><a id="13968" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="13972" class="Symbol">_</a> <a id="13974" href="Class.MonadTC.html#13974" class="Bound">t</a><a id="13975" class="Symbol">))</a> <a id="13978" class="Symbol">→</a> <a id="13980" href="Class.MonadTC.html#13925" class="Function">findMeta</a> <a id="13989" href="Class.MonadTC.html#13963" class="Bound">ty</a> <a id="13992" href="Data.Maybe.Base.html#2264" class="Function Operator">&lt;∣&gt;</a> <a id="13996" href="Class.MonadTC.html#13925" class="Function">findMeta</a> <a id="14005" href="Class.MonadTC.html#13974" class="Bound">t</a>
        <a id="14015" class="Symbol">(</a><a id="14016" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="14020" class="Symbol">_</a> <a id="14022" class="Symbol">(</a><a id="14023" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="14027" class="Symbol">_</a> <a id="14029" href="Class.MonadTC.html#14029" class="Bound">t</a><a id="14030" class="Symbol">))</a>         <a id="14041" class="Symbol">→</a> <a id="14043" href="Class.MonadTC.html#13925" class="Function">findMeta</a> <a id="14052" href="Class.MonadTC.html#14029" class="Bound">t</a>
        <a id="14062" class="Symbol">(</a><a id="14063" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="14068" href="Class.MonadTC.html#14068" class="Bound">m</a> <a id="14070" class="Symbol">_)</a>                <a id="14088" class="Symbol">→</a> <a id="14090" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14095" href="Class.MonadTC.html#14068" class="Bound">m</a>
        <a id="14105" class="CatchallClause Symbol">_</a>                         <a id="14131" class="Symbol">→</a> <a id="14133" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="MonadTC-TC"></a><a id="14142" href="Class.MonadTC.html#14142" class="Function">MonadTC-TC</a> <a id="14153" class="Symbol">:</a> <a id="14155" href="Class.MonadTC.html#1565" class="Record">MonadTC</a> <a id="14163" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="14168" class="Symbol">⦃</a> <a id="14170" href="Class.Monad.Instances.html#132" class="Function">Monad-TC</a> <a id="14179" class="Symbol">⦄</a> <a id="14181" class="Symbol">⦃</a> <a id="14183" href="Class.MonadError.html#412" class="Function">MonadError-TC</a> <a id="14197" class="Symbol">⦄</a>
<a id="14199" href="Class.MonadTC.html#14142" class="Function">MonadTC-TC</a> <a id="14210" class="Symbol">=</a> <a id="14212" class="Keyword">record</a> <a id="14219" class="Symbol">{</a> <a id="14221" href="Reflection.html" class="Module">R</a><a id="14222" class="Symbol">;</a> <a id="14224" href="Class.MonadTC.html#14224" class="Module">R&#39;</a> <a id="14227" class="Keyword">using</a> <a id="14233" class="Symbol">(</a><a id="14234" href="Agda.Builtin.Reflection.html#9210" class="Postulate">quoteωTC</a><a id="14242" class="Symbol">;</a> <a id="14244" href="Agda.Builtin.Reflection.html#10406" class="Postulate">withReconstructed</a><a id="14261" class="Symbol">;</a> <a id="14263" href="Agda.Builtin.Reflection.html#19479" class="Function">onlyReduceDefs</a><a id="14277" class="Symbol">;</a> <a id="14279" href="Agda.Builtin.Reflection.html#19494" class="Function">dontReduceDefs</a><a id="14293" class="Symbol">;</a> <a id="14295" href="Agda.Builtin.Reflection.html#11788" class="Postulate">getInstances</a><a id="14307" class="Symbol">)</a> <a id="14309" class="Symbol">}</a>
</pre></body></html>