<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Class.MonadTC</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/stdlib-meta/tree/master/Class/MonadTC.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">module</a> <a id="44" href="Class.MonadTC.html" class="Module">Class.MonadTC</a> <a id="58" class="Keyword">where</a>

<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="Prelude.html" class="Module">Prelude</a>

<a id="86" class="Keyword">open</a> <a id="91" class="Keyword">import</a> <a id="98" href="Data.List.html" class="Module">Data.List</a> <a id="108" class="Keyword">using</a> <a id="114" class="Symbol">(</a><a id="115" href="Data.List.Base.html#1544" class="Function">map</a><a id="118" class="Symbol">)</a>

<a id="121" class="Keyword">import</a> <a id="128" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a> <a id="152" class="Symbol">as</a> <a id="155" class="Module">R&#39;</a>
<a id="158" class="Keyword">import</a> <a id="165" href="Reflection.html" class="Module">Reflection</a> <a id="176" class="Symbol">as</a> <a id="179" class="Module">R</a>
<a id="181" class="Keyword">open</a> <a id="186" class="Keyword">import</a> <a id="193" href="Reflection.Syntax.html" class="Module">Reflection.Syntax</a>

<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Reflection.Debug.html" class="Module">Reflection.Debug</a>

<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Class.MonadReader.html" class="Module">Class.MonadReader</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="Class.MonadError.html" class="Module">Class.MonadError</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Class.Functor.html" class="Module">Class.Functor</a>
<a id="327" class="Keyword">open</a> <a id="332" class="Keyword">import</a> <a id="339" href="Class.Monad.html" class="Module">Class.Monad</a>
<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Class.Traversable.html" class="Module">Class.Traversable</a>


<a id="383" class="Keyword">private</a>
  <a id="393" class="Keyword">variable</a>
    <a id="406" href="Class.MonadTC.html#406" class="Generalizable">a</a> <a id="408" href="Class.MonadTC.html#408" class="Generalizable">f</a> <a id="410" class="Symbol">:</a> <a id="412" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="422" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="424" href="Class.MonadTC.html#424" class="Generalizable">B</a> <a id="426" class="Symbol">:</a> <a id="428" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="432" href="Class.MonadTC.html#408" class="Generalizable">f</a>

<a id="435" class="Keyword">data</a> <a id="ReductionOptions"></a><a id="440" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a> <a id="457" class="Symbol">:</a> <a id="459" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="463" class="Keyword">where</a>
  <a id="ReductionOptions.onlyReduce"></a><a id="471" href="Class.MonadTC.html#471" class="InductiveConstructor">onlyReduce</a> <a id="482" class="Symbol">:</a> <a id="484" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="489" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="494" class="Symbol">→</a> <a id="496" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a>
  <a id="ReductionOptions.dontReduce"></a><a id="515" href="Class.MonadTC.html#515" class="InductiveConstructor">dontReduce</a> <a id="526" class="Symbol">:</a> <a id="528" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="533" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="538" class="Symbol">→</a> <a id="540" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a>

<a id="reduceAll"></a><a id="558" href="Class.MonadTC.html#558" class="Function">reduceAll</a> <a id="568" class="Symbol">:</a> <a id="570" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a>
<a id="587" href="Class.MonadTC.html#558" class="Function">reduceAll</a> <a id="597" class="Symbol">=</a> <a id="599" href="Class.MonadTC.html#515" class="InductiveConstructor">dontReduce</a> <a id="610" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="614" class="Keyword">record</a> <a id="TCEnv"></a><a id="621" href="Class.MonadTC.html#621" class="Record">TCEnv</a> <a id="627" class="Symbol">:</a> <a id="629" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="633" class="Keyword">where</a>
  <a id="641" class="Keyword">field</a>
    <a id="TCEnv.normalisation"></a><a id="651" href="Class.MonadTC.html#651" class="Field">normalisation</a>  <a id="666" class="Symbol">:</a> <a id="668" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
    <a id="TCEnv.reconstruction"></a><a id="677" href="Class.MonadTC.html#677" class="Field">reconstruction</a> <a id="692" class="Symbol">:</a> <a id="694" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
    <a id="TCEnv.noConstraints"></a><a id="703" href="Class.MonadTC.html#703" class="Field">noConstraints</a>  <a id="718" class="Symbol">:</a> <a id="720" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
    <a id="TCEnv.reduction"></a><a id="729" href="Class.MonadTC.html#729" class="Field">reduction</a>      <a id="744" class="Symbol">:</a> <a id="746" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a>
    <a id="TCEnv.globalContext"></a><a id="767" href="Class.MonadTC.html#767" class="Field">globalContext</a>  <a id="782" class="Symbol">:</a> <a id="784" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="789" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="791" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="795" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a>
    <a id="TCEnv.localContext"></a><a id="804" href="Class.MonadTC.html#804" class="Field">localContext</a>   <a id="819" class="Symbol">:</a> <a id="821" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="826" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="828" href="Agda.Builtin.Reflection.html#3944" class="Datatype">Abs</a> <a id="832" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="834" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="838" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a>
    <a id="TCEnv.goal"></a><a id="847" href="Class.MonadTC.html#847" class="Field">goal</a>           <a id="862" class="Symbol">:</a> <a id="864" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="869" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="871" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a>
    <a id="TCEnv.debug"></a><a id="880" href="Class.MonadTC.html#880" class="Field">debug</a>          <a id="895" class="Symbol">:</a> <a id="897" href="Reflection.Debug.html#2340" class="Record">DebugOptions</a>

<a id="initTCEnvWithGoal"></a><a id="911" href="Class.MonadTC.html#911" class="Function">initTCEnvWithGoal</a> <a id="929" class="Symbol">:</a> <a id="931" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="936" class="Symbol">→</a> <a id="938" href="Agda.Builtin.Reflection.html#8218" class="Postulate">R.TC</a> <a id="943" href="Class.MonadTC.html#621" class="Record">TCEnv</a>
<a id="949" href="Class.MonadTC.html#911" class="Function">initTCEnvWithGoal</a> <a id="967" href="Class.MonadTC.html#967" class="Bound">goal</a> <a id="972" class="Symbol">=</a> <a id="974" href="Agda.Builtin.Reflection.html#8859" class="Postulate">R.getContext</a> <a id="987" href="Class.Functor.Core.html#802" class="Function Operator">&lt;&amp;&gt;</a> <a id="991" class="Symbol">λ</a> <a id="993" href="Class.MonadTC.html#993" class="Bound">ctx</a> <a id="997" class="Symbol">→</a> <a id="999" class="Keyword">record</a>
  <a id="1008" class="Symbol">{</a> <a id="1010" href="Class.MonadTC.html#651" class="Field">normalisation</a>  <a id="1025" class="Symbol">=</a> <a id="1027" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
  <a id="1035" class="Symbol">;</a> <a id="1037" href="Class.MonadTC.html#677" class="Field">reconstruction</a> <a id="1052" class="Symbol">=</a> <a id="1054" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
  <a id="1062" class="Symbol">;</a> <a id="1064" href="Class.MonadTC.html#703" class="Field">noConstraints</a>  <a id="1079" class="Symbol">=</a> <a id="1081" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
  <a id="1089" class="Symbol">;</a> <a id="1091" href="Class.MonadTC.html#729" class="Field">reduction</a>      <a id="1106" class="Symbol">=</a> <a id="1108" href="Class.MonadTC.html#558" class="Function">reduceAll</a>
  <a id="1120" class="Symbol">;</a> <a id="1122" href="Class.MonadTC.html#767" class="Field">globalContext</a>  <a id="1137" class="Symbol">=</a> <a id="1139" href="Class.MonadTC.html#993" class="Bound">ctx</a>
  <a id="1145" class="Symbol">;</a> <a id="1147" href="Class.MonadTC.html#804" class="Field">localContext</a>   <a id="1162" class="Symbol">=</a> <a id="1164" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="1169" class="Symbol">;</a> <a id="1171" href="Class.MonadTC.html#847" class="Field">goal</a>           <a id="1186" class="Symbol">=</a> <a id="1188" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1193" href="Class.MonadTC.html#967" class="Bound">goal</a>
  <a id="1200" class="Symbol">;</a> <a id="1202" href="Class.MonadTC.html#880" class="Field">debug</a>          <a id="1217" class="Symbol">=</a> <a id="1219" href="Reflection.Debug.html#2474" class="Function">defaultDebugOptions</a>
  <a id="1241" class="Symbol">}</a>

<a id="initTCEnv"></a><a id="1244" href="Class.MonadTC.html#1244" class="Function">initTCEnv</a> <a id="1254" class="Symbol">:</a> <a id="1256" href="Agda.Builtin.Reflection.html#8218" class="Postulate">R.TC</a> <a id="1261" href="Class.MonadTC.html#621" class="Record">TCEnv</a>
<a id="1267" href="Class.MonadTC.html#1244" class="Function">initTCEnv</a> <a id="1277" class="Symbol">=</a> <a id="1279" href="Class.MonadTC.html#911" class="Function">initTCEnvWithGoal</a> <a id="1297" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a>

<a id="1306" class="Keyword">record</a> <a id="MonadTC"></a><a id="1313" href="Class.MonadTC.html#1313" class="Record">MonadTC</a> <a id="1321" class="Symbol">(</a><a id="1322" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1324" class="Symbol">:</a> <a id="1326" class="Symbol">∀</a> <a id="1328" class="Symbol">{</a><a id="1329" href="Class.MonadTC.html#1329" class="Bound">f</a><a id="1330" class="Symbol">}</a> <a id="1332" class="Symbol">→</a> <a id="1334" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1338" href="Class.MonadTC.html#1329" class="Bound">f</a> <a id="1340" class="Symbol">→</a> <a id="1342" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1346" href="Class.MonadTC.html#1329" class="Bound">f</a><a id="1347" class="Symbol">)</a>
               <a id="1364" class="Symbol">⦃</a> <a id="1366" href="Class.MonadTC.html#1366" class="Bound">m</a> <a id="1368" class="Symbol">:</a> <a id="1370" href="Class.Monad.Core.html#203" class="Record">Monad</a> <a id="1376" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1378" class="Symbol">⦄</a> <a id="1380" class="Symbol">⦃</a> <a id="1382" href="Class.MonadTC.html#1382" class="Bound">me</a> <a id="1385" class="Symbol">:</a> <a id="1387" href="Class.MonadError.html#263" class="Record">MonadError</a> <a id="1398" class="Symbol">(</a><a id="1399" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1404" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="1413" class="Symbol">)</a> <a id="1415" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1417" class="Symbol">⦄</a> <a id="1419" class="Symbol">:</a> <a id="1421" href="Agda.Primitive.html#381" class="Primitive">Setω₁</a> <a id="1427" class="Keyword">where</a>
  <a id="1435" class="Keyword">field</a>
    <a id="MonadTC.unify"></a><a id="1445" href="Class.MonadTC.html#1445" class="Field">unify</a>            <a id="1462" class="Symbol">:</a> <a id="1464" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1469" class="Symbol">→</a> <a id="1471" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1476" class="Symbol">→</a> <a id="1478" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1480" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
    <a id="MonadTC.typeError"></a><a id="1486" href="Class.MonadTC.html#1486" class="Field">typeError</a>        <a id="1503" class="Symbol">:</a> <a id="1505" class="Symbol">∀</a> <a id="1507" class="Symbol">{</a><a id="1508" href="Class.MonadTC.html#1508" class="Bound">A</a> <a id="1510" class="Symbol">:</a> <a id="1512" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1516" href="Class.MonadTC.html#408" class="Generalizable">f</a><a id="1517" class="Symbol">}</a> <a id="1519" class="Symbol">→</a> <a id="1521" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1526" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a> <a id="1536" class="Symbol">→</a> <a id="1538" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1540" href="Class.MonadTC.html#1508" class="Bound">A</a>
    <a id="MonadTC.inferType"></a><a id="1546" href="Class.MonadTC.html#1546" class="Field">inferType</a>        <a id="1563" class="Symbol">:</a> <a id="1565" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1570" class="Symbol">→</a> <a id="1572" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1574" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a>
    <a id="MonadTC.checkType"></a><a id="1583" href="Class.MonadTC.html#1583" class="Field">checkType</a>        <a id="1600" class="Symbol">:</a> <a id="1602" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1607" class="Symbol">→</a> <a id="1609" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="1614" class="Symbol">→</a> <a id="1616" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1618" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
    <a id="MonadTC.normalise"></a><a id="1627" href="Class.MonadTC.html#1627" class="Field">normalise</a>        <a id="1644" class="Symbol">:</a> <a id="1646" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1651" class="Symbol">→</a> <a id="1653" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1655" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
    <a id="MonadTC.reduce"></a><a id="1664" href="Class.MonadTC.html#1664" class="Field">reduce</a>           <a id="1681" class="Symbol">:</a> <a id="1683" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1688" class="Symbol">→</a> <a id="1690" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1692" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
    <a id="MonadTC.quoteTC"></a><a id="1701" href="Class.MonadTC.html#1701" class="Field">quoteTC</a>          <a id="1718" class="Symbol">:</a> <a id="1720" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="1722" class="Symbol">→</a> <a id="1724" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1726" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
    <a id="MonadTC.unquoteTC"></a><a id="1735" href="Class.MonadTC.html#1735" class="Field">unquoteTC</a>        <a id="1752" class="Symbol">:</a> <a id="1754" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1759" class="Symbol">→</a> <a id="1761" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1763" href="Class.MonadTC.html#422" class="Generalizable">A</a>
    <a id="MonadTC.quoteωTC"></a><a id="1769" href="Class.MonadTC.html#1769" class="Field">quoteωTC</a>         <a id="1786" class="Symbol">:</a> <a id="1788" class="Symbol">∀</a> <a id="1790" class="Symbol">{</a><a id="1791" href="Class.MonadTC.html#1791" class="Bound">A</a> <a id="1793" class="Symbol">:</a> <a id="1795" href="Agda.Primitive.html#381" class="Primitive">Setω</a><a id="1799" class="Symbol">}</a> <a id="1801" class="Symbol">→</a> <a id="1803" href="Class.MonadTC.html#1791" class="Bound">A</a> <a id="1805" class="Symbol">→</a> <a id="1807" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1809" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
    <a id="MonadTC.freshName"></a><a id="1818" href="Class.MonadTC.html#1818" class="Field">freshName</a>        <a id="1835" class="Symbol">:</a> <a id="1837" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1844" class="Symbol">→</a> <a id="1846" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1848" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a>
    <a id="MonadTC.declareDef"></a><a id="1857" href="Class.MonadTC.html#1857" class="Field">declareDef</a>       <a id="1874" class="Symbol">:</a> <a id="1876" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="1880" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="1885" class="Symbol">→</a> <a id="1887" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="1892" class="Symbol">→</a> <a id="1894" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1896" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
    <a id="MonadTC.declarePostulate"></a><a id="1902" href="Class.MonadTC.html#1902" class="Field">declarePostulate</a> <a id="1919" class="Symbol">:</a> <a id="1921" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="1925" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="1930" class="Symbol">→</a> <a id="1932" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="1937" class="Symbol">→</a> <a id="1939" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1941" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
    <a id="MonadTC.defineFun"></a><a id="1947" href="Class.MonadTC.html#1947" class="Field">defineFun</a>        <a id="1964" class="Symbol">:</a> <a id="1966" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="1971" class="Symbol">→</a> <a id="1973" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1978" href="Agda.Builtin.Reflection.html#4745" class="Datatype">Clause</a> <a id="1985" class="Symbol">→</a> <a id="1987" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="1989" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
    <a id="MonadTC.getType"></a><a id="1995" href="Class.MonadTC.html#1995" class="Field">getType</a>          <a id="2012" class="Symbol">:</a> <a id="2014" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="2019" class="Symbol">→</a> <a id="2021" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2023" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a>
    <a id="MonadTC.getDefinition"></a><a id="2032" href="Class.MonadTC.html#2032" class="Field">getDefinition</a>    <a id="2049" class="Symbol">:</a> <a id="2051" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="2056" class="Symbol">→</a> <a id="2058" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2060" href="Agda.Builtin.Reflection.html#7179" class="Datatype">Definition</a>
    <a id="MonadTC.blockOnMeta"></a><a id="2075" href="Class.MonadTC.html#2075" class="Field">blockOnMeta</a>      <a id="2092" class="Symbol">:</a> <a id="2094" href="Agda.Builtin.Reflection.html#2458" class="Postulate">Meta</a> <a id="2099" class="Symbol">→</a> <a id="2101" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2103" href="Class.MonadTC.html#422" class="Generalizable">A</a>
    <a id="MonadTC.commitTC"></a><a id="2109" href="Class.MonadTC.html#2109" class="Field">commitTC</a>         <a id="2126" class="Symbol">:</a> <a id="2128" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2130" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
    <a id="MonadTC.isMacro"></a><a id="2136" href="Class.MonadTC.html#2136" class="Field">isMacro</a>          <a id="2153" class="Symbol">:</a> <a id="2155" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="2160" class="Symbol">→</a> <a id="2162" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2164" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
    <a id="MonadTC.debugPrint"></a><a id="2173" href="Class.MonadTC.html#2173" class="Field">debugPrint</a>       <a id="2190" class="Symbol">:</a> <a id="2192" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="2199" class="Symbol">→</a> <a id="2201" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2203" class="Symbol">→</a> <a id="2205" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2210" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a> <a id="2220" class="Symbol">→</a> <a id="2222" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2224" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
    <a id="MonadTC.runSpeculative"></a><a id="2230" href="Class.MonadTC.html#2230" class="Field">runSpeculative</a>   <a id="2247" class="Symbol">:</a> <a id="2249" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2251" class="Symbol">(</a><a id="2252" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="2254" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2256" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="2260" class="Symbol">)</a> <a id="2262" class="Symbol">→</a> <a id="2264" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2266" href="Class.MonadTC.html#422" class="Generalizable">A</a>

  <a id="2271" class="Keyword">instance</a> <a id="2280" href="Class.MonadTC.html#2280" class="Function">_</a> <a id="2282" class="Symbol">=</a> <a id="2284" href="Class.Monad.Core.html#655" class="Function">Functor-M</a>
  <a id="2296" class="Keyword">open</a> <a id="2301" href="Class.MonadError.html#263" class="Module">MonadError</a> <a id="2312" href="Class.MonadTC.html#1382" class="Bound">me</a>

  <a id="MonadTC.runAndReset"></a><a id="2318" href="Class.MonadTC.html#2318" class="Function">runAndReset</a> <a id="2330" class="Symbol">:</a> <a id="2332" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2334" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="2336" class="Symbol">→</a> <a id="2338" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2340" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="2344" href="Class.MonadTC.html#2318" class="Function">runAndReset</a> <a id="2356" href="Class.MonadTC.html#2356" class="Bound">x</a> <a id="2358" class="Symbol">=</a> <a id="2360" href="Class.MonadTC.html#2230" class="Field">runSpeculative</a> <a id="2375" class="Symbol">((</a><a id="2377" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,</a> <a id="2380" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="2385" class="Symbol">)</a> <a id="2387" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="2391" href="Class.MonadTC.html#2356" class="Bound">x</a><a id="2392" class="Symbol">)</a>

  <a id="2397" class="Comment">-- dry-run and return true iff no error occured</a>
  <a id="2447" class="Comment">-- does not change any state</a>
  <a id="MonadTC.isSuccessful"></a><a id="2478" href="Class.MonadTC.html#2478" class="Function">isSuccessful</a> <a id="2491" class="Symbol">:</a> <a id="2493" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2495" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="2497" class="Symbol">→</a> <a id="2499" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2501" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="2508" href="Class.MonadTC.html#2478" class="Function">isSuccessful</a> <a id="2521" href="Class.MonadTC.html#2521" class="Bound">x</a> <a id="2523" class="Symbol">=</a> <a id="2525" href="Class.MonadTC.html#2318" class="Function">runAndReset</a> <a id="2537" class="Symbol">(</a><a id="2538" href="Class.MonadError.html#359" class="Function">catch</a> <a id="2544" class="Symbol">(</a><a id="2545" href="Class.MonadTC.html#2521" class="Bound">x</a> <a id="2547" href="Class.Monad.Core.html#369" class="Function Operator">&gt;&gt;</a> <a id="2550" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2557" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="2561" class="Symbol">)</a> <a id="2563" class="Symbol">(λ</a> <a id="2566" href="Class.MonadTC.html#2566" class="Bound">_</a> <a id="2568" class="Symbol">→</a> <a id="2570" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2577" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="2582" class="Symbol">))</a>

  <a id="2588" class="Comment">-- TODO: return true on function, axiom and prim-fun constructors?</a>
  <a id="MonadTC.isDef"></a><a id="2657" href="Class.MonadTC.html#2657" class="Function">isDef</a> <a id="2663" class="Symbol">:</a> <a id="2665" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="2670" class="Symbol">→</a> <a id="2672" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2674" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="2681" href="Class.MonadTC.html#2657" class="Function">isDef</a> <a id="2687" href="Class.MonadTC.html#2687" class="Bound">n</a> <a id="2689" class="Symbol">=</a> <a id="2691" class="Keyword">do</a>
    <a id="2698" href="Agda.Builtin.Reflection.html#7374" class="InductiveConstructor">constructor′</a> <a id="2711" class="Symbol">_</a> <a id="2713" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2715" href="Class.MonadTC.html#2032" class="Field">getDefinition</a> <a id="2729" href="Class.MonadTC.html#2687" class="Bound">n</a>
      <a id="2737" class="Keyword">where</a> <a id="2743" class="CatchallClause Symbol">_</a> <a id="2745" class="Symbol">→</a> <a id="2747" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2754" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
    <a id="2763" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2770" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

  <a id="MonadTC.isCon"></a><a id="2779" href="Class.MonadTC.html#2779" class="Function">isCon</a> <a id="2785" class="Symbol">:</a> <a id="2787" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="2792" class="Symbol">→</a> <a id="2794" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2796" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="2803" href="Class.MonadTC.html#2779" class="Function">isCon</a> <a id="2809" href="Class.MonadTC.html#2809" class="Bound">n</a> <a id="2811" class="Symbol">=</a> <a id="2813" class="Keyword">do</a>
    <a id="2820" href="Agda.Builtin.Reflection.html#7374" class="InductiveConstructor">constructor′</a> <a id="2833" class="Symbol">_</a> <a id="2835" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2837" href="Class.MonadTC.html#2032" class="Field">getDefinition</a> <a id="2851" href="Class.MonadTC.html#2809" class="Bound">n</a>
      <a id="2859" class="Keyword">where</a> <a id="2865" class="CatchallClause Symbol">_</a> <a id="2867" class="Symbol">→</a> <a id="2869" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2876" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
    <a id="2886" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2893" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

  <a id="MonadTC.nameConstr"></a><a id="2901" href="Class.MonadTC.html#2901" class="Function">nameConstr</a> <a id="2912" class="Symbol">:</a> <a id="2914" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="2919" class="Symbol">→</a> <a id="2921" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2926" class="Symbol">(</a><a id="2927" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="2931" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a><a id="2935" class="Symbol">)</a> <a id="2937" class="Symbol">→</a> <a id="2939" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="2941" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="2948" href="Class.MonadTC.html#2901" class="Function">nameConstr</a> <a id="2959" href="Class.MonadTC.html#2959" class="Bound">n</a> <a id="2961" href="Class.MonadTC.html#2961" class="Bound">args</a> <a id="2966" class="Symbol">=</a> <a id="2968" class="Keyword">do</a>
    <a id="2975" href="Class.MonadTC.html#2975" class="Bound">isD</a> <a id="2979" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2981" href="Class.MonadTC.html#2657" class="Function">isDef</a> <a id="2987" href="Class.MonadTC.html#2959" class="Bound">n</a>
    <a id="2993" href="Class.MonadTC.html#2993" class="Bound">isC</a> <a id="2997" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2999" href="Class.MonadTC.html#2779" class="Function">isCon</a> <a id="3005" href="Class.MonadTC.html#2959" class="Bound">n</a>
    <a id="3011" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="3016" class="Symbol">(</a><a id="3017" href="Class.MonadTC.html#2975" class="Bound">isD</a> <a id="3021" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3023" href="Class.MonadTC.html#2993" class="Bound">isC</a><a id="3026" class="Symbol">)</a> <a id="3028" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="3031" class="Symbol">λ</a> <a id="3033" class="Keyword">where</a>
      <a id="3045" class="Symbol">(</a><a id="3046" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="3051" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3053" class="Symbol">_)</a>      <a id="3061" class="Symbol">→</a> <a id="3063" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3070" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="3072" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="3076" href="Class.MonadTC.html#2959" class="Bound">n</a> <a id="3078" href="Class.MonadTC.html#2961" class="Bound">args</a>
      <a id="3089" class="Symbol">(</a><a id="3090" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="3096" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3098" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="3102" class="Symbol">)</a>  <a id="3105" class="Symbol">→</a> <a id="3107" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3114" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="3116" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="3120" href="Class.MonadTC.html#2959" class="Bound">n</a> <a id="3122" href="Class.MonadTC.html#2961" class="Bound">args</a>
      <a id="3133" class="Symbol">(</a><a id="3134" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="3140" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3142" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="3147" class="Symbol">)</a> <a id="3149" class="Symbol">→</a> <a id="3151" href="Class.MonadError.html#339" class="Function">error</a> <a id="3157" class="Symbol">((</a><a id="3159" href="Agda.Builtin.Reflection.html#622" class="Primitive">R&#39;.primShowQName</a> <a id="3176" href="Class.MonadTC.html#2959" class="Bound">n</a> <a id="3178" href="Data.String.Base.html#2999" class="Function Operator">&lt;+&gt;</a> <a id="3182" class="String">&quot;is neither a definition nor a constructor!&quot;</a><a id="3226" class="Symbol">)</a> <a id="3228" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="3231" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3233" class="Symbol">)</a>

  <a id="MonadTC.termFromName"></a><a id="3238" href="Class.MonadTC.html#3238" class="Function">termFromName</a> <a id="3251" class="Symbol">:</a> <a id="3253" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="3258" class="Symbol">→</a> <a id="3260" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="3262" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3269" href="Class.MonadTC.html#3238" class="Function">termFromName</a> <a id="3282" href="Class.MonadTC.html#3282" class="Bound">n</a> <a id="3284" class="Symbol">=</a> <a id="3286" href="Class.MonadTC.html#2901" class="Function">nameConstr</a> <a id="3297" href="Class.MonadTC.html#3282" class="Bound">n</a> <a id="3299" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

  <a id="3305" class="Comment">-- apply the unique constructor of the record to the arguments</a>
  <a id="MonadTC.mkRecord"></a><a id="3370" href="Class.MonadTC.html#3370" class="Function">mkRecord</a> <a id="3379" class="Symbol">:</a> <a id="3381" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="3386" class="Symbol">→</a> <a id="3388" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3393" class="Symbol">(</a><a id="3394" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="3398" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a><a id="3402" class="Symbol">)</a> <a id="3404" class="Symbol">→</a> <a id="3406" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="3408" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3415" href="Class.MonadTC.html#3370" class="Function">mkRecord</a> <a id="3424" href="Class.MonadTC.html#3424" class="Bound">n</a> <a id="3426" href="Class.MonadTC.html#3426" class="Bound">args</a> <a id="3431" class="Symbol">=</a> <a id="3433" class="Keyword">do</a>
    <a id="3440" class="Symbol">(</a><a id="3441" href="Agda.Builtin.Reflection.html#7311" class="InductiveConstructor">record′</a> <a id="3449" href="Class.MonadTC.html#3449" class="Bound">c</a> <a id="3451" class="Symbol">_)</a> <a id="3454" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="3456" href="Class.MonadTC.html#2032" class="Field">getDefinition</a> <a id="3470" href="Class.MonadTC.html#3424" class="Bound">n</a>
      <a id="3478" class="Keyword">where</a> <a id="3484" class="CatchallClause Symbol">_</a> <a id="3486" class="Symbol">→</a> <a id="3488" href="Class.MonadError.html#339" class="Function">error</a> <a id="3494" class="Symbol">(</a><a id="3495" class="String">&quot;Not a record!&quot;</a> <a id="3511" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="3514" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3516" class="Symbol">)</a>
    <a id="3522" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3529" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="3531" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="3535" href="Class.MonadTC.html#3449" class="Bound">c</a> <a id="3537" href="Class.MonadTC.html#3426" class="Bound">args</a>

  <a id="3545" class="Comment">-- this allows mutual recursion</a>
  <a id="MonadTC.declareAndDefineFuns"></a><a id="3579" href="Class.MonadTC.html#3579" class="Function">declareAndDefineFuns</a> <a id="3600" class="Symbol">:</a> <a id="3602" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3607" class="Symbol">(</a><a id="3608" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="3612" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="3617" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3619" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="3624" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3626" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3631" href="Agda.Builtin.Reflection.html#4745" class="Datatype">Clause</a><a id="3637" class="Symbol">)</a> <a id="3639" class="Symbol">→</a> <a id="3641" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="3643" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="3647" href="Class.MonadTC.html#3579" class="Function">declareAndDefineFuns</a> <a id="3668" href="Class.MonadTC.html#3668" class="Bound">ds</a> <a id="3671" class="Symbol">=</a> <a id="3673" class="Keyword">do</a>
    <a id="3680" href="Class.Traversable.Core.html#456" class="Function">traverse</a> <a id="3689" class="Symbol">(λ</a> <a id="3692" class="Keyword">where</a> <a id="3698" class="Symbol">(</a><a id="3699" href="Class.MonadTC.html#3699" class="Bound">n</a> <a id="3701" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3703" href="Class.MonadTC.html#3703" class="Bound">t</a> <a id="3705" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3707" class="Symbol">_)</a> <a id="3710" class="Symbol">→</a> <a id="3712" href="Class.MonadTC.html#1857" class="Field">declareDef</a> <a id="3723" href="Class.MonadTC.html#3699" class="Bound">n</a> <a id="3725" href="Class.MonadTC.html#3703" class="Bound">t</a><a id="3726" class="Symbol">)</a> <a id="3728" href="Class.MonadTC.html#3668" class="Bound">ds</a>
    <a id="3735" href="Class.Traversable.Core.html#456" class="Function">traverse</a> <a id="3744" class="Symbol">((λ</a> <a id="3748" class="Keyword">where</a> <a id="3754" class="Symbol">(</a><a id="3755" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="3759" class="Symbol">_</a> <a id="3761" href="Class.MonadTC.html#3761" class="Bound">n</a> <a id="3763" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3765" class="Symbol">_</a> <a id="3767" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3769" href="Class.MonadTC.html#3769" class="Bound">cs</a><a id="3771" class="Symbol">)</a> <a id="3773" class="Symbol">→</a> <a id="3775" href="Class.MonadTC.html#1947" class="Field">defineFun</a> <a id="3785" href="Class.MonadTC.html#3761" class="Bound">n</a> <a id="3787" href="Class.MonadTC.html#3769" class="Bound">cs</a><a id="3789" class="Symbol">))</a> <a id="3792" href="Class.MonadTC.html#3668" class="Bound">ds</a>
    <a id="3799" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3806" class="Symbol">_</a>

  <a id="MonadTC.declareAndDefineFun"></a><a id="3811" href="Class.MonadTC.html#3811" class="Function">declareAndDefineFun</a> <a id="3831" class="Symbol">:</a> <a id="3833" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="3837" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="3842" class="Symbol">→</a> <a id="3844" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="3849" class="Symbol">→</a> <a id="3851" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3856" href="Agda.Builtin.Reflection.html#4745" class="Datatype">Clause</a> <a id="3863" class="Symbol">→</a> <a id="3865" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="3867" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="3871" href="Class.MonadTC.html#3811" class="Function">declareAndDefineFun</a> <a id="3891" href="Class.MonadTC.html#3891" class="Bound">n</a> <a id="3893" href="Class.MonadTC.html#3893" class="Bound">ty</a> <a id="3896" href="Class.MonadTC.html#3896" class="Bound">cls</a> <a id="3900" class="Symbol">=</a> <a id="3902" href="Class.MonadTC.html#3579" class="Function">declareAndDefineFuns</a> <a id="3923" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3925" class="Symbol">(</a><a id="3926" href="Class.MonadTC.html#3891" class="Bound">n</a> <a id="3928" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3930" href="Class.MonadTC.html#3893" class="Bound">ty</a> <a id="3933" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3935" href="Class.MonadTC.html#3896" class="Bound">cls</a><a id="3938" class="Symbol">)</a> <a id="3940" href="Data.List.Base.html#5025" class="Function Operator">]</a>

  <a id="MonadTC.newMeta"></a><a id="3945" href="Class.MonadTC.html#3945" class="Function">newMeta</a> <a id="3953" class="Symbol">:</a> <a id="3955" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3960" class="Symbol">→</a> <a id="3962" href="Class.MonadTC.html#1322" class="Bound">M</a> <a id="3964" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3971" href="Class.MonadTC.html#3945" class="Function">newMeta</a> <a id="3979" class="Symbol">=</a> <a id="3981" href="Class.MonadTC.html#1583" class="Field">checkType</a> <a id="3991" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a>

<a id="4000" class="Keyword">module</a> <a id="4007" href="Class.MonadTC.html#4007" class="Module">_</a> <a id="4009" class="Symbol">{</a><a id="4010" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="4012" class="Symbol">:</a> <a id="4014" class="Symbol">∀</a> <a id="4016" class="Symbol">{</a><a id="4017" href="Class.MonadTC.html#4017" class="Bound">f</a><a id="4018" class="Symbol">}</a> <a id="4020" class="Symbol">→</a> <a id="4022" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4026" href="Class.MonadTC.html#4017" class="Bound">f</a> <a id="4028" class="Symbol">→</a> <a id="4030" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4034" href="Class.MonadTC.html#4017" class="Bound">f</a><a id="4035" class="Symbol">}</a>
  <a id="4039" class="Symbol">⦃</a> <a id="4041" href="Class.MonadTC.html#4041" class="Bound">m</a> <a id="4043" class="Symbol">:</a> <a id="4045" href="Class.Monad.Core.html#203" class="Record">Monad</a> <a id="4051" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="4053" class="Symbol">⦄</a> <a id="4055" class="Symbol">⦃</a> <a id="4057" href="Class.MonadTC.html#4057" class="Bound">me</a> <a id="4060" class="Symbol">:</a> <a id="4062" href="Class.MonadError.html#263" class="Record">MonadError</a> <a id="4073" class="Symbol">(</a><a id="4074" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4079" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="4088" class="Symbol">)</a> <a id="4090" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="4092" class="Symbol">⦄</a> <a id="4094" class="Symbol">⦃</a> <a id="4096" href="Class.MonadTC.html#4096" class="Bound">mtc</a> <a id="4100" class="Symbol">:</a> <a id="4102" href="Class.MonadTC.html#1313" class="Record">MonadTC</a> <a id="4110" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="4112" class="Symbol">⦄</a> <a id="4114" class="Symbol">⦃</a> <a id="4116" href="Class.MonadTC.html#4116" class="Bound">mre</a> <a id="4120" class="Symbol">:</a> <a id="4122" href="Class.MonadReader.html#228" class="Record">MonadReader</a> <a id="4134" href="Class.MonadTC.html#621" class="Record">TCEnv</a> <a id="4140" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="4142" class="Symbol">⦄</a> <a id="4144" class="Keyword">where</a>

  <a id="4153" class="Keyword">instance</a> <a id="4162" href="Class.MonadTC.html#4162" class="Function">_</a> <a id="4164" class="Symbol">=</a> <a id="4166" href="Class.Monad.Core.html#655" class="Function">Functor-M</a>

  <a id="4179" class="Keyword">open</a> <a id="4184" href="Class.MonadError.html#263" class="Module">MonadError</a> <a id="4195" href="Class.MonadTC.html#4057" class="Bound">me</a>
  <a id="4200" class="Keyword">open</a> <a id="4205" href="Class.MonadTC.html#1313" class="Module">MonadTC</a> <a id="4213" href="Class.MonadTC.html#4096" class="Bound">mtc</a>
  <a id="4219" class="Keyword">open</a> <a id="4224" href="Class.MonadReader.html#228" class="Module">MonadReader</a> <a id="4236" href="Class.MonadTC.html#4116" class="Bound">mre</a>

  <a id="4243" class="Keyword">record</a> <a id="4250" href="Class.MonadTC.html#4250" class="Record">IsMErrorPart</a> <a id="4263" class="Symbol">(</a><a id="4264" href="Class.MonadTC.html#4264" class="Bound">A</a> <a id="4266" class="Symbol">:</a> <a id="4268" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4272" href="Class.MonadTC.html#406" class="Generalizable">a</a><a id="4273" class="Symbol">)</a> <a id="4275" class="Symbol">:</a> <a id="4277" href="Agda.Primitive.html#381" class="Primitive">Setω</a> <a id="4282" class="Keyword">where</a>
    <a id="4292" class="Keyword">field</a> <a id="4298" href="Class.MonadTC.html#4298" class="Field">toMErrorPart</a> <a id="4311" class="Symbol">:</a> <a id="4313" href="Class.MonadTC.html#4264" class="Bound">A</a> <a id="4315" class="Symbol">→</a> <a id="4317" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="4319" class="Symbol">(</a><a id="4320" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4325" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="4334" class="Symbol">)</a>

  <a id="4339" class="Keyword">open</a> <a id="4344" href="Class.MonadTC.html#4250" class="Module">IsMErrorPart</a> <a id="4357" class="Symbol">⦃...⦄</a> <a id="4363" class="Keyword">public</a>

  <a id="4373" class="Keyword">data</a> <a id="4378" href="Class.MonadTC.html#4378" class="Datatype">MErrorPartWrap</a> <a id="4393" class="Symbol">:</a> <a id="4395" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4399" class="Keyword">where</a>
    <a id="4409" href="Class.MonadTC.html#4409" class="InductiveConstructor">wrap</a> <a id="4414" class="Symbol">:</a> <a id="4416" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="4418" class="Symbol">(</a><a id="4419" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4424" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="4433" class="Symbol">)</a> <a id="4435" class="Symbol">→</a> <a id="4437" href="Class.MonadTC.html#4378" class="Datatype">MErrorPartWrap</a>

  <a id="4455" href="Class.MonadTC.html#4455" class="Function">IsMErrorPart-IsErrorPart</a> <a id="4480" class="Symbol">:</a> <a id="4482" class="Symbol">⦃</a> <a id="4484" href="Class.MonadTC.html#4484" class="Symbol">_</a> <a id="4486" class="Symbol">:</a> <a id="4488" href="Reflection.Debug.html#330" class="Record">IsErrorPart</a> <a id="4500" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="4502" class="Symbol">⦄</a> <a id="4504" class="Symbol">→</a> <a id="4506" href="Class.MonadTC.html#4250" class="Record">IsMErrorPart</a> <a id="4519" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="4523" href="Class.MonadTC.html#4455" class="Function">IsMErrorPart-IsErrorPart</a> <a id="4548" class="Symbol">.</a><a id="4549" href="Class.MonadTC.html#4298" class="Field">toMErrorPart</a> <a id="4562" href="Class.MonadTC.html#4562" class="Bound">a</a> <a id="4564" class="Symbol">=</a> <a id="4566" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="4573" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4575" href="Reflection.Debug.html#376" class="Field">toErrorPart</a> <a id="4587" href="Class.MonadTC.html#4562" class="Bound">a</a> <a id="4589" href="Data.List.Base.html#5025" class="Function Operator">]</a>

  <a id="4594" class="Keyword">instance</a>
    <a id="4607" href="Class.MonadTC.html#4607" class="Function">IsMErrorPart-String</a> <a id="4627" class="Symbol">:</a> <a id="4629" href="Class.MonadTC.html#4250" class="Record">IsMErrorPart</a> <a id="4642" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
    <a id="4653" href="Class.MonadTC.html#4607" class="Function">IsMErrorPart-String</a> <a id="4673" class="Symbol">=</a> <a id="4675" href="Class.MonadTC.html#4455" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="4705" href="Class.MonadTC.html#4705" class="Function">IsMErrorPart-Term</a> <a id="4723" class="Symbol">:</a> <a id="4725" href="Class.MonadTC.html#4250" class="Record">IsMErrorPart</a> <a id="4738" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
    <a id="4747" href="Class.MonadTC.html#4705" class="Function">IsMErrorPart-Term</a> <a id="4765" class="Symbol">=</a> <a id="4767" href="Class.MonadTC.html#4455" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="4797" href="Class.MonadTC.html#4797" class="Function">IsMErrorPart-Name</a> <a id="4815" class="Symbol">:</a> <a id="4817" href="Class.MonadTC.html#4250" class="Record">IsMErrorPart</a> <a id="4830" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a>
    <a id="4839" href="Class.MonadTC.html#4797" class="Function">IsMErrorPart-Name</a> <a id="4857" class="Symbol">=</a> <a id="4859" href="Class.MonadTC.html#4455" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="4889" href="Class.MonadTC.html#4889" class="Function">IsMErrorPart-MErrorPartWrap</a> <a id="4917" class="Symbol">:</a> <a id="4919" href="Class.MonadTC.html#4250" class="Record">IsMErrorPart</a> <a id="4932" href="Class.MonadTC.html#4378" class="Datatype">MErrorPartWrap</a>
    <a id="4951" href="Class.MonadTC.html#4889" class="Function">IsMErrorPart-MErrorPartWrap</a> <a id="4979" class="Symbol">.</a><a id="4980" href="Class.MonadTC.html#4298" class="Field">toMErrorPart</a> <a id="4993" class="Symbol">(</a><a id="4994" href="Class.MonadTC.html#4409" class="InductiveConstructor">wrap</a> <a id="4999" href="Class.MonadTC.html#4999" class="Bound">a</a><a id="5000" class="Symbol">)</a> <a id="5002" class="Symbol">=</a> <a id="5004" href="Class.MonadTC.html#4999" class="Bound">a</a>

  <a id="5009" href="Class.MonadTC.html#5009" class="Function">[]ᵐ</a> <a id="5013" class="Symbol">:</a> <a id="5015" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="5017" class="Symbol">(</a><a id="5018" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5023" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="5032" class="Symbol">)</a>
  <a id="5036" href="Class.MonadTC.html#5009" class="Function">[]ᵐ</a> <a id="5040" class="Symbol">=</a> <a id="5042" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5049" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

  <a id="5055" class="Keyword">infixr</a> <a id="5062" class="Number">5</a> <a id="5064" href="Class.MonadTC.html#5072" class="Function Operator">_∷ᵈᵐ_</a>
  <a id="5072" href="Class.MonadTC.html#5072" class="Function Operator">_∷ᵈᵐ_</a> <a id="5078" class="Symbol">:</a> <a id="5080" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5082" class="Symbol">→</a> <a id="5084" class="Symbol">⦃</a> <a id="5086" href="Class.MonadTC.html#5086" class="Symbol">_</a> <a id="5088" class="Symbol">:</a> <a id="5090" href="Class.MonadTC.html#4250" class="Record">IsMErrorPart</a> <a id="5103" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5105" class="Symbol">⦄</a> <a id="5107" class="Symbol">→</a> <a id="5109" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="5111" class="Symbol">(</a><a id="5112" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5117" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="5126" class="Symbol">)</a> <a id="5128" class="Symbol">→</a> <a id="5130" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="5132" class="Symbol">(</a><a id="5133" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5138" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="5147" class="Symbol">)</a>
  <a id="5151" href="Class.MonadTC.html#5151" class="Bound">e</a> <a id="5153" href="Class.MonadTC.html#5072" class="Function Operator">∷ᵈᵐ</a> <a id="5157" href="Class.MonadTC.html#5157" class="Bound">es</a> <a id="5160" class="Symbol">=</a> <a id="5162" class="Keyword">do</a> <a id="5165" href="Class.MonadTC.html#5165" class="Bound">e</a> <a id="5167" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5169" href="Class.MonadTC.html#4298" class="Field">toMErrorPart</a> <a id="5182" href="Class.MonadTC.html#5151" class="Bound">e</a><a id="5183" class="Symbol">;</a> <a id="5185" href="Class.MonadTC.html#5185" class="Bound">es</a> <a id="5188" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5190" href="Class.MonadTC.html#5157" class="Bound">es</a><a id="5192" class="Symbol">;</a> <a id="5194" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5201" class="Symbol">(</a><a id="5202" href="Class.MonadTC.html#5165" class="Bound">e</a> <a id="5204" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="5207" href="Class.MonadTC.html#5185" class="Bound">es</a><a id="5209" class="Symbol">)</a>

  <a id="5214" href="Class.MonadTC.html#5214" class="Function Operator">_ᵛ</a> <a id="5217" class="Symbol">:</a> <a id="5219" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5221" class="Symbol">→</a> <a id="5223" href="Class.MonadTC.html#4378" class="Datatype">MErrorPartWrap</a>
  <a id="5240" href="Class.MonadTC.html#5240" class="Bound">a</a> <a id="5242" href="Class.MonadTC.html#5214" class="Function Operator">ᵛ</a> <a id="5244" class="Symbol">=</a> <a id="5246" href="Class.MonadTC.html#4409" class="InductiveConstructor">wrap</a> <a id="5251" class="Keyword">do</a> <a id="5254" href="Class.MonadTC.html#5254" class="Bound">a</a> <a id="5256" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5258" href="Class.MonadTC.html#1701" class="Function">quoteTC</a> <a id="5266" href="Class.MonadTC.html#5240" class="Bound">a</a><a id="5267" class="Symbol">;</a> <a id="5269" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5276" class="Symbol">(</a><a id="5277" href="Class.MonadTC.html#5254" class="Bound">a</a> <a id="5279" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5282" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5284" class="Symbol">)</a>

  <a id="5289" href="Class.MonadTC.html#5289" class="Function Operator">_ᵛⁿ</a> <a id="5293" class="Symbol">:</a> <a id="5295" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5297" class="Symbol">→</a> <a id="5299" href="Class.MonadTC.html#4378" class="Datatype">MErrorPartWrap</a>
  <a id="5316" href="Class.MonadTC.html#5316" class="Bound">a</a> <a id="5318" href="Class.MonadTC.html#5289" class="Function Operator">ᵛⁿ</a> <a id="5321" class="Symbol">=</a> <a id="5323" href="Class.MonadTC.html#4409" class="InductiveConstructor">wrap</a> <a id="5328" class="Keyword">do</a> <a id="5331" href="Class.MonadTC.html#5331" class="Bound">a</a> <a id="5333" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5335" href="Class.MonadReader.html#335" class="Field">local</a> <a id="5341" class="Symbol">(λ</a> <a id="5344" href="Class.MonadTC.html#5344" class="Bound">env</a> <a id="5348" class="Symbol">→</a> <a id="5350" class="Keyword">record</a> <a id="5357" href="Class.MonadTC.html#5344" class="Bound">env</a> <a id="5361" class="Symbol">{</a> <a id="5363" href="Class.MonadTC.html#651" class="Field">normalisation</a> <a id="5377" class="Symbol">=</a> <a id="5379" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="5384" class="Symbol">})</a> <a id="5387" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="5389" href="Class.MonadTC.html#1701" class="Function">quoteTC</a> <a id="5397" href="Class.MonadTC.html#5316" class="Bound">a</a><a id="5398" class="Symbol">;</a> <a id="5400" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5407" class="Symbol">(</a><a id="5408" href="Class.MonadTC.html#5331" class="Bound">a</a> <a id="5410" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5413" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5415" class="Symbol">)</a>

  <a id="5420" href="Class.MonadTC.html#5420" class="Function Operator">_ᵗ</a> <a id="5423" class="Symbol">:</a> <a id="5425" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="5430" class="Symbol">→</a> <a id="5432" href="Class.MonadTC.html#4378" class="Datatype">MErrorPartWrap</a>
  <a id="5449" href="Class.MonadTC.html#5449" class="Bound">t</a> <a id="5451" href="Class.MonadTC.html#5420" class="Function Operator">ᵗ</a> <a id="5453" class="Symbol">=</a> <a id="5455" href="Class.MonadTC.html#4409" class="InductiveConstructor">wrap</a> <a id="5460" class="Keyword">do</a> <a id="5463" href="Class.MonadTC.html#5463" class="Bound">T</a> <a id="5465" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5467" href="Class.MonadTC.html#1546" class="Function">inferType</a> <a id="5477" href="Class.MonadTC.html#5449" class="Bound">t</a><a id="5478" class="Symbol">;</a> <a id="5480" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5487" class="Symbol">(</a><a id="5488" href="Class.MonadTC.html#5449" class="Bound">t</a> <a id="5490" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5493" class="String">&quot; : &quot;</a> <a id="5499" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5502" href="Class.MonadTC.html#5463" class="Bound">T</a> <a id="5504" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5507" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5509" class="Symbol">)</a>

  <a id="5514" href="Class.MonadTC.html#5514" class="Function">debugLog</a> <a id="5523" class="Symbol">:</a> <a id="5525" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5530" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a> <a id="5540" class="Symbol">→</a> <a id="5542" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="5544" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="5548" href="Class.MonadTC.html#5514" class="Function">debugLog</a> <a id="5557" href="Class.MonadTC.html#5557" class="Bound">es</a> <a id="5560" class="Symbol">=</a> <a id="5562" class="Keyword">do</a>
    <a id="5569" class="Keyword">record</a> <a id="5576" class="Symbol">{</a> <a id="5578" href="Class.MonadTC.html#880" class="Field">debug</a> <a id="5584" class="Symbol">=</a> <a id="5586" href="Class.MonadTC.html#5586" class="Bound">debug</a> <a id="5592" class="Symbol">}</a> <a id="5594" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5596" href="Class.MonadReader.html#321" class="Field">ask</a>
    <a id="5604" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5607" href="Class.MonadTC.html#5586" class="Bound">debug</a> <a id="5613" class="Symbol">.</a><a id="5614" href="Reflection.Debug.html#2436" class="Field">DebugOptions.filter</a> <a id="5634" class="Symbol">(</a><a id="5635" href="Class.MonadTC.html#5586" class="Bound">debug</a> <a id="5641" class="Symbol">.</a><a id="5642" href="Reflection.Debug.html#2377" class="Field">DebugOptions.path</a><a id="5659" class="Symbol">)</a>
      <a id="5667" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="5672" href="Class.MonadTC.html#2173" class="Function">debugPrint</a> <a id="5683" class="Symbol">(</a><a id="5684" href="Reflection.Debug.html#2799" class="Function">debugOptionsPath</a> <a id="5701" href="Class.MonadTC.html#5586" class="Bound">debug</a><a id="5706" class="Symbol">)</a> <a id="5708" class="Symbol">(</a><a id="5709" href="Class.MonadTC.html#5586" class="Bound">debug</a> <a id="5715" class="Symbol">.</a><a id="5716" href="Reflection.Debug.html#2459" class="Field">DebugOptions.level</a><a id="5734" class="Symbol">)</a>
             <a id="5749" class="Symbol">(</a><a id="5750" href="Reflection.Debug.html#3195" class="Function">debugPrintPrefix</a> <a id="5767" href="Class.MonadTC.html#5586" class="Bound">debug</a> <a id="5773" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5775" href="Class.MonadTC.html#5557" class="Bound">es</a><a id="5777" class="Symbol">)</a>
      <a id="5785" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="5790" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5797" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>

  <a id="5803" href="Class.MonadTC.html#5803" class="Function">debugLogᵐ</a> <a id="5813" class="Symbol">:</a> <a id="5815" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="5817" class="Symbol">(</a><a id="5818" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5823" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="5832" class="Symbol">)</a> <a id="5834" class="Symbol">→</a> <a id="5836" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="5838" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="5842" href="Class.MonadTC.html#5803" class="Function">debugLogᵐ</a> <a id="5852" href="Class.MonadTC.html#5852" class="Bound">x</a> <a id="5854" class="Symbol">=</a> <a id="5856" class="Keyword">do</a> <a id="5859" href="Class.MonadTC.html#5859" class="Bound">x</a> <a id="5861" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5863" href="Class.MonadTC.html#5852" class="Bound">x</a><a id="5864" class="Symbol">;</a> <a id="5866" href="Class.MonadTC.html#5514" class="Function">debugLog</a> <a id="5875" href="Class.MonadTC.html#5859" class="Bound">x</a>

  <a id="5880" href="Class.MonadTC.html#5880" class="Function">debugLog1ᵐ</a> <a id="5891" class="Symbol">:</a> <a id="5893" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5895" class="Symbol">→</a> <a id="5897" class="Symbol">⦃</a> <a id="5899" href="Class.MonadTC.html#5899" class="Symbol">_</a> <a id="5901" class="Symbol">:</a> <a id="5903" href="Class.MonadTC.html#4250" class="Record">IsMErrorPart</a> <a id="5916" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5918" class="Symbol">⦄</a> <a id="5920" class="Symbol">→</a> <a id="5922" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="5924" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="5928" href="Class.MonadTC.html#5880" class="Function">debugLog1ᵐ</a> <a id="5939" href="Class.MonadTC.html#5939" class="Bound">a</a> <a id="5941" class="Symbol">=</a> <a id="5943" href="Class.MonadTC.html#5803" class="Function">debugLogᵐ</a> <a id="5953" class="Symbol">(</a><a id="5954" href="Class.MonadTC.html#5939" class="Bound">a</a> <a id="5956" href="Class.MonadTC.html#5072" class="Function Operator">∷ᵈᵐ</a> <a id="5960" href="Class.MonadTC.html#5009" class="Function">[]ᵐ</a><a id="5963" class="Symbol">)</a>

  <a id="5968" href="Class.MonadTC.html#5968" class="Function">withDebugOptions</a> <a id="5985" class="Symbol">:</a> <a id="5987" href="Reflection.Debug.html#2340" class="Record">DebugOptions</a> <a id="6000" class="Symbol">→</a> <a id="6002" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="6004" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="6006" class="Symbol">→</a> <a id="6008" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="6010" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="6014" href="Class.MonadTC.html#5968" class="Function">withDebugOptions</a> <a id="6031" href="Class.MonadTC.html#6031" class="Bound">opts</a> <a id="6036" href="Class.MonadTC.html#6036" class="Bound">x</a> <a id="6038" class="Symbol">=</a> <a id="6040" href="Class.MonadReader.html#335" class="Field">local</a> <a id="6046" class="Symbol">(λ</a> <a id="6049" class="Keyword">where</a>
    <a id="6059" href="Class.MonadTC.html#6059" class="Bound">env</a><a id="6062" class="Symbol">@</a><a id="6063" class="Keyword">record</a> <a id="6070" class="Symbol">{</a> <a id="6072" href="Class.MonadTC.html#880" class="Field">debug</a> <a id="6078" class="Symbol">=</a> <a id="6080" href="Class.MonadTC.html#6080" class="Bound">opts&#39;</a> <a id="6086" class="Symbol">}</a> <a id="6088" class="Symbol">→</a> <a id="6090" class="Keyword">record</a> <a id="6097" href="Class.MonadTC.html#6059" class="Bound">env</a> <a id="6101" class="Symbol">{</a> <a id="6103" href="Class.MonadTC.html#880" class="Field">debug</a> <a id="6109" class="Symbol">=</a> <a id="6111" href="Reflection.Debug.html#2602" class="Function">specializeDebugOptions</a> <a id="6134" href="Class.MonadTC.html#6080" class="Bound">opts&#39;</a> <a id="6140" href="Class.MonadTC.html#6031" class="Bound">opts</a> <a id="6145" class="Symbol">})</a> <a id="6148" href="Class.MonadTC.html#6036" class="Bound">x</a>

  <a id="6153" href="Class.MonadTC.html#6153" class="Function">withAppendDebugPath</a> <a id="6173" class="Symbol">:</a> <a id="6175" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="6182" class="Symbol">→</a> <a id="6184" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="6186" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="6188" class="Symbol">→</a> <a id="6190" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="6192" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="6196" href="Class.MonadTC.html#6153" class="Function">withAppendDebugPath</a> <a id="6216" href="Class.MonadTC.html#6216" class="Bound">path</a> <a id="6221" href="Class.MonadTC.html#6221" class="Bound">x</a> <a id="6223" class="Symbol">=</a> <a id="6225" href="Class.MonadReader.html#335" class="Field">local</a> <a id="6231" class="Symbol">(λ</a> <a id="6234" class="Keyword">where</a>
    <a id="6244" href="Class.MonadTC.html#6244" class="Bound">env</a><a id="6247" class="Symbol">@</a><a id="6248" class="Keyword">record</a> <a id="6255" class="Symbol">{</a> <a id="6257" href="Class.MonadTC.html#880" class="Field">debug</a> <a id="6263" class="Symbol">=</a> <a id="6265" href="Class.MonadTC.html#6265" class="Bound">opts</a> <a id="6270" class="Symbol">}</a> <a id="6272" class="Symbol">→</a> <a id="6274" class="Keyword">record</a> <a id="6281" href="Class.MonadTC.html#6244" class="Bound">env</a> <a id="6285" class="Symbol">{</a> <a id="6287" href="Class.MonadTC.html#880" class="Field">debug</a> <a id="6293" class="Symbol">=</a> <a id="6295" class="Keyword">record</a> <a id="6302" href="Class.MonadTC.html#6265" class="Bound">opts</a> <a id="6307" class="Symbol">{</a> <a id="6309" href="Reflection.Debug.html#2377" class="Field">path</a> <a id="6314" class="Symbol">=</a> <a id="6316" href="Class.MonadTC.html#6265" class="Bound">opts</a> <a id="6321" class="Symbol">.</a><a id="6322" href="Reflection.Debug.html#2377" class="Field">DebugOptions.path</a> <a id="6340" href="Data.List.Base.html#10043" class="Function Operator">∷ʳ</a> <a id="6343" href="Class.MonadTC.html#6216" class="Bound">path</a> <a id="6348" class="Symbol">}</a> <a id="6350" class="Symbol">})</a> <a id="6353" href="Class.MonadTC.html#6221" class="Bound">x</a>

  <a id="6358" href="Class.MonadTC.html#6358" class="Function">noConstraints</a> <a id="6372" class="Symbol">:</a> <a id="6374" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="6376" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="6378" class="Symbol">→</a> <a id="6380" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="6382" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="6386" href="Class.MonadTC.html#6358" class="Function">noConstraints</a> <a id="6400" class="Symbol">=</a> <a id="6402" href="Class.MonadReader.html#335" class="Field">local</a> <a id="6408" class="Symbol">λ</a> <a id="6410" href="Class.MonadTC.html#6410" class="Bound">e</a> <a id="6412" class="Symbol">→</a> <a id="6414" class="Keyword">record</a> <a id="6421" href="Class.MonadTC.html#6410" class="Bound">e</a> <a id="6423" class="Symbol">{</a> <a id="6425" href="Class.MonadTC.html#703" class="Field">noConstraints</a> <a id="6439" class="Symbol">=</a> <a id="6441" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="6446" class="Symbol">}</a>

  <a id="6451" href="Class.MonadTC.html#6451" class="Function">hasType</a> <a id="6459" class="Symbol">:</a> <a id="6461" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="6466" class="Symbol">→</a> <a id="6468" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="6473" class="Symbol">→</a> <a id="6475" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="6477" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="6484" href="Class.MonadTC.html#6451" class="Function">hasType</a> <a id="6492" href="Class.MonadTC.html#6492" class="Bound">t</a> <a id="6494" href="Class.MonadTC.html#6494" class="Bound">ty</a> <a id="6497" class="Symbol">=</a> <a id="6499" href="Class.MonadTC.html#2478" class="Function">isSuccessful</a> <a id="6512" class="Symbol">(</a><a id="6513" href="Class.MonadTC.html#6358" class="Function">noConstraints</a> <a id="6527" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6529" href="Class.MonadTC.html#1583" class="Function">checkType</a> <a id="6539" href="Class.MonadTC.html#6492" class="Bound">t</a> <a id="6541" href="Class.MonadTC.html#6494" class="Bound">ty</a><a id="6543" class="Symbol">)</a>

  <a id="6548" href="Class.MonadTC.html#6548" class="Function">hasType&#39;</a> <a id="6557" class="Symbol">:</a> <a id="6559" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="6564" class="Symbol">→</a> <a id="6566" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="6571" class="Symbol">→</a> <a id="6573" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="6575" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="6582" href="Class.MonadTC.html#6548" class="Function">hasType&#39;</a> <a id="6591" href="Class.MonadTC.html#6591" class="Bound">n</a> <a id="6593" href="Class.MonadTC.html#6593" class="Bound">ty</a> <a id="6596" class="Symbol">=</a> <a id="6598" href="Class.MonadTC.html#2478" class="Function">isSuccessful</a> <a id="6611" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6613" href="Class.MonadTC.html#6358" class="Function">noConstraints</a> <a id="6627" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="6629" class="Keyword">do</a>
    <a id="6636" href="Class.MonadTC.html#6636" class="Bound">t</a> <a id="6638" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="6640" href="Class.MonadTC.html#3238" class="Function">termFromName</a> <a id="6653" href="Class.MonadTC.html#6591" class="Bound">n</a>
    <a id="6659" href="Class.MonadTC.html#6659" class="Bound">t&#39;</a> <a id="6662" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="6664" href="Class.MonadTC.html#1583" class="Function">checkType</a> <a id="6674" href="Class.MonadTC.html#6636" class="Bound">t</a> <a id="6676" href="Class.MonadTC.html#6593" class="Bound">ty</a>
    <a id="6683" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6686" href="Class.MonadTC.html#7091" class="Function">isAppliedToUnknownsAndMetas</a> <a id="6714" href="Class.MonadTC.html#6659" class="Bound">t&#39;</a>
      <a id="6723" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6728" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="6735" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
      <a id="6744" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6749" href="Class.MonadError.html#339" class="Function">error</a> <a id="6755" class="Symbol">(</a><a id="6756" class="String">&quot;This makes the function return false&quot;</a> <a id="6795" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="6798" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6800" class="Symbol">)</a>
    <a id="6806" class="Keyword">where</a>
      <a id="6818" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="6837" class="Symbol">:</a> <a id="6839" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6844" class="Symbol">(</a><a id="6845" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="6849" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a><a id="6853" class="Symbol">)</a> <a id="6855" class="Symbol">→</a> <a id="6857" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
      <a id="6868" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="6887" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6890" class="Symbol">=</a> <a id="6892" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
      <a id="6903" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="6922" class="Symbol">(</a><a id="6923" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="6927" href="Class.MonadTC.html#6927" class="Bound">i</a> <a id="6929" class="Symbol">(</a><a id="6930" href="Agda.Builtin.Reflection.html#5196" class="InductiveConstructor">meta</a> <a id="6935" href="Class.MonadTC.html#6935" class="Bound">x</a> <a id="6937" href="Class.MonadTC.html#6937" class="Bound">x₁</a><a id="6939" class="Symbol">)</a> <a id="6941" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6943" href="Class.MonadTC.html#6943" class="Bound">l</a><a id="6944" class="Symbol">)</a> <a id="6946" class="Symbol">=</a> <a id="6948" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="6967" href="Class.MonadTC.html#6943" class="Bound">l</a>
      <a id="6975" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="6994" class="Symbol">(</a><a id="6995" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="6999" href="Class.MonadTC.html#6999" class="Bound">i</a> <a id="7001" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a> <a id="7009" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7011" href="Class.MonadTC.html#7011" class="Bound">l</a><a id="7012" class="Symbol">)</a> <a id="7014" class="Symbol">=</a> <a id="7016" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="7035" href="Class.MonadTC.html#7011" class="Bound">l</a>
      <a id="7043" href="Class.MonadTC.html#6818" class="CatchallClause Function">isUnknownsAndMetas</a><a id="7061" class="CatchallClause"> </a><a id="7062" class="CatchallClause Symbol">(</a><a id="7063" href="Agda.Builtin.Reflection.html#3733" class="CatchallClause InductiveConstructor">arg</a><a id="7066" class="CatchallClause"> </a><a id="7067" href="Class.MonadTC.html#7067" class="CatchallClause Bound">i</a><a id="7068" class="CatchallClause"> </a><a id="7069" class="CatchallClause Symbol">_</a><a id="7070" class="CatchallClause"> </a><a id="7071" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="7072" class="CatchallClause"> </a><a id="7073" href="Class.MonadTC.html#7073" class="CatchallClause Bound">l</a><a id="7074" class="CatchallClause Symbol">)</a> <a id="7076" class="Symbol">=</a> <a id="7078" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

      <a id="7091" href="Class.MonadTC.html#7091" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7119" class="Symbol">:</a> <a id="7121" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="7126" class="Symbol">→</a> <a id="7128" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
      <a id="7139" href="Class.MonadTC.html#7091" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7167" class="Symbol">(</a><a id="7168" href="Agda.Builtin.Reflection.html#4790" class="InductiveConstructor">var</a> <a id="7172" href="Class.MonadTC.html#7172" class="Bound">x</a> <a id="7174" href="Class.MonadTC.html#7174" class="Bound">args</a><a id="7178" class="Symbol">)</a>      <a id="7185" class="Symbol">=</a> <a id="7187" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="7206" href="Class.MonadTC.html#7174" class="Bound">args</a>
      <a id="7217" href="Class.MonadTC.html#7091" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7245" class="Symbol">(</a><a id="7246" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="7250" href="Class.MonadTC.html#7250" class="Bound">c</a> <a id="7252" href="Class.MonadTC.html#7252" class="Bound">args</a><a id="7256" class="Symbol">)</a>      <a id="7263" class="Symbol">=</a> <a id="7265" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="7284" href="Class.MonadTC.html#7252" class="Bound">args</a>
      <a id="7295" href="Class.MonadTC.html#7091" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7323" class="Symbol">(</a><a id="7324" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="7328" href="Class.MonadTC.html#7328" class="Bound">f</a> <a id="7330" href="Class.MonadTC.html#7330" class="Bound">args</a><a id="7334" class="Symbol">)</a>      <a id="7341" class="Symbol">=</a> <a id="7343" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="7362" href="Class.MonadTC.html#7330" class="Bound">args</a>
      <a id="7373" href="Class.MonadTC.html#7091" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7401" class="Symbol">(</a><a id="7402" href="Agda.Builtin.Reflection.html#5013" class="InductiveConstructor">pat-lam</a> <a id="7410" href="Class.MonadTC.html#7410" class="Bound">cs</a> <a id="7413" href="Class.MonadTC.html#7413" class="Bound">args</a><a id="7417" class="Symbol">)</a> <a id="7419" class="Symbol">=</a> <a id="7421" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="7440" href="Class.MonadTC.html#7413" class="Bound">args</a>
      <a id="7451" href="Class.MonadTC.html#7091" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7479" class="Symbol">(</a><a id="7480" href="Agda.Builtin.Reflection.html#5196" class="InductiveConstructor">meta</a> <a id="7485" href="Class.MonadTC.html#7485" class="Bound">x</a> <a id="7487" href="Class.MonadTC.html#7487" class="Bound">args</a><a id="7491" class="Symbol">)</a>     <a id="7497" class="Symbol">=</a> <a id="7499" href="Class.MonadTC.html#6818" class="Function">isUnknownsAndMetas</a> <a id="7518" href="Class.MonadTC.html#7487" class="Bound">args</a>
      <a id="7529" href="Class.MonadTC.html#7091" class="CatchallClause Function">isAppliedToUnknownsAndMetas</a><a id="7556" class="CatchallClause"> </a><a id="7557" class="CatchallClause Symbol">_</a>                 <a id="7575" class="Symbol">=</a> <a id="7577" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

  <a id="7585" href="Class.MonadTC.html#7585" class="Function">extendContext</a> <a id="7599" class="Symbol">:</a> <a id="7601" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="7605" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="7610" class="Symbol">→</a> <a id="7612" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="7614" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="7616" class="Symbol">→</a> <a id="7618" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="7620" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="7624" href="Class.MonadTC.html#7585" class="Function">extendContext</a> <a id="7638" href="Class.MonadTC.html#7638" class="Bound">ty</a> <a id="7641" class="Symbol">=</a> <a id="7643" href="Class.MonadReader.html#335" class="Field">local</a> <a id="7649" class="Symbol">λ</a> <a id="7651" class="Keyword">where</a> <a id="7657" href="Class.MonadTC.html#7657" class="Bound">e</a><a id="7658" class="Symbol">@</a><a id="7659" class="Keyword">record</a> <a id="7666" class="Symbol">{</a> <a id="7668" href="Class.MonadTC.html#804" class="Field">localContext</a> <a id="7681" class="Symbol">=</a> <a id="7683" href="Class.MonadTC.html#7683" class="Bound">Γ</a> <a id="7685" class="Symbol">}</a> <a id="7687" class="Symbol">→</a> <a id="7689" class="Keyword">record</a> <a id="7696" href="Class.MonadTC.html#7657" class="Bound">e</a> <a id="7698" class="Symbol">{</a> <a id="7700" href="Class.MonadTC.html#804" class="Field">localContext</a> <a id="7713" class="Symbol">=</a> <a id="7715" href="Agda.Builtin.Reflection.html#3980" class="InductiveConstructor">abs</a> <a id="7719" class="String">&quot;&quot;</a> <a id="7722" href="Class.MonadTC.html#7638" class="Bound">ty</a> <a id="7725" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7727" href="Class.MonadTC.html#7683" class="Bound">Γ</a> <a id="7729" class="Symbol">}</a>

  <a id="7734" href="Class.MonadTC.html#7734" class="Function">getContext</a> <a id="7745" class="Symbol">:</a> <a id="7747" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="7749" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7751" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7756" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7758" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="7762" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a>
  <a id="7769" href="Class.MonadTC.html#7734" class="Function">getContext</a> <a id="7780" class="Symbol">=</a> <a id="7782" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="7789" class="Symbol">λ</a> <a id="7791" class="Keyword">where</a>
    <a id="7801" href="Class.MonadTC.html#7801" class="Bound">e</a><a id="7802" class="Symbol">@</a><a id="7803" class="Keyword">record</a> <a id="7810" class="Symbol">{</a> <a id="7812" href="Class.MonadTC.html#804" class="Field">localContext</a> <a id="7825" class="Symbol">=</a> <a id="7827" href="Class.MonadTC.html#7827" class="Bound">Γ</a> <a id="7829" class="Symbol">;</a> <a id="7831" href="Class.MonadTC.html#767" class="Field">globalContext</a> <a id="7845" class="Symbol">=</a> <a id="7847" href="Class.MonadTC.html#7847" class="Bound">Γ&#39;</a> <a id="7850" class="Symbol">}</a> <a id="7852" class="Symbol">→</a> <a id="7854" href="Data.List.Base.html#1544" class="Function">map</a> <a id="7858" href="Reflection.Abstraction.html#1729" class="Function">unAbs</a> <a id="7864" href="Class.MonadTC.html#7827" class="Bound">Γ</a> <a id="7866" href="Data.List.Base.html#1810" class="Function Operator">Data.List.++</a> <a id="7879" href="Class.MonadTC.html#7847" class="Bound">Γ&#39;</a>

  <a id="7885" href="Class.MonadTC.html#7885" class="Function">getLocalContext</a> <a id="7901" class="Symbol">:</a> <a id="7903" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="7905" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7907" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7912" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="7914" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="7918" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a>
  <a id="7925" href="Class.MonadTC.html#7885" class="Function">getLocalContext</a> <a id="7941" class="Symbol">=</a> <a id="7943" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="7950" class="Symbol">λ</a> <a id="7952" class="Keyword">where</a> <a id="7958" href="Class.MonadTC.html#7958" class="Bound">e</a><a id="7959" class="Symbol">@</a><a id="7960" class="Keyword">record</a> <a id="7967" class="Symbol">{</a> <a id="7969" href="Class.MonadTC.html#804" class="Field">localContext</a> <a id="7982" class="Symbol">=</a> <a id="7984" href="Class.MonadTC.html#7984" class="Bound">Γ</a> <a id="7986" class="Symbol">}</a> <a id="7988" class="Symbol">→</a> <a id="7990" href="Data.List.Base.html#1544" class="Function">map</a> <a id="7994" href="Reflection.Abstraction.html#1729" class="Function">unAbs</a> <a id="8000" href="Class.MonadTC.html#7984" class="Bound">Γ</a>

  <a id="8005" href="Class.MonadTC.html#8005" class="Function">inContext</a> <a id="8015" class="Symbol">:</a> <a id="8017" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8022" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="8024" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="8028" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="8033" class="Symbol">→</a> <a id="8035" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8037" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8039" class="Symbol">→</a> <a id="8041" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8043" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="8047" href="Class.MonadTC.html#8005" class="Function">inContext</a> <a id="8057" href="Class.MonadTC.html#8057" class="Bound">ctx</a> <a id="8061" class="Symbol">=</a> <a id="8063" href="Class.MonadReader.html#335" class="Field">local</a> <a id="8069" class="Symbol">λ</a> <a id="8071" href="Class.MonadTC.html#8071" class="Bound">e</a> <a id="8073" class="Symbol">→</a> <a id="8075" class="Keyword">record</a> <a id="8082" href="Class.MonadTC.html#8071" class="Bound">e</a> <a id="8084" class="Symbol">{</a> <a id="8086" href="Class.MonadTC.html#804" class="Field">localContext</a> <a id="8099" class="Symbol">=</a> <a id="8101" href="Data.List.Base.html#1544" class="Function">map</a> <a id="8105" class="Symbol">(</a><a id="8106" href="Agda.Builtin.Reflection.html#3980" class="InductiveConstructor">abs</a> <a id="8110" class="String">&quot;&quot;</a><a id="8112" class="Symbol">)</a> <a id="8114" href="Class.MonadTC.html#8057" class="Bound">ctx</a> <a id="8118" class="Symbol">}</a>

  <a id="8123" class="Comment">-- extend context by multiple variables</a>
  <a id="8165" href="Class.MonadTC.html#8165" class="Function">extendContext&#39;</a> <a id="8180" class="Symbol">:</a> <a id="8182" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8187" class="Symbol">(</a><a id="8188" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="8192" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a><a id="8196" class="Symbol">)</a> <a id="8198" class="Symbol">→</a> <a id="8200" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8202" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8204" class="Symbol">→</a> <a id="8206" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8208" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="8212" href="Class.MonadTC.html#8165" class="Function">extendContext&#39;</a> <a id="8227" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="8230" href="Class.MonadTC.html#8230" class="Bound">x</a> <a id="8232" class="Symbol">=</a> <a id="8234" href="Class.MonadTC.html#8230" class="Bound">x</a>
  <a id="8238" href="Class.MonadTC.html#8165" class="Function">extendContext&#39;</a> <a id="8253" class="Symbol">(</a><a id="8254" href="Class.MonadTC.html#8254" class="Bound">c</a> <a id="8256" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8258" href="Class.MonadTC.html#8258" class="Bound">cs</a><a id="8260" class="Symbol">)</a> <a id="8262" href="Class.MonadTC.html#8262" class="Bound">x</a> <a id="8264" class="Symbol">=</a> <a id="8266" href="Class.MonadTC.html#7585" class="Function">extendContext</a> <a id="8280" href="Class.MonadTC.html#8254" class="Bound">c</a> <a id="8282" class="Symbol">(</a><a id="8283" href="Class.MonadTC.html#8165" class="Function">extendContext&#39;</a> <a id="8298" href="Class.MonadTC.html#8258" class="Bound">cs</a> <a id="8301" href="Class.MonadTC.html#8262" class="Bound">x</a><a id="8302" class="Symbol">)</a>

  <a id="8307" href="Class.MonadTC.html#8307" class="Function">dropContext</a> <a id="8319" class="Symbol">:</a> <a id="8321" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="8323" class="Symbol">→</a> <a id="8325" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8327" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8329" class="Symbol">→</a> <a id="8331" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8333" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="8337" href="Class.MonadTC.html#8307" class="Function">dropContext</a> <a id="8349" href="Class.MonadTC.html#8349" class="Bound">n</a> <a id="8351" href="Class.MonadTC.html#8351" class="Bound">x</a> <a id="8353" class="Symbol">=</a> <a id="8355" class="Keyword">do</a>
    <a id="8362" href="Class.MonadTC.html#8362" class="Bound">ctx</a> <a id="8366" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="8368" href="Class.MonadTC.html#7734" class="Function">getContext</a>
    <a id="8383" href="Class.MonadTC.html#8005" class="Function">inContext</a> <a id="8393" class="Symbol">(</a><a id="8394" href="Data.List.Base.html#7427" class="Function">drop</a> <a id="8399" href="Class.MonadTC.html#8349" class="Bound">n</a> <a id="8401" href="Class.MonadTC.html#8362" class="Bound">ctx</a><a id="8404" class="Symbol">)</a> <a id="8406" href="Class.MonadTC.html#8351" class="Bound">x</a>

  <a id="8411" href="Class.MonadTC.html#8411" class="Function">logAndError</a> <a id="8423" class="Symbol">:</a> <a id="8425" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8430" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a> <a id="8440" class="Symbol">→</a> <a id="8442" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8444" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="8448" href="Class.MonadTC.html#8411" class="Function">logAndError</a> <a id="8460" href="Class.MonadTC.html#8460" class="Bound">e</a> <a id="8462" class="Symbol">=</a> <a id="8464" href="Class.MonadTC.html#5514" class="Function">debugLog</a> <a id="8473" href="Class.MonadTC.html#8460" class="Bound">e</a> <a id="8475" href="Class.Monad.Core.html#369" class="Function Operator">&gt;&gt;</a> <a id="8478" href="Class.MonadError.html#339" class="Function">error</a> <a id="8484" href="Class.MonadTC.html#8460" class="Bound">e</a>

  <a id="8489" href="Class.MonadTC.html#8489" class="Function">error1</a> <a id="8496" class="Symbol">:</a> <a id="8498" class="Symbol">⦃</a> <a id="8500" href="Reflection.Debug.html#330" class="Record">IsErrorPart</a> <a id="8512" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8514" class="Symbol">⦄</a> <a id="8516" class="Symbol">→</a> <a id="8518" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8520" class="Symbol">→</a> <a id="8522" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8524" href="Class.MonadTC.html#424" class="Generalizable">B</a>
  <a id="8528" href="Class.MonadTC.html#8489" class="Function">error1</a> <a id="8535" href="Class.MonadTC.html#8535" class="Bound">a</a> <a id="8537" class="Symbol">=</a> <a id="8539" href="Class.MonadError.html#339" class="Function">error</a> <a id="8545" class="Symbol">(</a><a id="8546" href="Class.MonadTC.html#8535" class="Bound">a</a> <a id="8548" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="8551" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="8553" class="Symbol">)</a>

  <a id="8558" href="Class.MonadTC.html#8558" class="Function">debugLog1</a> <a id="8568" class="Symbol">:</a> <a id="8570" class="Symbol">⦃</a> <a id="8572" href="Reflection.Debug.html#330" class="Record">IsErrorPart</a> <a id="8584" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8586" class="Symbol">⦄</a> <a id="8588" class="Symbol">→</a> <a id="8590" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8592" class="Symbol">→</a> <a id="8594" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8596" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="8600" href="Class.MonadTC.html#8558" class="Function">debugLog1</a> <a id="8610" href="Class.MonadTC.html#8610" class="Bound">a</a> <a id="8612" class="Symbol">=</a> <a id="8614" href="Class.MonadTC.html#5514" class="Function">debugLog</a> <a id="8623" class="Symbol">(</a><a id="8624" href="Class.MonadTC.html#8610" class="Bound">a</a> <a id="8626" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="8629" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="8631" class="Symbol">)</a>

  <a id="8636" href="Class.MonadTC.html#8636" class="Function">logAndError1</a> <a id="8649" class="Symbol">:</a> <a id="8651" class="Symbol">⦃</a> <a id="8653" href="Reflection.Debug.html#330" class="Record">IsErrorPart</a> <a id="8665" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8667" class="Symbol">⦄</a> <a id="8669" class="Symbol">→</a> <a id="8671" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8673" class="Symbol">→</a> <a id="8675" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8677" href="Class.MonadTC.html#424" class="Generalizable">B</a>
  <a id="8681" href="Class.MonadTC.html#8636" class="Function">logAndError1</a> <a id="8694" href="Class.MonadTC.html#8694" class="Bound">a</a> <a id="8696" class="Symbol">=</a> <a id="8698" href="Class.MonadTC.html#8558" class="Function">debugLog1</a> <a id="8708" href="Class.MonadTC.html#8694" class="Bound">a</a> <a id="8710" href="Class.Monad.Core.html#369" class="Function Operator">&gt;&gt;</a> <a id="8713" href="Class.MonadTC.html#8489" class="Function">error1</a> <a id="8720" href="Class.MonadTC.html#8694" class="Bound">a</a>

  <a id="8725" href="Class.MonadTC.html#8725" class="Function">markDontFail</a> <a id="8738" class="Symbol">:</a> <a id="8740" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="8747" class="Symbol">→</a> <a id="8749" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8751" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8753" class="Symbol">→</a> <a id="8755" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8757" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="8761" href="Class.MonadTC.html#8725" class="Function">markDontFail</a> <a id="8774" href="Class.MonadTC.html#8774" class="Bound">s</a> <a id="8776" href="Class.MonadTC.html#8776" class="Bound">x</a> <a id="8778" class="Symbol">=</a> <a id="8780" href="Class.MonadError.html#359" class="Function">catch</a> <a id="8786" href="Class.MonadTC.html#8776" class="Bound">x</a> <a id="8788" class="Symbol">λ</a> <a id="8790" href="Class.MonadTC.html#8790" class="Bound">e</a> <a id="8792" class="Symbol">→</a> <a id="8794" href="Class.MonadTC.html#8411" class="Function">logAndError</a> <a id="8806" class="Symbol">(</a><a id="8807" href="Class.MonadTC.html#8774" class="Bound">s</a> <a id="8809" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="8812" class="String">&quot; should never fail! This is a bug!\nError:\n&quot;</a> <a id="8859" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="8862" href="Class.MonadTC.html#8790" class="Bound">e</a><a id="8863" class="Symbol">)</a>

  <a id="8868" href="Class.MonadTC.html#8868" class="Function">goalTy</a> <a id="8875" class="Symbol">:</a> <a id="8877" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="8879" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a>
  <a id="8886" href="Class.MonadTC.html#8868" class="Function">goalTy</a> <a id="8893" class="Symbol">=</a> <a id="8895" class="Keyword">do</a>
    <a id="8902" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="8907" href="Class.MonadTC.html#8907" class="Bound">t</a> <a id="8909" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="8911" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="8918" href="Class.MonadTC.html#847" class="Field">TCEnv.goal</a>
      <a id="8935" class="Keyword">where</a> <a id="8941" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="8946" href="Class.MonadTC.html#8946" class="Bound">T</a> <a id="8948" class="Symbol">→</a> <a id="8950" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="8957" href="Class.MonadTC.html#8946" class="Bound">T</a>
    <a id="8963" href="Class.MonadTC.html#1546" class="Function">inferType</a> <a id="8973" href="Class.MonadTC.html#8907" class="Bound">t</a>

  <a id="8978" class="Comment">-- take the first result if it&#39;s a just, otherwise reset the state and</a>
  <a id="9051" class="Comment">-- run the second computation</a>
  <a id="9083" href="Class.MonadTC.html#9083" class="Function">runSpeculativeMaybe</a> <a id="9103" class="Symbol">:</a> <a id="9105" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="9107" class="Symbol">(</a><a id="9108" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="9114" href="Class.MonadTC.html#422" class="Generalizable">A</a><a id="9115" class="Symbol">)</a> <a id="9117" class="Symbol">→</a> <a id="9119" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="9121" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="9123" class="Symbol">→</a> <a id="9125" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="9127" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="9131" href="Class.MonadTC.html#9083" class="Function">runSpeculativeMaybe</a> <a id="9151" href="Class.MonadTC.html#9151" class="Bound">x</a> <a id="9153" href="Class.MonadTC.html#9153" class="Bound">y</a> <a id="9155" class="Symbol">=</a> <a id="9157" class="Keyword">do</a>
    <a id="9164" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="9172" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="9174" href="Class.MonadTC.html#2230" class="Function">runSpeculative</a> <a id="9189" class="Symbol">(</a><a id="9190" href="Data.Product.html#2313" class="Function Operator">&lt;</a> <a id="9192" href="Function.Base.html#615" class="Function">id</a> <a id="9195" href="Data.Product.html#2313" class="Function Operator">,</a> <a id="9197" href="Data.Maybe.Base.html#1081" class="Function">is-just</a> <a id="9205" href="Data.Product.html#2313" class="Function Operator">&gt;</a> <a id="9207" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="9211" href="Class.MonadTC.html#9151" class="Bound">x</a><a id="9212" class="Symbol">)</a>
      <a id="9220" class="Keyword">where</a> <a id="9226" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="9231" href="Class.MonadTC.html#9231" class="Bound">a</a> <a id="9233" class="Symbol">→</a> <a id="9235" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="9242" href="Class.MonadTC.html#9231" class="Bound">a</a>
    <a id="9248" href="Class.MonadTC.html#9153" class="Bound">y</a>

  <a id="9253" href="Class.MonadTC.html#9253" class="Function">try</a> <a id="9257" class="Symbol">:</a> <a id="9259" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="9264" class="Symbol">(</a><a id="9265" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="9267" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="9268" class="Symbol">)</a> <a id="9270" class="Symbol">→</a> <a id="9272" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="9274" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a> <a id="9276" class="Symbol">→</a> <a id="9278" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="9280" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="9284" href="Class.MonadTC.html#9253" class="Function">try</a> <a id="9288" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="9291" href="Class.MonadTC.html#9291" class="Bound">e</a> <a id="9293" class="Symbol">=</a> <a id="9295" href="Class.MonadTC.html#9291" class="Bound">e</a>
  <a id="9299" href="Class.MonadTC.html#9253" class="Function">try</a> <a id="9303" class="Symbol">(</a><a id="9304" href="Class.MonadTC.html#9304" class="Bound">x</a> <a id="9306" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9308" href="Class.MonadTC.html#9308" class="Bound">cs</a><a id="9310" class="Symbol">)</a> <a id="9312" href="Class.MonadTC.html#9312" class="Bound">e</a> <a id="9314" class="Symbol">=</a> <a id="9316" href="Class.MonadError.html#359" class="Field">MonadError.catch</a> <a id="9333" href="Class.MonadTC.html#4057" class="Bound">me</a> <a id="9336" href="Class.MonadTC.html#9304" class="Bound">x</a> <a id="9338" class="Symbol">(λ</a> <a id="9341" href="Class.MonadTC.html#9341" class="Bound">_</a> <a id="9343" class="Symbol">→</a> <a id="9345" href="Class.MonadTC.html#9253" class="Function">try</a> <a id="9349" href="Class.MonadTC.html#9308" class="Bound">cs</a> <a id="9352" href="Class.MonadTC.html#9312" class="Bound">e</a><a id="9353" class="Symbol">)</a>

  <a id="9358" href="Class.MonadTC.html#9358" class="Function">getConstrs</a> <a id="9369" class="Symbol">:</a> <a id="9371" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="9376" class="Symbol">→</a> <a id="9378" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="9380" class="Symbol">(</a><a id="9381" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="9386" class="Symbol">(</a><a id="9387" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="9392" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="9394" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a><a id="9398" class="Symbol">))</a>
  <a id="9403" href="Class.MonadTC.html#9358" class="Function">getConstrs</a> <a id="9414" href="Class.MonadTC.html#9414" class="Bound">n</a> <a id="9416" class="Symbol">=</a> <a id="9418" class="Keyword">do</a>
    <a id="9425" href="Class.MonadTC.html#9425" class="Bound">d</a> <a id="9427" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="9429" href="Class.MonadTC.html#2032" class="Function">getDefinition</a> <a id="9443" href="Class.MonadTC.html#9414" class="Bound">n</a>
    <a id="9449" href="Class.MonadTC.html#9449" class="Bound">cs</a> <a id="9452" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="9454" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="9459" href="Class.MonadTC.html#9425" class="Bound">d</a> <a id="9461" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="9464" class="Symbol">λ</a> <a id="9466" class="Keyword">where</a>
      <a id="9478" class="Symbol">(</a><a id="9479" href="Agda.Builtin.Reflection.html#7311" class="InductiveConstructor">record′</a> <a id="9487" href="Class.MonadTC.html#9487" class="Bound">c</a> <a id="9489" href="Class.MonadTC.html#9489" class="Bound">fs</a><a id="9491" class="Symbol">)</a>  <a id="9494" class="Symbol">→</a> <a id="9496" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="9503" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="9505" href="Class.MonadTC.html#9487" class="Bound">c</a> <a id="9507" href="Data.List.Base.html#5025" class="Function Operator">]</a>
      <a id="9515" class="Symbol">(</a><a id="9516" href="Agda.Builtin.Reflection.html#7252" class="InductiveConstructor">data-type</a> <a id="9526" href="Class.MonadTC.html#9526" class="Bound">pars</a> <a id="9531" href="Class.MonadTC.html#9531" class="Bound">cs</a><a id="9533" class="Symbol">)</a> <a id="9535" class="Symbol">→</a> <a id="9537" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="9544" href="Class.MonadTC.html#9531" class="Bound">cs</a>
      <a id="9553" class="CatchallClause Symbol">_</a>                   <a id="9573" class="Symbol">→</a> <a id="9575" href="Class.MonadError.html#339" class="Function">error</a> <a id="9581" class="Symbol">(</a><a id="9582" href="Class.MonadTC.html#9414" class="Bound">n</a> <a id="9584" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="9587" class="String">&quot;is not a data or record definition!&quot;</a> <a id="9625" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="9628" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9630" class="Symbol">)</a>
    <a id="9636" href="Class.Traversable.Core.html#456" class="Function">traverse</a> <a id="9645" class="Symbol">(λ</a> <a id="9648" href="Class.MonadTC.html#9648" class="Bound">n</a> <a id="9650" class="Symbol">→</a> <a id="9652" class="Symbol">(</a><a id="9653" href="Class.MonadTC.html#9648" class="Bound">n</a> <a id="9655" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,_</a><a id="9657" class="Symbol">)</a> <a id="9659" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="9663" class="Symbol">(</a><a id="9664" href="Class.MonadTC.html#1627" class="Function">normalise</a> <a id="9674" href="Class.Monad.Core.html#424" class="Function Operator">=&lt;&lt;</a> <a id="9678" href="Class.MonadTC.html#1995" class="Function">getType</a> <a id="9686" href="Class.MonadTC.html#9648" class="Bound">n</a><a id="9687" class="Symbol">))</a> <a id="9690" class="Symbol">(</a><a id="9691" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="9696" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="9701" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="9703" href="Class.MonadTC.html#9449" class="Bound">cs</a><a id="9705" class="Symbol">)</a>

  <a id="9710" href="Class.MonadTC.html#9710" class="Function">getConstrsForType</a> <a id="9728" class="Symbol">:</a> <a id="9730" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="9735" class="Symbol">→</a> <a id="9737" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="9739" class="Symbol">(</a><a id="9740" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="9745" class="Symbol">(</a><a id="9746" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="9751" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="9753" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a><a id="9757" class="Symbol">))</a>
  <a id="9762" href="Class.MonadTC.html#9710" class="Function">getConstrsForType</a> <a id="9780" href="Class.MonadTC.html#9780" class="Bound">ty</a> <a id="9783" class="Symbol">=</a> <a id="9785" class="Keyword">do</a>
    <a id="9792" class="Symbol">(</a><a id="9793" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="9797" href="Class.MonadTC.html#9797" class="Bound">n</a> <a id="9799" class="Symbol">_)</a> <a id="9802" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="9804" href="Class.MonadTC.html#1627" class="Function">normalise</a> <a id="9814" href="Class.MonadTC.html#9780" class="Bound">ty</a>
      <a id="9823" class="Keyword">where</a> <a id="9829" class="CatchallClause Symbol">_</a> <a id="9831" class="Symbol">→</a> <a id="9833" href="Class.MonadError.html#339" class="Function">error</a> <a id="9839" class="Symbol">(</a><a id="9840" href="Class.MonadTC.html#9780" class="Bound">ty</a> <a id="9843" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="9846" class="String">&quot;does not reduce to a definition!&quot;</a> <a id="9881" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="9884" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9886" class="Symbol">)</a>
    <a id="9892" href="Class.MonadTC.html#9358" class="Function">getConstrs</a> <a id="9903" href="Class.MonadTC.html#9797" class="Bound">n</a>

  <a id="9908" href="Class.MonadTC.html#9908" class="Function">getConstrsForTerm</a> <a id="9926" class="Symbol">:</a> <a id="9928" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="9933" class="Symbol">→</a> <a id="9935" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="9937" class="Symbol">(</a><a id="9938" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="9943" class="Symbol">(</a><a id="9944" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="9949" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="9951" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a><a id="9955" class="Symbol">))</a>
  <a id="9960" href="Class.MonadTC.html#9908" class="Function">getConstrsForTerm</a> <a id="9978" href="Class.MonadTC.html#9978" class="Bound">t</a> <a id="9980" class="Symbol">=</a> <a id="9982" href="Class.MonadTC.html#9710" class="Function">getConstrsForType</a> <a id="10000" href="Class.Monad.Core.html#424" class="Function Operator">=&lt;&lt;</a> <a id="10004" href="Class.MonadTC.html#1546" class="Function">inferType</a> <a id="10014" href="Class.MonadTC.html#9978" class="Bound">t</a>

  <a id="10019" class="Comment">-- run a TC computation to arrive at the term under the binder for the pattern</a>
  <a id="10100" href="Class.MonadTC.html#10100" class="Function">withPattern</a> <a id="10112" class="Symbol">:</a> <a id="10114" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="10119" class="Symbol">(</a><a id="10120" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="10127" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="10129" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="10133" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a><a id="10137" class="Symbol">)</a> <a id="10139" class="Symbol">→</a> <a id="10141" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="10146" class="Symbol">(</a><a id="10147" href="Agda.Builtin.Reflection.html#3697" class="Datatype">Arg</a> <a id="10151" href="Agda.Builtin.Reflection.html#4726" class="Datatype">Pattern</a><a id="10158" class="Symbol">)</a> <a id="10160" class="Symbol">→</a> <a id="10162" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10164" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="10169" class="Symbol">→</a> <a id="10171" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10173" href="Agda.Builtin.Reflection.html#4745" class="Datatype">Clause</a>
  <a id="10182" href="Class.MonadTC.html#10100" class="Function">withPattern</a> <a id="10194" href="Class.MonadTC.html#10194" class="Bound">tel</a> <a id="10198" href="Class.MonadTC.html#10198" class="Bound">ps</a> <a id="10201" href="Class.MonadTC.html#10201" class="Bound">t</a> <a id="10203" class="Symbol">=</a> <a id="10205" href="Agda.Builtin.Reflection.html#5758" class="InductiveConstructor">Clause.clause</a> <a id="10219" href="Class.MonadTC.html#10194" class="Bound">tel</a> <a id="10223" href="Class.MonadTC.html#10198" class="Bound">ps</a> <a id="10226" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="10230" href="Class.MonadTC.html#8165" class="Function">extendContext&#39;</a> <a id="10245" class="Symbol">(</a><a id="10246" href="Data.List.Base.html#1544" class="Function">map</a> <a id="10250" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="10256" href="Class.MonadTC.html#10194" class="Bound">tel</a><a id="10259" class="Symbol">)</a> <a id="10261" href="Class.MonadTC.html#10201" class="Bound">t</a>

  <a id="10266" href="Class.MonadTC.html#10266" class="Function">unifyWithGoal</a> <a id="10280" class="Symbol">:</a> <a id="10282" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="10287" class="Symbol">→</a> <a id="10289" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10291" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="10295" href="Class.MonadTC.html#10266" class="Function">unifyWithGoal</a> <a id="10309" href="Class.MonadTC.html#10309" class="Bound">t</a> <a id="10311" class="Symbol">=</a> <a id="10313" class="Keyword">do</a>
    <a id="10320" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="10325" href="Class.MonadTC.html#10325" class="Bound">t&#39;</a> <a id="10328" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="10330" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="10337" href="Class.MonadTC.html#847" class="Field">TCEnv.goal</a>
      <a id="10354" class="Keyword">where</a> <a id="10360" class="CatchallClause Symbol">_</a> <a id="10362" class="Symbol">→</a> <a id="10364" href="Class.MonadTC.html#8489" class="Function">error1</a> <a id="10371" class="String">&quot;unifyWithGoal: Goal is not a term!&quot;</a>
    <a id="10412" href="Class.MonadTC.html#1445" class="Function">unify</a> <a id="10418" href="Class.MonadTC.html#10325" class="Bound">t&#39;</a> <a id="10421" href="Class.MonadTC.html#10309" class="Bound">t</a>

  <a id="10426" href="Class.MonadTC.html#10426" class="Function">runWithHole</a> <a id="10438" class="Symbol">:</a> <a id="10440" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="10445" class="Symbol">→</a> <a id="10447" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10449" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="10451" class="Symbol">→</a> <a id="10453" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10455" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="10459" href="Class.MonadTC.html#10426" class="Function">runWithHole</a> <a id="10471" href="Class.MonadTC.html#10471" class="Bound">t</a> <a id="10473" class="Symbol">=</a> <a id="10475" href="Class.MonadReader.html#335" class="Field">local</a> <a id="10481" class="Symbol">(λ</a> <a id="10484" href="Class.MonadTC.html#10484" class="Bound">env</a> <a id="10488" class="Symbol">→</a> <a id="10490" class="Keyword">record</a> <a id="10497" href="Class.MonadTC.html#10484" class="Bound">env</a> <a id="10501" class="Symbol">{</a> <a id="10503" href="Class.MonadTC.html#847" class="Field">goal</a> <a id="10508" class="Symbol">=</a> <a id="10510" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="10515" href="Class.MonadTC.html#10471" class="Bound">t</a> <a id="10517" class="Symbol">})</a>

  <a id="10523" href="Class.MonadTC.html#10523" class="Function">runWithGoalTy</a> <a id="10537" class="Symbol">:</a> <a id="10539" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="10544" class="Symbol">→</a> <a id="10546" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10548" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="10550" class="Symbol">→</a> <a id="10552" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10554" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="10558" href="Class.MonadTC.html#10523" class="Function">runWithGoalTy</a> <a id="10572" href="Class.MonadTC.html#10572" class="Bound">t</a> <a id="10574" class="Symbol">=</a> <a id="10576" href="Class.MonadReader.html#335" class="Field">local</a> <a id="10582" class="Symbol">(λ</a> <a id="10585" href="Class.MonadTC.html#10585" class="Bound">env</a> <a id="10589" class="Symbol">→</a> <a id="10591" class="Keyword">record</a> <a id="10598" href="Class.MonadTC.html#10585" class="Bound">env</a> <a id="10602" class="Symbol">{</a> <a id="10604" href="Class.MonadTC.html#847" class="Field">goal</a> <a id="10609" class="Symbol">=</a> <a id="10611" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="10616" href="Class.MonadTC.html#10572" class="Bound">t</a> <a id="10618" class="Symbol">})</a>

  <a id="10624" href="Class.MonadTC.html#10624" class="Function">goalHole</a> <a id="10633" class="Symbol">:</a> <a id="10635" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10637" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="10644" href="Class.MonadTC.html#10624" class="Function">goalHole</a> <a id="10653" class="Symbol">=</a> <a id="10655" class="Keyword">do</a>
    <a id="10662" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="10667" href="Class.MonadTC.html#10667" class="Bound">T</a> <a id="10669" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="10671" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="10678" href="Class.MonadTC.html#847" class="Field">TCEnv.goal</a>
      <a id="10695" class="Keyword">where</a> <a id="10701" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="10706" href="Class.MonadTC.html#10706" class="Bound">hole</a> <a id="10711" class="Symbol">→</a> <a id="10713" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="10720" href="Class.MonadTC.html#10706" class="Bound">hole</a>
    <a id="10729" href="Class.MonadTC.html#3945" class="Function">newMeta</a> <a id="10737" href="Class.MonadTC.html#10667" class="Bound">T</a>

  <a id="10742" href="Class.MonadTC.html#10742" class="Function">withGoalHole</a> <a id="10755" class="Symbol">:</a> <a id="10757" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10759" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a> <a id="10761" class="Symbol">→</a> <a id="10763" href="Class.MonadTC.html#4010" class="Bound">M</a> <a id="10765" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="10772" href="Class.MonadTC.html#10742" class="Function">withGoalHole</a> <a id="10785" href="Class.MonadTC.html#10785" class="Bound">tac</a> <a id="10789" class="Symbol">=</a> <a id="10791" class="Keyword">do</a>
    <a id="10798" href="Class.MonadTC.html#10798" class="Bound">hole</a> <a id="10803" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="10805" href="Class.MonadTC.html#10624" class="Function">goalHole</a>
    <a id="10818" href="Class.MonadTC.html#10426" class="Function">runWithHole</a> <a id="10830" href="Class.MonadTC.html#10798" class="Bound">hole</a> <a id="10835" href="Class.MonadTC.html#10785" class="Bound">tac</a>
    <a id="10843" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="10850" href="Class.MonadTC.html#10798" class="Bound">hole</a>

<a id="MonadTC-TC"></a><a id="10856" href="Class.MonadTC.html#10856" class="Function">MonadTC-TC</a> <a id="10867" class="Symbol">:</a> <a id="10869" href="Class.MonadTC.html#1313" class="Record">MonadTC</a> <a id="10877" href="Agda.Builtin.Reflection.html#8218" class="Postulate">R.TC</a> <a id="10882" class="Symbol">⦃</a> <a id="10884" href="Class.Monad.Instances.html#210" class="Function">Monad-TC</a> <a id="10893" class="Symbol">⦄</a> <a id="10895" class="Symbol">⦃</a> <a id="10897" href="Class.MonadError.html#407" class="Function">MonadError-TC</a> <a id="10911" class="Symbol">⦄</a>
<a id="10913" href="Class.MonadTC.html#10856" class="Function">MonadTC-TC</a> <a id="10924" class="Symbol">=</a> <a id="10926" class="Keyword">record</a> <a id="10933" class="Symbol">{</a> <a id="10935" href="Reflection.html" class="Module">R</a><a id="10936" class="Symbol">;</a> <a id="10938" href="Class.MonadTC.html#10938" class="Module">R&#39;</a> <a id="10941" class="Keyword">using</a> <a id="10947" class="Symbol">(</a><a id="10948" href="Agda.Builtin.Reflection.html#8811" class="Postulate">quoteωTC</a><a id="10956" class="Symbol">;</a> <a id="10958" href="Agda.Builtin.Reflection.html#9760" class="Postulate">withReconstructed</a><a id="10975" class="Symbol">;</a> <a id="10977" href="Agda.Builtin.Reflection.html#10067" class="Postulate">onlyReduceDefs</a><a id="10991" class="Symbol">;</a> <a id="10993" href="Agda.Builtin.Reflection.html#10217" class="Postulate">dontReduceDefs</a><a id="11007" class="Symbol">)</a> <a id="11009" class="Symbol">}</a>
</pre></body></html>