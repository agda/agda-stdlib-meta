<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Class.MonadTC</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/stdlib-meta/tree/master/Class/MonadTC.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">module</a> <a id="44" href="Class.MonadTC.html" class="Module">Class.MonadTC</a> <a id="58" class="Keyword">where</a>

<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="Prelude.html" class="Module">Prelude</a>

<a id="86" class="Keyword">open</a> <a id="91" class="Keyword">import</a> <a id="98" href="Data.List.html" class="Module">Data.List</a> <a id="108" class="Keyword">using</a> <a id="114" class="Symbol">(</a><a id="115" href="Data.List.Base.html#1553" class="Function">map</a><a id="118" class="Symbol">)</a>

<a id="121" class="Keyword">import</a> <a id="128" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a> <a id="152" class="Symbol">as</a> <a id="155" class="Module">R&#39;</a>
<a id="158" class="Keyword">import</a> <a id="165" href="Reflection.html" class="Module">Reflection</a> <a id="176" class="Symbol">as</a> <a id="179" class="Module">R</a>
<a id="181" class="Keyword">open</a> <a id="186" class="Keyword">import</a> <a id="193" href="Reflection.Syntax.html" class="Module">Reflection.Syntax</a>

<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Reflection.Debug.html" class="Module">Reflection.Debug</a>

<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Class.MonadReader.html" class="Module">Class.MonadReader</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="Class.MonadError.html" class="Module">Class.MonadError</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Class.Functor.html" class="Module">Class.Functor</a>
<a id="327" class="Keyword">open</a> <a id="332" class="Keyword">import</a> <a id="339" href="Class.Monad.html" class="Module">Class.Monad</a>
<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Class.Traversable.html" class="Module">Class.Traversable</a>


<a id="383" class="Keyword">private</a>
  <a id="393" class="Keyword">variable</a>
    <a id="406" href="Class.MonadTC.html#406" class="Generalizable">a</a> <a id="408" href="Class.MonadTC.html#408" class="Generalizable">f</a> <a id="410" class="Symbol">:</a> <a id="412" href="Agda.Primitive.html#591" class="Postulate">Level</a>
    <a id="422" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="424" href="Class.MonadTC.html#424" class="Generalizable">B</a> <a id="426" class="Symbol">:</a> <a id="428" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="432" href="Class.MonadTC.html#408" class="Generalizable">f</a>

<a id="435" class="Keyword">data</a> <a id="ReductionOptions"></a><a id="440" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a> <a id="457" class="Symbol">:</a> <a id="459" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="463" class="Keyword">where</a>
  <a id="ReductionOptions.onlyReduce"></a><a id="471" href="Class.MonadTC.html#471" class="InductiveConstructor">onlyReduce</a> <a id="482" class="Symbol">:</a> <a id="484" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="489" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="494" class="Symbol">→</a> <a id="496" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a>
  <a id="ReductionOptions.dontReduce"></a><a id="515" href="Class.MonadTC.html#515" class="InductiveConstructor">dontReduce</a> <a id="526" class="Symbol">:</a> <a id="528" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="533" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="538" class="Symbol">→</a> <a id="540" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a>

<a id="reduceAll"></a><a id="558" href="Class.MonadTC.html#558" class="Function">reduceAll</a> <a id="568" class="Symbol">:</a> <a id="570" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a>
<a id="587" href="Class.MonadTC.html#558" class="Function">reduceAll</a> <a id="597" class="Symbol">=</a> <a id="599" href="Class.MonadTC.html#515" class="InductiveConstructor">dontReduce</a> <a id="610" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="614" class="Keyword">record</a> <a id="TCEnv"></a><a id="621" href="Class.MonadTC.html#621" class="Record">TCEnv</a> <a id="627" class="Symbol">:</a> <a id="629" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="633" class="Keyword">where</a>
  <a id="641" class="Keyword">field</a>
    <a id="TCEnv.normalisation"></a><a id="651" href="Class.MonadTC.html#651" class="Field">normalisation</a>  <a id="666" class="Symbol">:</a> <a id="668" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
    <a id="TCEnv.reconstruction"></a><a id="677" href="Class.MonadTC.html#677" class="Field">reconstruction</a> <a id="692" class="Symbol">:</a> <a id="694" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
    <a id="TCEnv.noConstraints"></a><a id="703" href="Class.MonadTC.html#703" class="Field">noConstraints</a>  <a id="718" class="Symbol">:</a> <a id="720" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
    <a id="TCEnv.reduction"></a><a id="729" href="Class.MonadTC.html#729" class="Field">reduction</a>      <a id="744" class="Symbol">:</a> <a id="746" href="Class.MonadTC.html#440" class="Datatype">ReductionOptions</a>
    <a id="TCEnv.globalContext"></a><a id="767" href="Class.MonadTC.html#767" class="Field">globalContext</a>  <a id="782" class="Symbol">:</a> <a id="784" href="Reflection.Term.html#1580" class="Function">Telescope</a>
    <a id="TCEnv.localContext"></a><a id="798" href="Class.MonadTC.html#798" class="Field">localContext</a>   <a id="813" class="Symbol">:</a> <a id="815" href="Reflection.Term.html#1580" class="Function">Telescope</a>
    <a id="TCEnv.goal"></a><a id="829" href="Class.MonadTC.html#829" class="Field">goal</a>           <a id="844" class="Symbol">:</a> <a id="846" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="851" href="Data.Sum.Base.html#743" class="Datatype Operator">⊎</a> <a id="853" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="TCEnv.debug"></a><a id="862" href="Class.MonadTC.html#862" class="Field">debug</a>          <a id="877" class="Symbol">:</a> <a id="879" href="Reflection.Debug.html#2340" class="Record">DebugOptions</a>

<a id="initTCEnvWithGoal"></a><a id="893" href="Class.MonadTC.html#893" class="Function">initTCEnvWithGoal</a> <a id="911" class="Symbol">:</a> <a id="913" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="918" class="Symbol">→</a> <a id="920" href="Agda.Builtin.Reflection.html#8279" class="Postulate">R.TC</a> <a id="925" href="Class.MonadTC.html#621" class="Record">TCEnv</a>
<a id="931" href="Class.MonadTC.html#893" class="Function">initTCEnvWithGoal</a> <a id="949" href="Class.MonadTC.html#949" class="Bound">goal</a> <a id="954" class="Symbol">=</a> <a id="956" href="Agda.Builtin.Reflection.html#8920" class="Postulate">R.getContext</a> <a id="969" href="Class.Functor.Core.html#802" class="Function Operator">&lt;&amp;&gt;</a> <a id="973" class="Symbol">λ</a> <a id="975" href="Class.MonadTC.html#975" class="Bound">ctx</a> <a id="979" class="Symbol">→</a> <a id="981" class="Keyword">record</a>
  <a id="990" class="Symbol">{</a> <a id="992" href="Class.MonadTC.html#651" class="Field">normalisation</a>  <a id="1007" class="Symbol">=</a> <a id="1009" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
  <a id="1017" class="Symbol">;</a> <a id="1019" href="Class.MonadTC.html#677" class="Field">reconstruction</a> <a id="1034" class="Symbol">=</a> <a id="1036" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
  <a id="1044" class="Symbol">;</a> <a id="1046" href="Class.MonadTC.html#703" class="Field">noConstraints</a>  <a id="1061" class="Symbol">=</a> <a id="1063" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
  <a id="1071" class="Symbol">;</a> <a id="1073" href="Class.MonadTC.html#729" class="Field">reduction</a>      <a id="1088" class="Symbol">=</a> <a id="1090" href="Class.MonadTC.html#558" class="Function">reduceAll</a>
  <a id="1102" class="Symbol">;</a> <a id="1104" href="Class.MonadTC.html#767" class="Field">globalContext</a>  <a id="1119" class="Symbol">=</a> <a id="1121" href="Class.MonadTC.html#975" class="Bound">ctx</a>
  <a id="1127" class="Symbol">;</a> <a id="1129" href="Class.MonadTC.html#798" class="Field">localContext</a>   <a id="1144" class="Symbol">=</a> <a id="1146" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
  <a id="1151" class="Symbol">;</a> <a id="1153" href="Class.MonadTC.html#829" class="Field">goal</a>           <a id="1168" class="Symbol">=</a> <a id="1170" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="1175" href="Class.MonadTC.html#949" class="Bound">goal</a>
  <a id="1182" class="Symbol">;</a> <a id="1184" href="Class.MonadTC.html#862" class="Field">debug</a>          <a id="1199" class="Symbol">=</a> <a id="1201" href="Reflection.Debug.html#2474" class="Function">defaultDebugOptions</a>
  <a id="1223" class="Symbol">}</a>

<a id="initTCEnv"></a><a id="1226" href="Class.MonadTC.html#1226" class="Function">initTCEnv</a> <a id="1236" class="Symbol">:</a> <a id="1238" href="Agda.Builtin.Reflection.html#8279" class="Postulate">R.TC</a> <a id="1243" href="Class.MonadTC.html#621" class="Record">TCEnv</a>
<a id="1249" href="Class.MonadTC.html#1226" class="Function">initTCEnv</a> <a id="1259" class="Symbol">=</a> <a id="1261" href="Class.MonadTC.html#893" class="Function">initTCEnvWithGoal</a> <a id="1279" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>

<a id="1288" class="Keyword">record</a> <a id="MonadTC"></a><a id="1295" href="Class.MonadTC.html#1295" class="Record">MonadTC</a> <a id="1303" class="Symbol">(</a><a id="1304" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1306" class="Symbol">:</a> <a id="1308" class="Symbol">∀</a> <a id="1310" class="Symbol">{</a><a id="1311" href="Class.MonadTC.html#1311" class="Bound">f</a><a id="1312" class="Symbol">}</a> <a id="1314" class="Symbol">→</a> <a id="1316" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1320" href="Class.MonadTC.html#1311" class="Bound">f</a> <a id="1322" class="Symbol">→</a> <a id="1324" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1328" href="Class.MonadTC.html#1311" class="Bound">f</a><a id="1329" class="Symbol">)</a>
               <a id="1346" class="Symbol">⦃</a> <a id="1348" href="Class.MonadTC.html#1348" class="Bound">m</a> <a id="1350" class="Symbol">:</a> <a id="1352" href="Class.Monad.Core.html#203" class="Record">Monad</a> <a id="1358" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1360" class="Symbol">⦄</a> <a id="1362" class="Symbol">⦃</a> <a id="1364" href="Class.MonadTC.html#1364" class="Bound">me</a> <a id="1367" class="Symbol">:</a> <a id="1369" href="Class.MonadError.html#263" class="Record">MonadError</a> <a id="1380" class="Symbol">(</a><a id="1381" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1386" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="1395" class="Symbol">)</a> <a id="1397" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1399" class="Symbol">⦄</a> <a id="1401" class="Symbol">:</a> <a id="1403" href="Agda.Primitive.html#375" class="Primitive">Setω₁</a> <a id="1409" class="Keyword">where</a>
  <a id="1417" class="Keyword">field</a>
    <a id="MonadTC.unify"></a><a id="1427" href="Class.MonadTC.html#1427" class="Field">unify</a>            <a id="1444" class="Symbol">:</a> <a id="1446" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1451" class="Symbol">→</a> <a id="1453" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1458" class="Symbol">→</a> <a id="1460" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1462" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.typeError"></a><a id="1468" href="Class.MonadTC.html#1468" class="Field">typeError</a>        <a id="1485" class="Symbol">:</a> <a id="1487" class="Symbol">∀</a> <a id="1489" class="Symbol">{</a><a id="1490" href="Class.MonadTC.html#1490" class="Bound">A</a> <a id="1492" class="Symbol">:</a> <a id="1494" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1498" href="Class.MonadTC.html#408" class="Generalizable">f</a><a id="1499" class="Symbol">}</a> <a id="1501" class="Symbol">→</a> <a id="1503" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1508" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a> <a id="1518" class="Symbol">→</a> <a id="1520" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1522" href="Class.MonadTC.html#1490" class="Bound">A</a>
    <a id="MonadTC.inferType"></a><a id="1528" href="Class.MonadTC.html#1528" class="Field">inferType</a>        <a id="1545" class="Symbol">:</a> <a id="1547" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1552" class="Symbol">→</a> <a id="1554" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1556" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="MonadTC.checkType"></a><a id="1565" href="Class.MonadTC.html#1565" class="Field">checkType</a>        <a id="1582" class="Symbol">:</a> <a id="1584" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1589" class="Symbol">→</a> <a id="1591" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1596" class="Symbol">→</a> <a id="1598" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1600" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.normalise"></a><a id="1609" href="Class.MonadTC.html#1609" class="Field">normalise</a>        <a id="1626" class="Symbol">:</a> <a id="1628" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1637" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.reduce"></a><a id="1646" href="Class.MonadTC.html#1646" class="Field">reduce</a>           <a id="1663" class="Symbol">:</a> <a id="1665" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1670" class="Symbol">→</a> <a id="1672" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1674" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.quoteTC"></a><a id="1683" href="Class.MonadTC.html#1683" class="Field">quoteTC</a>          <a id="1700" class="Symbol">:</a> <a id="1702" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="1704" class="Symbol">→</a> <a id="1706" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1708" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.unquoteTC"></a><a id="1717" href="Class.MonadTC.html#1717" class="Field">unquoteTC</a>        <a id="1734" class="Symbol">:</a> <a id="1736" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1741" class="Symbol">→</a> <a id="1743" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1745" href="Class.MonadTC.html#422" class="Generalizable">A</a>
    <a id="MonadTC.quoteωTC"></a><a id="1751" href="Class.MonadTC.html#1751" class="Field">quoteωTC</a>         <a id="1768" class="Symbol">:</a> <a id="1770" class="Symbol">∀</a> <a id="1772" class="Symbol">{</a><a id="1773" href="Class.MonadTC.html#1773" class="Bound">A</a> <a id="1775" class="Symbol">:</a> <a id="1777" href="Agda.Primitive.html#375" class="Primitive">Setω</a><a id="1781" class="Symbol">}</a> <a id="1783" class="Symbol">→</a> <a id="1785" href="Class.MonadTC.html#1773" class="Bound">A</a> <a id="1787" class="Symbol">→</a> <a id="1789" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1791" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.freshName"></a><a id="1800" href="Class.MonadTC.html#1800" class="Field">freshName</a>        <a id="1817" class="Symbol">:</a> <a id="1819" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="1826" class="Symbol">→</a> <a id="1828" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1830" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a>
    <a id="MonadTC.declareDef"></a><a id="1839" href="Class.MonadTC.html#1839" class="Field">declareDef</a>       <a id="1856" class="Symbol">:</a> <a id="1858" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1862" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="1867" class="Symbol">→</a> <a id="1869" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1874" class="Symbol">→</a> <a id="1876" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1878" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.declarePostulate"></a><a id="1884" href="Class.MonadTC.html#1884" class="Field">declarePostulate</a> <a id="1901" class="Symbol">:</a> <a id="1903" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1907" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="1912" class="Symbol">→</a> <a id="1914" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1919" class="Symbol">→</a> <a id="1921" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1923" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.defineFun"></a><a id="1929" href="Class.MonadTC.html#1929" class="Field">defineFun</a>        <a id="1946" class="Symbol">:</a> <a id="1948" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="1953" class="Symbol">→</a> <a id="1955" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1960" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a> <a id="1967" class="Symbol">→</a> <a id="1969" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="1971" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.getType"></a><a id="1977" href="Class.MonadTC.html#1977" class="Field">getType</a>          <a id="1994" class="Symbol">:</a> <a id="1996" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2001" class="Symbol">→</a> <a id="2003" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2005" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="MonadTC.getDefinition"></a><a id="2014" href="Class.MonadTC.html#2014" class="Field">getDefinition</a>    <a id="2031" class="Symbol">:</a> <a id="2033" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2038" class="Symbol">→</a> <a id="2040" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2042" href="Agda.Builtin.Reflection.html#7162" class="Datatype">Definition</a>
    <a id="MonadTC.blockOnMeta"></a><a id="2057" href="Class.MonadTC.html#2057" class="Field">blockOnMeta</a>      <a id="2074" class="Symbol">:</a> <a id="2076" href="Agda.Builtin.Reflection.html#2440" class="Postulate">Meta</a> <a id="2081" class="Symbol">→</a> <a id="2083" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2085" href="Class.MonadTC.html#422" class="Generalizable">A</a>
    <a id="MonadTC.commitTC"></a><a id="2091" href="Class.MonadTC.html#2091" class="Field">commitTC</a>         <a id="2108" class="Symbol">:</a> <a id="2110" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2112" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.isMacro"></a><a id="2118" href="Class.MonadTC.html#2118" class="Field">isMacro</a>          <a id="2135" class="Symbol">:</a> <a id="2137" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2142" class="Symbol">→</a> <a id="2144" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2146" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
    <a id="MonadTC.debugPrint"></a><a id="2155" href="Class.MonadTC.html#2155" class="Field">debugPrint</a>       <a id="2172" class="Symbol">:</a> <a id="2174" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="2181" class="Symbol">→</a> <a id="2183" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2185" class="Symbol">→</a> <a id="2187" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2192" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a> <a id="2202" class="Symbol">→</a> <a id="2204" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2206" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.runSpeculative"></a><a id="2212" href="Class.MonadTC.html#2212" class="Field">runSpeculative</a>   <a id="2229" class="Symbol">:</a> <a id="2231" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2233" class="Symbol">(</a><a id="2234" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="2236" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="2238" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a><a id="2242" class="Symbol">)</a> <a id="2244" class="Symbol">→</a> <a id="2246" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2248" href="Class.MonadTC.html#422" class="Generalizable">A</a>

  <a id="2253" class="Keyword">instance</a> <a id="2262" href="Class.MonadTC.html#2262" class="Function">_</a> <a id="2264" class="Symbol">=</a> <a id="2266" href="Class.Monad.Core.html#655" class="Function">Functor-M</a>
  <a id="2278" class="Keyword">open</a> <a id="2283" href="Class.MonadError.html#263" class="Module">MonadError</a> <a id="2294" href="Class.MonadTC.html#1364" class="Bound">me</a>

  <a id="MonadTC.runAndReset"></a><a id="2300" href="Class.MonadTC.html#2300" class="Function">runAndReset</a> <a id="2312" class="Symbol">:</a> <a id="2314" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2316" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="2318" class="Symbol">→</a> <a id="2320" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2322" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="2326" href="Class.MonadTC.html#2300" class="Function">runAndReset</a> <a id="2338" href="Class.MonadTC.html#2338" class="Bound">x</a> <a id="2340" class="Symbol">=</a> <a id="2342" href="Class.MonadTC.html#2212" class="Field">runSpeculative</a> <a id="2357" class="Symbol">((</a><a id="2359" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,</a> <a id="2362" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a><a id="2367" class="Symbol">)</a> <a id="2369" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="2373" href="Class.MonadTC.html#2338" class="Bound">x</a><a id="2374" class="Symbol">)</a>

  <a id="2379" class="Comment">-- dry-run and return true iff no error occured</a>
  <a id="2429" class="Comment">-- does not change any state</a>
  <a id="MonadTC.isSuccessful"></a><a id="2460" href="Class.MonadTC.html#2460" class="Function">isSuccessful</a> <a id="2473" class="Symbol">:</a> <a id="2475" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2477" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="2479" class="Symbol">→</a> <a id="2481" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2483" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="2490" href="Class.MonadTC.html#2460" class="Function">isSuccessful</a> <a id="2503" href="Class.MonadTC.html#2503" class="Bound">x</a> <a id="2505" class="Symbol">=</a> <a id="2507" href="Class.MonadTC.html#2300" class="Function">runAndReset</a> <a id="2519" class="Symbol">(</a><a id="2520" href="Class.MonadError.html#359" class="Function">catch</a> <a id="2526" class="Symbol">(</a><a id="2527" href="Class.MonadTC.html#2503" class="Bound">x</a> <a id="2529" href="Class.Monad.Core.html#369" class="Function Operator">&gt;&gt;</a> <a id="2532" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2539" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a><a id="2543" class="Symbol">)</a> <a id="2545" class="Symbol">(λ</a> <a id="2548" href="Class.MonadTC.html#2548" class="Bound">_</a> <a id="2550" class="Symbol">→</a> <a id="2552" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2559" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a><a id="2564" class="Symbol">))</a>

  <a id="2570" class="Comment">-- TODO: return true on function, axiom and prim-fun constructors?</a>
  <a id="MonadTC.isDef"></a><a id="2639" href="Class.MonadTC.html#2639" class="Function">isDef</a> <a id="2645" class="Symbol">:</a> <a id="2647" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2652" class="Symbol">→</a> <a id="2654" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2656" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="2663" href="Class.MonadTC.html#2639" class="Function">isDef</a> <a id="2669" href="Class.MonadTC.html#2669" class="Bound">n</a> <a id="2671" class="Symbol">=</a> <a id="2673" class="Keyword">do</a>
    <a id="2680" href="Agda.Builtin.Reflection.html#7357" class="InductiveConstructor">constructor′</a> <a id="2693" class="Symbol">_</a> <a id="2695" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2697" href="Class.MonadTC.html#2014" class="Field">getDefinition</a> <a id="2711" href="Class.MonadTC.html#2669" class="Bound">n</a>
      <a id="2719" class="Keyword">where</a> <a id="2725" class="CatchallClause Symbol">_</a> <a id="2727" class="Symbol">→</a> <a id="2729" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2736" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
    <a id="2745" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2752" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>

  <a id="MonadTC.isCon"></a><a id="2761" href="Class.MonadTC.html#2761" class="Function">isCon</a> <a id="2767" class="Symbol">:</a> <a id="2769" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2774" class="Symbol">→</a> <a id="2776" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2778" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="2785" href="Class.MonadTC.html#2761" class="Function">isCon</a> <a id="2791" href="Class.MonadTC.html#2791" class="Bound">n</a> <a id="2793" class="Symbol">=</a> <a id="2795" class="Keyword">do</a>
    <a id="2802" href="Agda.Builtin.Reflection.html#7357" class="InductiveConstructor">constructor′</a> <a id="2815" class="Symbol">_</a> <a id="2817" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2819" href="Class.MonadTC.html#2014" class="Field">getDefinition</a> <a id="2833" href="Class.MonadTC.html#2791" class="Bound">n</a>
      <a id="2841" class="Keyword">where</a> <a id="2847" class="CatchallClause Symbol">_</a> <a id="2849" class="Symbol">→</a> <a id="2851" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2858" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
    <a id="2868" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2875" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>

  <a id="MonadTC.nameConstr"></a><a id="2883" href="Class.MonadTC.html#2883" class="Function">nameConstr</a> <a id="2894" class="Symbol">:</a> <a id="2896" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2901" class="Symbol">→</a> <a id="2903" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2908" class="Symbol">(</a><a id="2909" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="2913" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="2917" class="Symbol">)</a> <a id="2919" class="Symbol">→</a> <a id="2921" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="2923" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="2930" href="Class.MonadTC.html#2883" class="Function">nameConstr</a> <a id="2941" href="Class.MonadTC.html#2941" class="Bound">n</a> <a id="2943" href="Class.MonadTC.html#2943" class="Bound">args</a> <a id="2948" class="Symbol">=</a> <a id="2950" class="Keyword">do</a>
    <a id="2957" href="Class.MonadTC.html#2957" class="Bound">isD</a> <a id="2961" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2963" href="Class.MonadTC.html#2639" class="Function">isDef</a> <a id="2969" href="Class.MonadTC.html#2941" class="Bound">n</a>
    <a id="2975" href="Class.MonadTC.html#2975" class="Bound">isC</a> <a id="2979" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2981" href="Class.MonadTC.html#2761" class="Function">isCon</a> <a id="2987" href="Class.MonadTC.html#2941" class="Bound">n</a>
    <a id="2993" href="Function.Base.html#4130" class="Function Operator">case</a> <a id="2998" class="Symbol">(</a><a id="2999" href="Class.MonadTC.html#2957" class="Bound">isD</a> <a id="3003" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3005" href="Class.MonadTC.html#2975" class="Bound">isC</a><a id="3008" class="Symbol">)</a> <a id="3010" href="Function.Base.html#4130" class="Function Operator">of</a> <a id="3013" class="Symbol">λ</a> <a id="3015" class="Keyword">where</a>
      <a id="3027" class="Symbol">(</a><a id="3028" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="3033" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3035" class="Symbol">_)</a>      <a id="3043" class="Symbol">→</a> <a id="3045" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3052" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3054" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="3058" href="Class.MonadTC.html#2941" class="Bound">n</a> <a id="3060" href="Class.MonadTC.html#2943" class="Bound">args</a>
      <a id="3071" class="Symbol">(</a><a id="3072" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="3078" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3080" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a><a id="3084" class="Symbol">)</a>  <a id="3087" class="Symbol">→</a> <a id="3089" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3096" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3098" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="3102" href="Class.MonadTC.html#2941" class="Bound">n</a> <a id="3104" href="Class.MonadTC.html#2943" class="Bound">args</a>
      <a id="3115" class="Symbol">(</a><a id="3116" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="3122" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3124" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a><a id="3129" class="Symbol">)</a> <a id="3131" class="Symbol">→</a> <a id="3133" href="Class.MonadError.html#339" class="Function">error</a> <a id="3139" class="Symbol">((</a><a id="3141" href="Agda.Builtin.Reflection.html#604" class="Primitive">R&#39;.primShowQName</a> <a id="3158" href="Class.MonadTC.html#2941" class="Bound">n</a> <a id="3160" href="Data.String.Base.html#3008" class="Function Operator">&lt;+&gt;</a> <a id="3164" class="String">&quot;is neither a definition nor a constructor!&quot;</a><a id="3208" class="Symbol">)</a> <a id="3210" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="3213" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="3215" class="Symbol">)</a>

  <a id="MonadTC.termFromName"></a><a id="3220" href="Class.MonadTC.html#3220" class="Function">termFromName</a> <a id="3233" class="Symbol">:</a> <a id="3235" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3240" class="Symbol">→</a> <a id="3242" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="3244" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="3251" href="Class.MonadTC.html#3220" class="Function">termFromName</a> <a id="3264" href="Class.MonadTC.html#3264" class="Bound">n</a> <a id="3266" class="Symbol">=</a> <a id="3268" href="Class.MonadTC.html#2883" class="Function">nameConstr</a> <a id="3279" href="Class.MonadTC.html#3264" class="Bound">n</a> <a id="3281" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

  <a id="3287" class="Comment">-- apply the unique constructor of the record to the arguments</a>
  <a id="MonadTC.mkRecord"></a><a id="3352" href="Class.MonadTC.html#3352" class="Function">mkRecord</a> <a id="3361" class="Symbol">:</a> <a id="3363" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3368" class="Symbol">→</a> <a id="3370" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3375" class="Symbol">(</a><a id="3376" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="3380" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="3384" class="Symbol">)</a> <a id="3386" class="Symbol">→</a> <a id="3388" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="3390" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="3397" href="Class.MonadTC.html#3352" class="Function">mkRecord</a> <a id="3406" href="Class.MonadTC.html#3406" class="Bound">n</a> <a id="3408" href="Class.MonadTC.html#3408" class="Bound">args</a> <a id="3413" class="Symbol">=</a> <a id="3415" class="Keyword">do</a>
    <a id="3422" class="Symbol">(</a><a id="3423" href="Agda.Builtin.Reflection.html#7294" class="InductiveConstructor">record′</a> <a id="3431" href="Class.MonadTC.html#3431" class="Bound">c</a> <a id="3433" class="Symbol">_)</a> <a id="3436" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="3438" href="Class.MonadTC.html#2014" class="Field">getDefinition</a> <a id="3452" href="Class.MonadTC.html#3406" class="Bound">n</a>
      <a id="3460" class="Keyword">where</a> <a id="3466" class="CatchallClause Symbol">_</a> <a id="3468" class="Symbol">→</a> <a id="3470" href="Class.MonadError.html#339" class="Function">error</a> <a id="3476" class="Symbol">(</a><a id="3477" class="String">&quot;Not a record!&quot;</a> <a id="3493" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="3496" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="3498" class="Symbol">)</a>
    <a id="3504" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3511" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3513" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="3517" href="Class.MonadTC.html#3431" class="Bound">c</a> <a id="3519" href="Class.MonadTC.html#3408" class="Bound">args</a>

  <a id="3527" class="Comment">-- this allows mutual recursion</a>
  <a id="MonadTC.declareAndDefineFuns"></a><a id="3561" href="Class.MonadTC.html#3561" class="Function">declareAndDefineFuns</a> <a id="3582" class="Symbol">:</a> <a id="3584" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3589" class="Symbol">(</a><a id="3590" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="3594" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3599" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3601" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="3606" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3608" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3613" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a><a id="3619" class="Symbol">)</a> <a id="3621" class="Symbol">→</a> <a id="3623" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="3625" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="3629" href="Class.MonadTC.html#3561" class="Function">declareAndDefineFuns</a> <a id="3650" href="Class.MonadTC.html#3650" class="Bound">ds</a> <a id="3653" class="Symbol">=</a> <a id="3655" class="Keyword">do</a>
    <a id="3662" href="Class.Traversable.Core.html#456" class="Function">traverse</a> <a id="3671" class="Symbol">(λ</a> <a id="3674" class="Keyword">where</a> <a id="3680" class="Symbol">(</a><a id="3681" href="Class.MonadTC.html#3681" class="Bound">n</a> <a id="3683" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3685" href="Class.MonadTC.html#3685" class="Bound">t</a> <a id="3687" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3689" class="Symbol">_)</a> <a id="3692" class="Symbol">→</a> <a id="3694" href="Class.MonadTC.html#1839" class="Field">declareDef</a> <a id="3705" href="Class.MonadTC.html#3681" class="Bound">n</a> <a id="3707" href="Class.MonadTC.html#3685" class="Bound">t</a><a id="3708" class="Symbol">)</a> <a id="3710" href="Class.MonadTC.html#3650" class="Bound">ds</a>
    <a id="3717" href="Class.Traversable.Core.html#456" class="Function">traverse</a> <a id="3726" class="Symbol">((λ</a> <a id="3730" class="Keyword">where</a> <a id="3736" class="Symbol">(</a><a id="3737" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="3741" class="Symbol">_</a> <a id="3743" href="Class.MonadTC.html#3743" class="Bound">n</a> <a id="3745" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3747" class="Symbol">_</a> <a id="3749" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3751" href="Class.MonadTC.html#3751" class="Bound">cs</a><a id="3753" class="Symbol">)</a> <a id="3755" class="Symbol">→</a> <a id="3757" href="Class.MonadTC.html#1929" class="Field">defineFun</a> <a id="3767" href="Class.MonadTC.html#3743" class="Bound">n</a> <a id="3769" href="Class.MonadTC.html#3751" class="Bound">cs</a><a id="3771" class="Symbol">))</a> <a id="3774" href="Class.MonadTC.html#3650" class="Bound">ds</a>
    <a id="3781" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3788" class="Symbol">_</a>

  <a id="MonadTC.declareAndDefineFun"></a><a id="3793" href="Class.MonadTC.html#3793" class="Function">declareAndDefineFun</a> <a id="3813" class="Symbol">:</a> <a id="3815" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="3819" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3824" class="Symbol">→</a> <a id="3826" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="3831" class="Symbol">→</a> <a id="3833" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3838" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a> <a id="3845" class="Symbol">→</a> <a id="3847" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="3849" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="3853" href="Class.MonadTC.html#3793" class="Function">declareAndDefineFun</a> <a id="3873" href="Class.MonadTC.html#3873" class="Bound">n</a> <a id="3875" href="Class.MonadTC.html#3875" class="Bound">ty</a> <a id="3878" href="Class.MonadTC.html#3878" class="Bound">cls</a> <a id="3882" class="Symbol">=</a> <a id="3884" href="Class.MonadTC.html#3561" class="Function">declareAndDefineFuns</a> <a id="3905" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="3907" class="Symbol">(</a><a id="3908" href="Class.MonadTC.html#3873" class="Bound">n</a> <a id="3910" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3912" href="Class.MonadTC.html#3875" class="Bound">ty</a> <a id="3915" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3917" href="Class.MonadTC.html#3878" class="Bound">cls</a><a id="3920" class="Symbol">)</a> <a id="3922" href="Data.List.Base.html#5034" class="Function Operator">]</a>

  <a id="MonadTC.newMeta"></a><a id="3927" href="Class.MonadTC.html#3927" class="Function">newMeta</a> <a id="3935" class="Symbol">:</a> <a id="3937" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="3942" class="Symbol">→</a> <a id="3944" href="Class.MonadTC.html#1304" class="Bound">M</a> <a id="3946" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="3953" href="Class.MonadTC.html#3927" class="Function">newMeta</a> <a id="3961" class="Symbol">=</a> <a id="3963" href="Class.MonadTC.html#1565" class="Field">checkType</a> <a id="3973" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>

<a id="3982" class="Keyword">module</a> <a id="3989" href="Class.MonadTC.html#3989" class="Module">_</a> <a id="3991" class="Symbol">{</a><a id="3992" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="3994" class="Symbol">:</a> <a id="3996" class="Symbol">∀</a> <a id="3998" class="Symbol">{</a><a id="3999" href="Class.MonadTC.html#3999" class="Bound">f</a><a id="4000" class="Symbol">}</a> <a id="4002" class="Symbol">→</a> <a id="4004" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4008" href="Class.MonadTC.html#3999" class="Bound">f</a> <a id="4010" class="Symbol">→</a> <a id="4012" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4016" href="Class.MonadTC.html#3999" class="Bound">f</a><a id="4017" class="Symbol">}</a>
  <a id="4021" class="Symbol">⦃</a> <a id="4023" href="Class.MonadTC.html#4023" class="Bound">m</a> <a id="4025" class="Symbol">:</a> <a id="4027" href="Class.Monad.Core.html#203" class="Record">Monad</a> <a id="4033" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="4035" class="Symbol">⦄</a> <a id="4037" class="Symbol">⦃</a> <a id="4039" href="Class.MonadTC.html#4039" class="Bound">me</a> <a id="4042" class="Symbol">:</a> <a id="4044" href="Class.MonadError.html#263" class="Record">MonadError</a> <a id="4055" class="Symbol">(</a><a id="4056" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4061" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="4070" class="Symbol">)</a> <a id="4072" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="4074" class="Symbol">⦄</a> <a id="4076" class="Symbol">⦃</a> <a id="4078" href="Class.MonadTC.html#4078" class="Bound">mtc</a> <a id="4082" class="Symbol">:</a> <a id="4084" href="Class.MonadTC.html#1295" class="Record">MonadTC</a> <a id="4092" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="4094" class="Symbol">⦄</a> <a id="4096" class="Symbol">⦃</a> <a id="4098" href="Class.MonadTC.html#4098" class="Bound">mre</a> <a id="4102" class="Symbol">:</a> <a id="4104" href="Class.MonadReader.html#228" class="Record">MonadReader</a> <a id="4116" href="Class.MonadTC.html#621" class="Record">TCEnv</a> <a id="4122" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="4124" class="Symbol">⦄</a> <a id="4126" class="Keyword">where</a>

  <a id="4135" class="Keyword">instance</a> <a id="4144" href="Class.MonadTC.html#4144" class="Function">_</a> <a id="4146" class="Symbol">=</a> <a id="4148" href="Class.Monad.Core.html#655" class="Function">Functor-M</a>

  <a id="4161" class="Keyword">open</a> <a id="4166" href="Class.MonadError.html#263" class="Module">MonadError</a> <a id="4177" href="Class.MonadTC.html#4039" class="Bound">me</a>
  <a id="4182" class="Keyword">open</a> <a id="4187" href="Class.MonadTC.html#1295" class="Module">MonadTC</a> <a id="4195" href="Class.MonadTC.html#4078" class="Bound">mtc</a>
  <a id="4201" class="Keyword">open</a> <a id="4206" href="Class.MonadReader.html#228" class="Module">MonadReader</a> <a id="4218" href="Class.MonadTC.html#4098" class="Bound">mre</a>

  <a id="4225" class="Keyword">record</a> <a id="4232" href="Class.MonadTC.html#4232" class="Record">IsMErrorPart</a> <a id="4245" class="Symbol">(</a><a id="4246" href="Class.MonadTC.html#4246" class="Bound">A</a> <a id="4248" class="Symbol">:</a> <a id="4250" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4254" href="Class.MonadTC.html#406" class="Generalizable">a</a><a id="4255" class="Symbol">)</a> <a id="4257" class="Symbol">:</a> <a id="4259" href="Agda.Primitive.html#375" class="Primitive">Setω</a> <a id="4264" class="Keyword">where</a>
    <a id="4274" class="Keyword">field</a> <a id="4280" href="Class.MonadTC.html#4280" class="Field">toMErrorPart</a> <a id="4293" class="Symbol">:</a> <a id="4295" href="Class.MonadTC.html#4246" class="Bound">A</a> <a id="4297" class="Symbol">→</a> <a id="4299" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="4301" class="Symbol">(</a><a id="4302" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4307" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="4316" class="Symbol">)</a>

  <a id="4321" class="Keyword">open</a> <a id="4326" href="Class.MonadTC.html#4232" class="Module">IsMErrorPart</a> <a id="4339" class="Symbol">⦃...⦄</a> <a id="4345" class="Keyword">public</a>

  <a id="4355" class="Keyword">data</a> <a id="4360" href="Class.MonadTC.html#4360" class="Datatype">MErrorPartWrap</a> <a id="4375" class="Symbol">:</a> <a id="4377" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4381" class="Keyword">where</a>
    <a id="4391" href="Class.MonadTC.html#4391" class="InductiveConstructor">wrap</a> <a id="4396" class="Symbol">:</a> <a id="4398" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="4400" class="Symbol">(</a><a id="4401" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4406" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="4415" class="Symbol">)</a> <a id="4417" class="Symbol">→</a> <a id="4419" href="Class.MonadTC.html#4360" class="Datatype">MErrorPartWrap</a>

  <a id="4437" href="Class.MonadTC.html#4437" class="Function">IsMErrorPart-IsErrorPart</a> <a id="4462" class="Symbol">:</a> <a id="4464" class="Symbol">⦃</a> <a id="4466" href="Class.MonadTC.html#4466" class="Symbol">_</a> <a id="4468" class="Symbol">:</a> <a id="4470" href="Reflection.Debug.html#330" class="Record">IsErrorPart</a> <a id="4482" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="4484" class="Symbol">⦄</a> <a id="4486" class="Symbol">→</a> <a id="4488" href="Class.MonadTC.html#4232" class="Record">IsMErrorPart</a> <a id="4501" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="4505" href="Class.MonadTC.html#4437" class="Function">IsMErrorPart-IsErrorPart</a> <a id="4530" class="Symbol">.</a><a id="4531" href="Class.MonadTC.html#4280" class="Field">toMErrorPart</a> <a id="4544" href="Class.MonadTC.html#4544" class="Bound">a</a> <a id="4546" class="Symbol">=</a> <a id="4548" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="4555" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="4557" href="Reflection.Debug.html#376" class="Field">toErrorPart</a> <a id="4569" href="Class.MonadTC.html#4544" class="Bound">a</a> <a id="4571" href="Data.List.Base.html#5034" class="Function Operator">]</a>

  <a id="4576" class="Keyword">instance</a>
    <a id="4589" href="Class.MonadTC.html#4589" class="Function">IsMErrorPart-String</a> <a id="4609" class="Symbol">:</a> <a id="4611" href="Class.MonadTC.html#4232" class="Record">IsMErrorPart</a> <a id="4624" href="Agda.Builtin.String.html#318" class="Postulate">String</a>
    <a id="4635" href="Class.MonadTC.html#4589" class="Function">IsMErrorPart-String</a> <a id="4655" class="Symbol">=</a> <a id="4657" href="Class.MonadTC.html#4437" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="4687" href="Class.MonadTC.html#4687" class="Function">IsMErrorPart-Term</a> <a id="4705" class="Symbol">:</a> <a id="4707" href="Class.MonadTC.html#4232" class="Record">IsMErrorPart</a> <a id="4720" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="4729" href="Class.MonadTC.html#4687" class="Function">IsMErrorPart-Term</a> <a id="4747" class="Symbol">=</a> <a id="4749" href="Class.MonadTC.html#4437" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="4779" href="Class.MonadTC.html#4779" class="Function">IsMErrorPart-Name</a> <a id="4797" class="Symbol">:</a> <a id="4799" href="Class.MonadTC.html#4232" class="Record">IsMErrorPart</a> <a id="4812" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a>
    <a id="4821" href="Class.MonadTC.html#4779" class="Function">IsMErrorPart-Name</a> <a id="4839" class="Symbol">=</a> <a id="4841" href="Class.MonadTC.html#4437" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="4871" href="Class.MonadTC.html#4871" class="Function">IsMErrorPart-MErrorPartWrap</a> <a id="4899" class="Symbol">:</a> <a id="4901" href="Class.MonadTC.html#4232" class="Record">IsMErrorPart</a> <a id="4914" href="Class.MonadTC.html#4360" class="Datatype">MErrorPartWrap</a>
    <a id="4933" href="Class.MonadTC.html#4871" class="Function">IsMErrorPart-MErrorPartWrap</a> <a id="4961" class="Symbol">.</a><a id="4962" href="Class.MonadTC.html#4280" class="Field">toMErrorPart</a> <a id="4975" class="Symbol">(</a><a id="4976" href="Class.MonadTC.html#4391" class="InductiveConstructor">wrap</a> <a id="4981" href="Class.MonadTC.html#4981" class="Bound">a</a><a id="4982" class="Symbol">)</a> <a id="4984" class="Symbol">=</a> <a id="4986" href="Class.MonadTC.html#4981" class="Bound">a</a>

  <a id="4991" href="Class.MonadTC.html#4991" class="Function">[]ᵐ</a> <a id="4995" class="Symbol">:</a> <a id="4997" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="4999" class="Symbol">(</a><a id="5000" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5005" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="5014" class="Symbol">)</a>
  <a id="5018" href="Class.MonadTC.html#4991" class="Function">[]ᵐ</a> <a id="5022" class="Symbol">=</a> <a id="5024" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5031" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

  <a id="5037" class="Keyword">infixr</a> <a id="5044" class="Number">5</a> <a id="5046" href="Class.MonadTC.html#5054" class="Function Operator">_∷ᵈᵐ_</a>
  <a id="5054" href="Class.MonadTC.html#5054" class="Function Operator">_∷ᵈᵐ_</a> <a id="5060" class="Symbol">:</a> <a id="5062" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5064" class="Symbol">→</a> <a id="5066" class="Symbol">⦃</a> <a id="5068" href="Class.MonadTC.html#5068" class="Symbol">_</a> <a id="5070" class="Symbol">:</a> <a id="5072" href="Class.MonadTC.html#4232" class="Record">IsMErrorPart</a> <a id="5085" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5087" class="Symbol">⦄</a> <a id="5089" class="Symbol">→</a> <a id="5091" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="5093" class="Symbol">(</a><a id="5094" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5099" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="5108" class="Symbol">)</a> <a id="5110" class="Symbol">→</a> <a id="5112" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="5114" class="Symbol">(</a><a id="5115" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5120" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="5129" class="Symbol">)</a>
  <a id="5133" href="Class.MonadTC.html#5133" class="Bound">e</a> <a id="5135" href="Class.MonadTC.html#5054" class="Function Operator">∷ᵈᵐ</a> <a id="5139" href="Class.MonadTC.html#5139" class="Bound">es</a> <a id="5142" class="Symbol">=</a> <a id="5144" class="Keyword">do</a> <a id="5147" href="Class.MonadTC.html#5147" class="Bound">e</a> <a id="5149" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5151" href="Class.MonadTC.html#4280" class="Field">toMErrorPart</a> <a id="5164" href="Class.MonadTC.html#5133" class="Bound">e</a><a id="5165" class="Symbol">;</a> <a id="5167" href="Class.MonadTC.html#5167" class="Bound">es</a> <a id="5170" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5172" href="Class.MonadTC.html#5139" class="Bound">es</a><a id="5174" class="Symbol">;</a> <a id="5176" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5183" class="Symbol">(</a><a id="5184" href="Class.MonadTC.html#5147" class="Bound">e</a> <a id="5186" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5189" href="Class.MonadTC.html#5167" class="Bound">es</a><a id="5191" class="Symbol">)</a>

  <a id="5196" href="Class.MonadTC.html#5196" class="Function Operator">_ᵛ</a> <a id="5199" class="Symbol">:</a> <a id="5201" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5203" class="Symbol">→</a> <a id="5205" href="Class.MonadTC.html#4360" class="Datatype">MErrorPartWrap</a>
  <a id="5222" href="Class.MonadTC.html#5222" class="Bound">a</a> <a id="5224" href="Class.MonadTC.html#5196" class="Function Operator">ᵛ</a> <a id="5226" class="Symbol">=</a> <a id="5228" href="Class.MonadTC.html#4391" class="InductiveConstructor">wrap</a> <a id="5233" class="Keyword">do</a> <a id="5236" href="Class.MonadTC.html#5236" class="Bound">a</a> <a id="5238" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5240" href="Class.MonadTC.html#1683" class="Function">quoteTC</a> <a id="5248" href="Class.MonadTC.html#5222" class="Bound">a</a><a id="5249" class="Symbol">;</a> <a id="5251" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5258" class="Symbol">(</a><a id="5259" href="Class.MonadTC.html#5236" class="Bound">a</a> <a id="5261" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5264" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5266" class="Symbol">)</a>

  <a id="5271" href="Class.MonadTC.html#5271" class="Function Operator">_ᵛⁿ</a> <a id="5275" class="Symbol">:</a> <a id="5277" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5279" class="Symbol">→</a> <a id="5281" href="Class.MonadTC.html#4360" class="Datatype">MErrorPartWrap</a>
  <a id="5298" href="Class.MonadTC.html#5298" class="Bound">a</a> <a id="5300" href="Class.MonadTC.html#5271" class="Function Operator">ᵛⁿ</a> <a id="5303" class="Symbol">=</a> <a id="5305" href="Class.MonadTC.html#4391" class="InductiveConstructor">wrap</a> <a id="5310" class="Keyword">do</a> <a id="5313" href="Class.MonadTC.html#5313" class="Bound">a</a> <a id="5315" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5317" href="Class.MonadReader.html#335" class="Field">local</a> <a id="5323" class="Symbol">(λ</a> <a id="5326" href="Class.MonadTC.html#5326" class="Bound">env</a> <a id="5330" class="Symbol">→</a> <a id="5332" class="Keyword">record</a> <a id="5339" href="Class.MonadTC.html#5326" class="Bound">env</a> <a id="5343" class="Symbol">{</a> <a id="5345" href="Class.MonadTC.html#651" class="Field">normalisation</a> <a id="5359" class="Symbol">=</a> <a id="5361" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="5366" class="Symbol">})</a> <a id="5369" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5371" href="Class.MonadTC.html#1683" class="Function">quoteTC</a> <a id="5379" href="Class.MonadTC.html#5298" class="Bound">a</a><a id="5380" class="Symbol">;</a> <a id="5382" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5389" class="Symbol">(</a><a id="5390" href="Class.MonadTC.html#5313" class="Bound">a</a> <a id="5392" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5395" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5397" class="Symbol">)</a>

  <a id="5402" href="Class.MonadTC.html#5402" class="Function Operator">_ᵗ</a> <a id="5405" class="Symbol">:</a> <a id="5407" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="5412" class="Symbol">→</a> <a id="5414" href="Class.MonadTC.html#4360" class="Datatype">MErrorPartWrap</a>
  <a id="5431" href="Class.MonadTC.html#5431" class="Bound">t</a> <a id="5433" href="Class.MonadTC.html#5402" class="Function Operator">ᵗ</a> <a id="5435" class="Symbol">=</a> <a id="5437" href="Class.MonadTC.html#4391" class="InductiveConstructor">wrap</a> <a id="5442" class="Keyword">do</a> <a id="5445" href="Class.MonadTC.html#5445" class="Bound">T</a> <a id="5447" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5449" href="Class.MonadTC.html#1528" class="Function">inferType</a> <a id="5459" href="Class.MonadTC.html#5431" class="Bound">t</a><a id="5460" class="Symbol">;</a> <a id="5462" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5469" class="Symbol">(</a><a id="5470" href="Class.MonadTC.html#5431" class="Bound">t</a> <a id="5472" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5475" class="String">&quot; : &quot;</a> <a id="5481" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5484" href="Class.MonadTC.html#5445" class="Bound">T</a> <a id="5486" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5489" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5491" class="Symbol">)</a>

  <a id="5496" href="Class.MonadTC.html#5496" class="Function">debugLog</a> <a id="5505" class="Symbol">:</a> <a id="5507" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5512" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a> <a id="5522" class="Symbol">→</a> <a id="5524" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="5526" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="5530" href="Class.MonadTC.html#5496" class="Function">debugLog</a> <a id="5539" href="Class.MonadTC.html#5539" class="Bound">es</a> <a id="5542" class="Symbol">=</a> <a id="5544" class="Keyword">do</a>
    <a id="5551" class="Keyword">record</a> <a id="5558" class="Symbol">{</a> <a id="5560" href="Class.MonadTC.html#862" class="Field">debug</a> <a id="5566" class="Symbol">=</a> <a id="5568" href="Class.MonadTC.html#5568" class="Bound">debug</a> <a id="5574" class="Symbol">}</a> <a id="5576" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5578" href="Class.MonadReader.html#321" class="Field">ask</a>
    <a id="5586" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="5589" href="Class.MonadTC.html#5568" class="Bound">debug</a> <a id="5595" class="Symbol">.</a><a id="5596" href="Reflection.Debug.html#2436" class="Field">DebugOptions.filter</a> <a id="5616" class="Symbol">(</a><a id="5617" href="Class.MonadTC.html#5568" class="Bound">debug</a> <a id="5623" class="Symbol">.</a><a id="5624" href="Reflection.Debug.html#2377" class="Field">DebugOptions.path</a><a id="5641" class="Symbol">)</a>
      <a id="5649" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="5654" href="Class.MonadTC.html#2155" class="Function">debugPrint</a> <a id="5665" class="Symbol">(</a><a id="5666" href="Reflection.Debug.html#2799" class="Function">debugOptionsPath</a> <a id="5683" href="Class.MonadTC.html#5568" class="Bound">debug</a><a id="5688" class="Symbol">)</a> <a id="5690" class="Symbol">(</a><a id="5691" href="Class.MonadTC.html#5568" class="Bound">debug</a> <a id="5697" class="Symbol">.</a><a id="5698" href="Reflection.Debug.html#2459" class="Field">DebugOptions.level</a><a id="5716" class="Symbol">)</a>
             <a id="5731" class="Symbol">(</a><a id="5732" href="Reflection.Debug.html#3195" class="Function">debugPrintPrefix</a> <a id="5749" href="Class.MonadTC.html#5568" class="Bound">debug</a> <a id="5755" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5757" href="Class.MonadTC.html#5539" class="Bound">es</a><a id="5759" class="Symbol">)</a>
      <a id="5767" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="5772" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5779" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>

  <a id="5785" href="Class.MonadTC.html#5785" class="Function">debugLogᵐ</a> <a id="5795" class="Symbol">:</a> <a id="5797" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="5799" class="Symbol">(</a><a id="5800" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5805" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="5814" class="Symbol">)</a> <a id="5816" class="Symbol">→</a> <a id="5818" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="5820" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="5824" href="Class.MonadTC.html#5785" class="Function">debugLogᵐ</a> <a id="5834" href="Class.MonadTC.html#5834" class="Bound">x</a> <a id="5836" class="Symbol">=</a> <a id="5838" class="Keyword">do</a> <a id="5841" href="Class.MonadTC.html#5841" class="Bound">x</a> <a id="5843" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5845" href="Class.MonadTC.html#5834" class="Bound">x</a><a id="5846" class="Symbol">;</a> <a id="5848" href="Class.MonadTC.html#5496" class="Function">debugLog</a> <a id="5857" href="Class.MonadTC.html#5841" class="Bound">x</a>

  <a id="5862" href="Class.MonadTC.html#5862" class="Function">debugLog1ᵐ</a> <a id="5873" class="Symbol">:</a> <a id="5875" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5877" class="Symbol">→</a> <a id="5879" class="Symbol">⦃</a> <a id="5881" href="Class.MonadTC.html#5881" class="Symbol">_</a> <a id="5883" class="Symbol">:</a> <a id="5885" href="Class.MonadTC.html#4232" class="Record">IsMErrorPart</a> <a id="5898" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5900" class="Symbol">⦄</a> <a id="5902" class="Symbol">→</a> <a id="5904" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="5906" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="5910" href="Class.MonadTC.html#5862" class="Function">debugLog1ᵐ</a> <a id="5921" href="Class.MonadTC.html#5921" class="Bound">a</a> <a id="5923" class="Symbol">=</a> <a id="5925" href="Class.MonadTC.html#5785" class="Function">debugLogᵐ</a> <a id="5935" class="Symbol">(</a><a id="5936" href="Class.MonadTC.html#5921" class="Bound">a</a> <a id="5938" href="Class.MonadTC.html#5054" class="Function Operator">∷ᵈᵐ</a> <a id="5942" href="Class.MonadTC.html#4991" class="Function">[]ᵐ</a><a id="5945" class="Symbol">)</a>

  <a id="5950" href="Class.MonadTC.html#5950" class="Function">withDebugOptions</a> <a id="5967" class="Symbol">:</a> <a id="5969" href="Reflection.Debug.html#2340" class="Record">DebugOptions</a> <a id="5982" class="Symbol">→</a> <a id="5984" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="5986" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="5988" class="Symbol">→</a> <a id="5990" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="5992" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="5996" href="Class.MonadTC.html#5950" class="Function">withDebugOptions</a> <a id="6013" href="Class.MonadTC.html#6013" class="Bound">opts</a> <a id="6018" href="Class.MonadTC.html#6018" class="Bound">x</a> <a id="6020" class="Symbol">=</a> <a id="6022" href="Class.MonadReader.html#335" class="Field">local</a> <a id="6028" class="Symbol">(λ</a> <a id="6031" class="Keyword">where</a>
    <a id="6041" href="Class.MonadTC.html#6041" class="Bound">env</a><a id="6044" class="Symbol">@</a><a id="6045" class="Keyword">record</a> <a id="6052" class="Symbol">{</a> <a id="6054" href="Class.MonadTC.html#862" class="Field">debug</a> <a id="6060" class="Symbol">=</a> <a id="6062" href="Class.MonadTC.html#6062" class="Bound">opts&#39;</a> <a id="6068" class="Symbol">}</a> <a id="6070" class="Symbol">→</a> <a id="6072" class="Keyword">record</a> <a id="6079" href="Class.MonadTC.html#6041" class="Bound">env</a> <a id="6083" class="Symbol">{</a> <a id="6085" href="Class.MonadTC.html#862" class="Field">debug</a> <a id="6091" class="Symbol">=</a> <a id="6093" href="Reflection.Debug.html#2602" class="Function">specializeDebugOptions</a> <a id="6116" href="Class.MonadTC.html#6062" class="Bound">opts&#39;</a> <a id="6122" href="Class.MonadTC.html#6013" class="Bound">opts</a> <a id="6127" class="Symbol">})</a> <a id="6130" href="Class.MonadTC.html#6018" class="Bound">x</a>

  <a id="6135" href="Class.MonadTC.html#6135" class="Function">withAppendDebugPath</a> <a id="6155" class="Symbol">:</a> <a id="6157" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="6164" class="Symbol">→</a> <a id="6166" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="6168" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="6170" class="Symbol">→</a> <a id="6172" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="6174" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="6178" href="Class.MonadTC.html#6135" class="Function">withAppendDebugPath</a> <a id="6198" href="Class.MonadTC.html#6198" class="Bound">path</a> <a id="6203" href="Class.MonadTC.html#6203" class="Bound">x</a> <a id="6205" class="Symbol">=</a> <a id="6207" href="Class.MonadReader.html#335" class="Field">local</a> <a id="6213" class="Symbol">(λ</a> <a id="6216" class="Keyword">where</a>
    <a id="6226" href="Class.MonadTC.html#6226" class="Bound">env</a><a id="6229" class="Symbol">@</a><a id="6230" class="Keyword">record</a> <a id="6237" class="Symbol">{</a> <a id="6239" href="Class.MonadTC.html#862" class="Field">debug</a> <a id="6245" class="Symbol">=</a> <a id="6247" href="Class.MonadTC.html#6247" class="Bound">opts</a> <a id="6252" class="Symbol">}</a> <a id="6254" class="Symbol">→</a> <a id="6256" class="Keyword">record</a> <a id="6263" href="Class.MonadTC.html#6226" class="Bound">env</a> <a id="6267" class="Symbol">{</a> <a id="6269" href="Class.MonadTC.html#862" class="Field">debug</a> <a id="6275" class="Symbol">=</a> <a id="6277" class="Keyword">record</a> <a id="6284" href="Class.MonadTC.html#6247" class="Bound">opts</a> <a id="6289" class="Symbol">{</a> <a id="6291" href="Reflection.Debug.html#2377" class="Field">path</a> <a id="6296" class="Symbol">=</a> <a id="6298" href="Class.MonadTC.html#6247" class="Bound">opts</a> <a id="6303" class="Symbol">.</a><a id="6304" href="Reflection.Debug.html#2377" class="Field">DebugOptions.path</a> <a id="6322" href="Data.List.Base.html#10052" class="Function Operator">∷ʳ</a> <a id="6325" href="Class.MonadTC.html#6198" class="Bound">path</a> <a id="6330" class="Symbol">}</a> <a id="6332" class="Symbol">})</a> <a id="6335" href="Class.MonadTC.html#6203" class="Bound">x</a>

  <a id="6340" href="Class.MonadTC.html#6340" class="Function">noConstraints</a> <a id="6354" class="Symbol">:</a> <a id="6356" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="6358" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="6360" class="Symbol">→</a> <a id="6362" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="6364" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="6368" href="Class.MonadTC.html#6340" class="Function">noConstraints</a> <a id="6382" class="Symbol">=</a> <a id="6384" href="Class.MonadReader.html#335" class="Field">local</a> <a id="6390" class="Symbol">λ</a> <a id="6392" href="Class.MonadTC.html#6392" class="Bound">e</a> <a id="6394" class="Symbol">→</a> <a id="6396" class="Keyword">record</a> <a id="6403" href="Class.MonadTC.html#6392" class="Bound">e</a> <a id="6405" class="Symbol">{</a> <a id="6407" href="Class.MonadTC.html#703" class="Field">noConstraints</a> <a id="6421" class="Symbol">=</a> <a id="6423" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="6428" class="Symbol">}</a>

  <a id="6433" href="Class.MonadTC.html#6433" class="Function">hasType</a> <a id="6441" class="Symbol">:</a> <a id="6443" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="6448" class="Symbol">→</a> <a id="6450" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="6455" class="Symbol">→</a> <a id="6457" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="6459" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="6466" href="Class.MonadTC.html#6433" class="Function">hasType</a> <a id="6474" href="Class.MonadTC.html#6474" class="Bound">t</a> <a id="6476" href="Class.MonadTC.html#6476" class="Bound">ty</a> <a id="6479" class="Symbol">=</a> <a id="6481" href="Class.MonadTC.html#2460" class="Function">isSuccessful</a> <a id="6494" class="Symbol">(</a><a id="6495" href="Class.MonadTC.html#6340" class="Function">noConstraints</a> <a id="6509" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6511" href="Class.MonadTC.html#1565" class="Function">checkType</a> <a id="6521" href="Class.MonadTC.html#6474" class="Bound">t</a> <a id="6523" href="Class.MonadTC.html#6476" class="Bound">ty</a><a id="6525" class="Symbol">)</a>

  <a id="6530" href="Class.MonadTC.html#6530" class="Function">hasType&#39;</a> <a id="6539" class="Symbol">:</a> <a id="6541" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="6546" class="Symbol">→</a> <a id="6548" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="6553" class="Symbol">→</a> <a id="6555" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="6557" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="6564" href="Class.MonadTC.html#6530" class="Function">hasType&#39;</a> <a id="6573" href="Class.MonadTC.html#6573" class="Bound">n</a> <a id="6575" href="Class.MonadTC.html#6575" class="Bound">ty</a> <a id="6578" class="Symbol">=</a> <a id="6580" href="Class.MonadTC.html#2460" class="Function">isSuccessful</a> <a id="6593" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6595" href="Class.MonadTC.html#6340" class="Function">noConstraints</a> <a id="6609" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6611" class="Keyword">do</a>
    <a id="6618" href="Class.MonadTC.html#6618" class="Bound">t</a> <a id="6620" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="6622" href="Class.MonadTC.html#3220" class="Function">termFromName</a> <a id="6635" href="Class.MonadTC.html#6573" class="Bound">n</a>
    <a id="6641" href="Class.MonadTC.html#6641" class="Bound">t&#39;</a> <a id="6644" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="6646" href="Class.MonadTC.html#1565" class="Function">checkType</a> <a id="6656" href="Class.MonadTC.html#6618" class="Bound">t</a> <a id="6658" href="Class.MonadTC.html#6575" class="Bound">ty</a>
    <a id="6665" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="6668" href="Class.MonadTC.html#7073" class="Function">isAppliedToUnknownsAndMetas</a> <a id="6696" href="Class.MonadTC.html#6641" class="Bound">t&#39;</a>
      <a id="6705" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="6710" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="6717" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
      <a id="6726" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="6731" href="Class.MonadError.html#339" class="Function">error</a> <a id="6737" class="Symbol">(</a><a id="6738" class="String">&quot;This makes the function return false&quot;</a> <a id="6777" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="6780" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6782" class="Symbol">)</a>
    <a id="6788" class="Keyword">where</a>
      <a id="6800" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="6819" class="Symbol">:</a> <a id="6821" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="6826" class="Symbol">(</a><a id="6827" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="6831" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="6835" class="Symbol">)</a> <a id="6837" class="Symbol">→</a> <a id="6839" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
      <a id="6850" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="6869" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="6872" class="Symbol">=</a> <a id="6874" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
      <a id="6885" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="6904" class="Symbol">(</a><a id="6905" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="6909" href="Class.MonadTC.html#6909" class="Bound">i</a> <a id="6911" class="Symbol">(</a><a id="6912" href="Agda.Builtin.Reflection.html#5221" class="InductiveConstructor">meta</a> <a id="6917" href="Class.MonadTC.html#6917" class="Bound">x</a> <a id="6919" href="Class.MonadTC.html#6919" class="Bound">x₁</a><a id="6921" class="Symbol">)</a> <a id="6923" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6925" href="Class.MonadTC.html#6925" class="Bound">l</a><a id="6926" class="Symbol">)</a> <a id="6928" class="Symbol">=</a> <a id="6930" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="6949" href="Class.MonadTC.html#6925" class="Bound">l</a>
      <a id="6957" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="6976" class="Symbol">(</a><a id="6977" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="6981" href="Class.MonadTC.html#6981" class="Bound">i</a> <a id="6983" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a> <a id="6991" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6993" href="Class.MonadTC.html#6993" class="Bound">l</a><a id="6994" class="Symbol">)</a> <a id="6996" class="Symbol">=</a> <a id="6998" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="7017" href="Class.MonadTC.html#6993" class="Bound">l</a>
      <a id="7025" href="Class.MonadTC.html#6800" class="CatchallClause Function">isUnknownsAndMetas</a><a id="7043" class="CatchallClause"> </a><a id="7044" class="CatchallClause Symbol">(</a><a id="7045" href="Agda.Builtin.Reflection.html#3715" class="CatchallClause InductiveConstructor">arg</a><a id="7048" class="CatchallClause"> </a><a id="7049" href="Class.MonadTC.html#7049" class="CatchallClause Bound">i</a><a id="7050" class="CatchallClause"> </a><a id="7051" class="CatchallClause Symbol">_</a><a id="7052" class="CatchallClause"> </a><a id="7053" href="Agda.Builtin.List.html#182" class="CatchallClause InductiveConstructor Operator">∷</a><a id="7054" class="CatchallClause"> </a><a id="7055" href="Class.MonadTC.html#7055" class="CatchallClause Bound">l</a><a id="7056" class="CatchallClause Symbol">)</a> <a id="7058" class="Symbol">=</a> <a id="7060" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>

      <a id="7073" href="Class.MonadTC.html#7073" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7101" class="Symbol">:</a> <a id="7103" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="7108" class="Symbol">→</a> <a id="7110" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
      <a id="7121" href="Class.MonadTC.html#7073" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7149" class="Symbol">(</a><a id="7150" href="Agda.Builtin.Reflection.html#4815" class="InductiveConstructor">var</a> <a id="7154" href="Class.MonadTC.html#7154" class="Bound">x</a> <a id="7156" href="Class.MonadTC.html#7156" class="Bound">args</a><a id="7160" class="Symbol">)</a>      <a id="7167" class="Symbol">=</a> <a id="7169" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="7188" href="Class.MonadTC.html#7156" class="Bound">args</a>
      <a id="7199" href="Class.MonadTC.html#7073" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7227" class="Symbol">(</a><a id="7228" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="7232" href="Class.MonadTC.html#7232" class="Bound">c</a> <a id="7234" href="Class.MonadTC.html#7234" class="Bound">args</a><a id="7238" class="Symbol">)</a>      <a id="7245" class="Symbol">=</a> <a id="7247" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="7266" href="Class.MonadTC.html#7234" class="Bound">args</a>
      <a id="7277" href="Class.MonadTC.html#7073" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7305" class="Symbol">(</a><a id="7306" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="7310" href="Class.MonadTC.html#7310" class="Bound">f</a> <a id="7312" href="Class.MonadTC.html#7312" class="Bound">args</a><a id="7316" class="Symbol">)</a>      <a id="7323" class="Symbol">=</a> <a id="7325" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="7344" href="Class.MonadTC.html#7312" class="Bound">args</a>
      <a id="7355" href="Class.MonadTC.html#7073" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7383" class="Symbol">(</a><a id="7384" href="Agda.Builtin.Reflection.html#5038" class="InductiveConstructor">pat-lam</a> <a id="7392" href="Class.MonadTC.html#7392" class="Bound">cs</a> <a id="7395" href="Class.MonadTC.html#7395" class="Bound">args</a><a id="7399" class="Symbol">)</a> <a id="7401" class="Symbol">=</a> <a id="7403" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="7422" href="Class.MonadTC.html#7395" class="Bound">args</a>
      <a id="7433" href="Class.MonadTC.html#7073" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7461" class="Symbol">(</a><a id="7462" href="Agda.Builtin.Reflection.html#5221" class="InductiveConstructor">meta</a> <a id="7467" href="Class.MonadTC.html#7467" class="Bound">x</a> <a id="7469" href="Class.MonadTC.html#7469" class="Bound">args</a><a id="7473" class="Symbol">)</a>     <a id="7479" class="Symbol">=</a> <a id="7481" href="Class.MonadTC.html#6800" class="Function">isUnknownsAndMetas</a> <a id="7500" href="Class.MonadTC.html#7469" class="Bound">args</a>
      <a id="7511" href="Class.MonadTC.html#7073" class="CatchallClause Function">isAppliedToUnknownsAndMetas</a><a id="7538" class="CatchallClause"> </a><a id="7539" class="CatchallClause Symbol">_</a>                 <a id="7557" class="Symbol">=</a> <a id="7559" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>

  <a id="7567" href="Class.MonadTC.html#7567" class="Function">extendContext</a> <a id="7581" class="Symbol">:</a> <a id="7583" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="7590" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="7592" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="7596" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="7601" class="Symbol">→</a> <a id="7603" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="7605" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="7607" class="Symbol">→</a> <a id="7609" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="7611" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="7615" href="Class.MonadTC.html#7567" class="Function">extendContext</a> <a id="7629" href="Class.MonadTC.html#7629" class="Bound">ty</a> <a id="7632" class="Symbol">=</a> <a id="7634" href="Class.MonadReader.html#335" class="Field">local</a> <a id="7640" class="Symbol">λ</a> <a id="7642" class="Keyword">where</a> <a id="7648" href="Class.MonadTC.html#7648" class="Bound">e</a><a id="7649" class="Symbol">@</a><a id="7650" class="Keyword">record</a> <a id="7657" class="Symbol">{</a> <a id="7659" href="Class.MonadTC.html#798" class="Field">localContext</a> <a id="7672" class="Symbol">=</a> <a id="7674" href="Class.MonadTC.html#7674" class="Bound">Γ</a> <a id="7676" class="Symbol">}</a> <a id="7678" class="Symbol">→</a> <a id="7680" class="Keyword">record</a> <a id="7687" href="Class.MonadTC.html#7648" class="Bound">e</a> <a id="7689" class="Symbol">{</a> <a id="7691" href="Class.MonadTC.html#798" class="Field">localContext</a> <a id="7704" class="Symbol">=</a> <a id="7706" href="Class.MonadTC.html#7629" class="Bound">ty</a> <a id="7709" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7711" href="Class.MonadTC.html#7674" class="Bound">Γ</a> <a id="7713" class="Symbol">}</a>

  <a id="7718" href="Class.MonadTC.html#7718" class="Function">getContext</a> <a id="7729" class="Symbol">:</a> <a id="7731" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="7733" href="Reflection.Term.html#1580" class="Function">Telescope</a>
  <a id="7745" href="Class.MonadTC.html#7718" class="Function">getContext</a> <a id="7756" class="Symbol">=</a> <a id="7758" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="7765" class="Symbol">λ</a> <a id="7767" class="Keyword">where</a>
    <a id="7777" href="Class.MonadTC.html#7777" class="Bound">e</a><a id="7778" class="Symbol">@</a><a id="7779" class="Keyword">record</a> <a id="7786" class="Symbol">{</a> <a id="7788" href="Class.MonadTC.html#798" class="Field">localContext</a> <a id="7801" class="Symbol">=</a> <a id="7803" href="Class.MonadTC.html#7803" class="Bound">Γ</a> <a id="7805" class="Symbol">;</a> <a id="7807" href="Class.MonadTC.html#767" class="Field">globalContext</a> <a id="7821" class="Symbol">=</a> <a id="7823" href="Class.MonadTC.html#7823" class="Bound">Γ&#39;</a> <a id="7826" class="Symbol">}</a> <a id="7828" class="Symbol">→</a> <a id="7830" href="Class.MonadTC.html#7803" class="Bound">Γ</a> <a id="7832" href="Data.List.Base.html#1819" class="Function Operator">Data.List.++</a> <a id="7845" href="Class.MonadTC.html#7823" class="Bound">Γ&#39;</a>

  <a id="7851" href="Class.MonadTC.html#7851" class="Function">getLocalContext</a> <a id="7867" class="Symbol">:</a> <a id="7869" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="7871" href="Reflection.Term.html#1580" class="Function">Telescope</a>
  <a id="7883" href="Class.MonadTC.html#7851" class="Function">getLocalContext</a> <a id="7899" class="Symbol">=</a> <a id="7901" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="7908" class="Symbol">λ</a> <a id="7910" class="Keyword">where</a> <a id="7916" href="Class.MonadTC.html#7916" class="Bound">e</a><a id="7917" class="Symbol">@</a><a id="7918" class="Keyword">record</a> <a id="7925" class="Symbol">{</a> <a id="7927" href="Class.MonadTC.html#798" class="Field">localContext</a> <a id="7940" class="Symbol">=</a> <a id="7942" href="Class.MonadTC.html#7942" class="Bound">Γ</a> <a id="7944" class="Symbol">}</a> <a id="7946" class="Symbol">→</a> <a id="7948" href="Class.MonadTC.html#7942" class="Bound">Γ</a>

  <a id="7953" href="Class.MonadTC.html#7953" class="Function">inContext</a> <a id="7963" class="Symbol">:</a> <a id="7965" href="Reflection.Term.html#1580" class="Function">Telescope</a> <a id="7975" class="Symbol">→</a> <a id="7977" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="7979" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="7981" class="Symbol">→</a> <a id="7983" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="7985" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="7989" href="Class.MonadTC.html#7953" class="Function">inContext</a> <a id="7999" href="Class.MonadTC.html#7999" class="Bound">ctx</a> <a id="8003" class="Symbol">=</a> <a id="8005" href="Class.MonadReader.html#335" class="Field">local</a> <a id="8011" class="Symbol">λ</a> <a id="8013" href="Class.MonadTC.html#8013" class="Bound">e</a> <a id="8015" class="Symbol">→</a> <a id="8017" class="Keyword">record</a> <a id="8024" href="Class.MonadTC.html#8013" class="Bound">e</a> <a id="8026" class="Symbol">{</a> <a id="8028" href="Class.MonadTC.html#798" class="Field">localContext</a> <a id="8041" class="Symbol">=</a> <a id="8043" href="Class.MonadTC.html#7999" class="Bound">ctx</a> <a id="8047" class="Symbol">}</a>

  <a id="8052" class="Comment">-- extend context by multiple variables</a>
  <a id="8094" href="Class.MonadTC.html#8094" class="Function">extendContext&#39;</a> <a id="8109" class="Symbol">:</a> <a id="8111" href="Reflection.Term.html#1580" class="Function">Telescope</a> <a id="8121" class="Symbol">→</a> <a id="8123" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8125" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8127" class="Symbol">→</a> <a id="8129" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8131" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="8135" href="Class.MonadTC.html#8094" class="Function">extendContext&#39;</a> <a id="8150" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="8153" href="Class.MonadTC.html#8153" class="Bound">x</a> <a id="8155" class="Symbol">=</a> <a id="8157" href="Class.MonadTC.html#8153" class="Bound">x</a>
  <a id="8161" href="Class.MonadTC.html#8094" class="Function">extendContext&#39;</a> <a id="8176" class="Symbol">(</a><a id="8177" href="Class.MonadTC.html#8177" class="Bound">c</a> <a id="8179" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8181" href="Class.MonadTC.html#8181" class="Bound">cs</a><a id="8183" class="Symbol">)</a> <a id="8185" href="Class.MonadTC.html#8185" class="Bound">x</a> <a id="8187" class="Symbol">=</a> <a id="8189" href="Class.MonadTC.html#7567" class="Function">extendContext</a> <a id="8203" href="Class.MonadTC.html#8177" class="Bound">c</a> <a id="8205" class="Symbol">(</a><a id="8206" href="Class.MonadTC.html#8094" class="Function">extendContext&#39;</a> <a id="8221" href="Class.MonadTC.html#8181" class="Bound">cs</a> <a id="8224" href="Class.MonadTC.html#8185" class="Bound">x</a><a id="8225" class="Symbol">)</a>

  <a id="8230" href="Class.MonadTC.html#8230" class="Function">dropContext</a> <a id="8242" class="Symbol">:</a> <a id="8244" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="8246" class="Symbol">→</a> <a id="8248" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8250" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8252" class="Symbol">→</a> <a id="8254" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8256" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="8260" href="Class.MonadTC.html#8230" class="Function">dropContext</a> <a id="8272" href="Class.MonadTC.html#8272" class="Bound">n</a> <a id="8274" href="Class.MonadTC.html#8274" class="Bound">x</a> <a id="8276" class="Symbol">=</a> <a id="8278" class="Keyword">do</a>
    <a id="8285" href="Class.MonadTC.html#8285" class="Bound">ctx</a> <a id="8289" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="8291" href="Class.MonadTC.html#7718" class="Function">getContext</a>
    <a id="8306" href="Class.MonadTC.html#7953" class="Function">inContext</a> <a id="8316" class="Symbol">(</a><a id="8317" href="Data.List.Base.html#7436" class="Function">drop</a> <a id="8322" href="Class.MonadTC.html#8272" class="Bound">n</a> <a id="8324" href="Class.MonadTC.html#8285" class="Bound">ctx</a><a id="8327" class="Symbol">)</a> <a id="8329" href="Class.MonadTC.html#8274" class="Bound">x</a>

  <a id="8334" href="Class.MonadTC.html#8334" class="Function">logAndError</a> <a id="8346" class="Symbol">:</a> <a id="8348" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="8353" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a> <a id="8363" class="Symbol">→</a> <a id="8365" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8367" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="8371" href="Class.MonadTC.html#8334" class="Function">logAndError</a> <a id="8383" href="Class.MonadTC.html#8383" class="Bound">e</a> <a id="8385" class="Symbol">=</a> <a id="8387" href="Class.MonadTC.html#5496" class="Function">debugLog</a> <a id="8396" href="Class.MonadTC.html#8383" class="Bound">e</a> <a id="8398" href="Class.Monad.Core.html#369" class="Function Operator">&gt;&gt;</a> <a id="8401" href="Class.MonadError.html#339" class="Function">error</a> <a id="8407" href="Class.MonadTC.html#8383" class="Bound">e</a>

  <a id="8412" href="Class.MonadTC.html#8412" class="Function">error1</a> <a id="8419" class="Symbol">:</a> <a id="8421" class="Symbol">⦃</a> <a id="8423" href="Reflection.Debug.html#330" class="Record">IsErrorPart</a> <a id="8435" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8437" class="Symbol">⦄</a> <a id="8439" class="Symbol">→</a> <a id="8441" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8443" class="Symbol">→</a> <a id="8445" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8447" href="Class.MonadTC.html#424" class="Generalizable">B</a>
  <a id="8451" href="Class.MonadTC.html#8412" class="Function">error1</a> <a id="8458" href="Class.MonadTC.html#8458" class="Bound">a</a> <a id="8460" class="Symbol">=</a> <a id="8462" href="Class.MonadError.html#339" class="Function">error</a> <a id="8468" class="Symbol">(</a><a id="8469" href="Class.MonadTC.html#8458" class="Bound">a</a> <a id="8471" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="8474" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="8476" class="Symbol">)</a>

  <a id="8481" href="Class.MonadTC.html#8481" class="Function">debugLog1</a> <a id="8491" class="Symbol">:</a> <a id="8493" class="Symbol">⦃</a> <a id="8495" href="Reflection.Debug.html#330" class="Record">IsErrorPart</a> <a id="8507" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8509" class="Symbol">⦄</a> <a id="8511" class="Symbol">→</a> <a id="8513" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8515" class="Symbol">→</a> <a id="8517" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8519" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="8523" href="Class.MonadTC.html#8481" class="Function">debugLog1</a> <a id="8533" href="Class.MonadTC.html#8533" class="Bound">a</a> <a id="8535" class="Symbol">=</a> <a id="8537" href="Class.MonadTC.html#5496" class="Function">debugLog</a> <a id="8546" class="Symbol">(</a><a id="8547" href="Class.MonadTC.html#8533" class="Bound">a</a> <a id="8549" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="8552" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="8554" class="Symbol">)</a>

  <a id="8559" href="Class.MonadTC.html#8559" class="Function">logAndError1</a> <a id="8572" class="Symbol">:</a> <a id="8574" class="Symbol">⦃</a> <a id="8576" href="Reflection.Debug.html#330" class="Record">IsErrorPart</a> <a id="8588" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8590" class="Symbol">⦄</a> <a id="8592" class="Symbol">→</a> <a id="8594" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8596" class="Symbol">→</a> <a id="8598" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8600" href="Class.MonadTC.html#424" class="Generalizable">B</a>
  <a id="8604" href="Class.MonadTC.html#8559" class="Function">logAndError1</a> <a id="8617" href="Class.MonadTC.html#8617" class="Bound">a</a> <a id="8619" class="Symbol">=</a> <a id="8621" href="Class.MonadTC.html#8481" class="Function">debugLog1</a> <a id="8631" href="Class.MonadTC.html#8617" class="Bound">a</a> <a id="8633" href="Class.Monad.Core.html#369" class="Function Operator">&gt;&gt;</a> <a id="8636" href="Class.MonadTC.html#8412" class="Function">error1</a> <a id="8643" href="Class.MonadTC.html#8617" class="Bound">a</a>

  <a id="8648" href="Class.MonadTC.html#8648" class="Function">markDontFail</a> <a id="8661" class="Symbol">:</a> <a id="8663" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="8670" class="Symbol">→</a> <a id="8672" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8674" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="8676" class="Symbol">→</a> <a id="8678" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8680" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="8684" href="Class.MonadTC.html#8648" class="Function">markDontFail</a> <a id="8697" href="Class.MonadTC.html#8697" class="Bound">s</a> <a id="8699" href="Class.MonadTC.html#8699" class="Bound">x</a> <a id="8701" class="Symbol">=</a> <a id="8703" href="Class.MonadError.html#359" class="Function">catch</a> <a id="8709" href="Class.MonadTC.html#8699" class="Bound">x</a> <a id="8711" class="Symbol">λ</a> <a id="8713" href="Class.MonadTC.html#8713" class="Bound">e</a> <a id="8715" class="Symbol">→</a> <a id="8717" href="Class.MonadTC.html#8334" class="Function">logAndError</a> <a id="8729" class="Symbol">(</a><a id="8730" href="Class.MonadTC.html#8697" class="Bound">s</a> <a id="8732" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="8735" class="String">&quot; should never fail! This is a bug!\nError:\n&quot;</a> <a id="8782" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="8785" href="Class.MonadTC.html#8713" class="Bound">e</a><a id="8786" class="Symbol">)</a>

  <a id="8791" href="Class.MonadTC.html#8791" class="Function">goalTy</a> <a id="8798" class="Symbol">:</a> <a id="8800" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="8802" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
  <a id="8809" href="Class.MonadTC.html#8791" class="Function">goalTy</a> <a id="8816" class="Symbol">=</a> <a id="8818" class="Keyword">do</a>
    <a id="8825" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="8830" href="Class.MonadTC.html#8830" class="Bound">t</a> <a id="8832" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="8834" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="8841" href="Class.MonadTC.html#829" class="Field">TCEnv.goal</a>
      <a id="8858" class="Keyword">where</a> <a id="8864" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="8869" href="Class.MonadTC.html#8869" class="Bound">T</a> <a id="8871" class="Symbol">→</a> <a id="8873" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="8880" href="Class.MonadTC.html#8869" class="Bound">T</a>
    <a id="8886" href="Class.MonadTC.html#1528" class="Function">inferType</a> <a id="8896" href="Class.MonadTC.html#8830" class="Bound">t</a>

  <a id="8901" class="Comment">-- take the first result if it&#39;s a just, otherwise reset the state and</a>
  <a id="8974" class="Comment">-- run the second computation</a>
  <a id="9006" href="Class.MonadTC.html#9006" class="Function">runSpeculativeMaybe</a> <a id="9026" class="Symbol">:</a> <a id="9028" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="9030" class="Symbol">(</a><a id="9031" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="9037" href="Class.MonadTC.html#422" class="Generalizable">A</a><a id="9038" class="Symbol">)</a> <a id="9040" class="Symbol">→</a> <a id="9042" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="9044" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="9046" class="Symbol">→</a> <a id="9048" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="9050" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="9054" href="Class.MonadTC.html#9006" class="Function">runSpeculativeMaybe</a> <a id="9074" href="Class.MonadTC.html#9074" class="Bound">x</a> <a id="9076" href="Class.MonadTC.html#9076" class="Bound">y</a> <a id="9078" class="Symbol">=</a> <a id="9080" class="Keyword">do</a>
    <a id="9087" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="9095" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="9097" href="Class.MonadTC.html#2212" class="Function">runSpeculative</a> <a id="9112" class="Symbol">(</a><a id="9113" href="Data.Product.html#2322" class="Function Operator">&lt;</a> <a id="9115" href="Function.Base.html#624" class="Function">id</a> <a id="9118" href="Data.Product.html#2322" class="Function Operator">,</a> <a id="9120" href="Data.Maybe.Base.html#1090" class="Function">is-just</a> <a id="9128" href="Data.Product.html#2322" class="Function Operator">&gt;</a> <a id="9130" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="9134" href="Class.MonadTC.html#9074" class="Bound">x</a><a id="9135" class="Symbol">)</a>
      <a id="9143" class="Keyword">where</a> <a id="9149" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="9154" href="Class.MonadTC.html#9154" class="Bound">a</a> <a id="9156" class="Symbol">→</a> <a id="9158" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="9165" href="Class.MonadTC.html#9154" class="Bound">a</a>
    <a id="9171" href="Class.MonadTC.html#9076" class="Bound">y</a>

  <a id="9176" href="Class.MonadTC.html#9176" class="Function">try</a> <a id="9180" class="Symbol">:</a> <a id="9182" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9187" class="Symbol">(</a><a id="9188" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="9190" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a><a id="9191" class="Symbol">)</a> <a id="9193" class="Symbol">→</a> <a id="9195" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="9197" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a> <a id="9199" class="Symbol">→</a> <a id="9201" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="9203" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="9207" href="Class.MonadTC.html#9176" class="Function">try</a> <a id="9211" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="9214" href="Class.MonadTC.html#9214" class="Bound">e</a> <a id="9216" class="Symbol">=</a> <a id="9218" href="Class.MonadTC.html#9214" class="Bound">e</a>
  <a id="9222" href="Class.MonadTC.html#9176" class="Function">try</a> <a id="9226" class="Symbol">(</a><a id="9227" href="Class.MonadTC.html#9227" class="Bound">x</a> <a id="9229" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9231" href="Class.MonadTC.html#9231" class="Bound">cs</a><a id="9233" class="Symbol">)</a> <a id="9235" href="Class.MonadTC.html#9235" class="Bound">e</a> <a id="9237" class="Symbol">=</a> <a id="9239" href="Class.MonadError.html#359" class="Field">MonadError.catch</a> <a id="9256" href="Class.MonadTC.html#4039" class="Bound">me</a> <a id="9259" href="Class.MonadTC.html#9227" class="Bound">x</a> <a id="9261" class="Symbol">(λ</a> <a id="9264" href="Class.MonadTC.html#9264" class="Bound">_</a> <a id="9266" class="Symbol">→</a> <a id="9268" href="Class.MonadTC.html#9176" class="Function">try</a> <a id="9272" href="Class.MonadTC.html#9231" class="Bound">cs</a> <a id="9275" href="Class.MonadTC.html#9235" class="Bound">e</a><a id="9276" class="Symbol">)</a>

  <a id="9281" href="Class.MonadTC.html#9281" class="Function">getConstrs</a> <a id="9292" class="Symbol">:</a> <a id="9294" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="9299" class="Symbol">→</a> <a id="9301" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="9303" class="Symbol">(</a><a id="9304" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9309" class="Symbol">(</a><a id="9310" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="9315" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="9317" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="9321" class="Symbol">))</a>
  <a id="9326" href="Class.MonadTC.html#9281" class="Function">getConstrs</a> <a id="9337" href="Class.MonadTC.html#9337" class="Bound">n</a> <a id="9339" class="Symbol">=</a> <a id="9341" class="Keyword">do</a>
    <a id="9348" href="Class.MonadTC.html#9348" class="Bound">d</a> <a id="9350" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="9352" href="Class.MonadTC.html#2014" class="Function">getDefinition</a> <a id="9366" href="Class.MonadTC.html#9337" class="Bound">n</a>
    <a id="9372" href="Class.MonadTC.html#9372" class="Bound">cs</a> <a id="9375" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="9377" href="Function.Base.html#4130" class="Function Operator">case</a> <a id="9382" href="Class.MonadTC.html#9348" class="Bound">d</a> <a id="9384" href="Function.Base.html#4130" class="Function Operator">of</a> <a id="9387" class="Symbol">λ</a> <a id="9389" class="Keyword">where</a>
      <a id="9401" class="Symbol">(</a><a id="9402" href="Agda.Builtin.Reflection.html#7294" class="InductiveConstructor">record′</a> <a id="9410" href="Class.MonadTC.html#9410" class="Bound">c</a> <a id="9412" href="Class.MonadTC.html#9412" class="Bound">fs</a><a id="9414" class="Symbol">)</a>  <a id="9417" class="Symbol">→</a> <a id="9419" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="9426" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="9428" href="Class.MonadTC.html#9410" class="Bound">c</a> <a id="9430" href="Data.List.Base.html#5034" class="Function Operator">]</a>
      <a id="9438" class="Symbol">(</a><a id="9439" href="Agda.Builtin.Reflection.html#7235" class="InductiveConstructor">data-type</a> <a id="9449" href="Class.MonadTC.html#9449" class="Bound">pars</a> <a id="9454" href="Class.MonadTC.html#9454" class="Bound">cs</a><a id="9456" class="Symbol">)</a> <a id="9458" class="Symbol">→</a> <a id="9460" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="9467" href="Class.MonadTC.html#9454" class="Bound">cs</a>
      <a id="9476" class="CatchallClause Symbol">_</a>                   <a id="9496" class="Symbol">→</a> <a id="9498" href="Class.MonadError.html#339" class="Function">error</a> <a id="9504" class="Symbol">(</a><a id="9505" href="Class.MonadTC.html#9337" class="Bound">n</a> <a id="9507" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="9510" class="String">&quot;is not a data or record definition!&quot;</a> <a id="9548" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="9551" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="9553" class="Symbol">)</a>
    <a id="9559" href="Class.Traversable.Core.html#456" class="Function">traverse</a> <a id="9568" class="Symbol">(λ</a> <a id="9571" href="Class.MonadTC.html#9571" class="Bound">n</a> <a id="9573" class="Symbol">→</a> <a id="9575" class="Symbol">(</a><a id="9576" href="Class.MonadTC.html#9571" class="Bound">n</a> <a id="9578" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,_</a><a id="9580" class="Symbol">)</a> <a id="9582" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="9586" class="Symbol">(</a><a id="9587" href="Class.MonadTC.html#1609" class="Function">normalise</a> <a id="9597" href="Class.Monad.Core.html#424" class="Function Operator">=&lt;&lt;</a> <a id="9601" href="Class.MonadTC.html#1977" class="Function">getType</a> <a id="9609" href="Class.MonadTC.html#9571" class="Bound">n</a><a id="9610" class="Symbol">))</a> <a id="9613" class="Symbol">(</a><a id="9614" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9619" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="9624" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="9626" href="Class.MonadTC.html#9372" class="Bound">cs</a><a id="9628" class="Symbol">)</a>

  <a id="9633" href="Class.MonadTC.html#9633" class="Function">getConstrsForType</a> <a id="9651" class="Symbol">:</a> <a id="9653" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="9658" class="Symbol">→</a> <a id="9660" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="9662" class="Symbol">(</a><a id="9663" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9668" class="Symbol">(</a><a id="9669" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="9674" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="9676" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="9680" class="Symbol">))</a>
  <a id="9685" href="Class.MonadTC.html#9633" class="Function">getConstrsForType</a> <a id="9703" href="Class.MonadTC.html#9703" class="Bound">ty</a> <a id="9706" class="Symbol">=</a> <a id="9708" class="Keyword">do</a>
    <a id="9715" class="Symbol">(</a><a id="9716" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="9720" href="Class.MonadTC.html#9720" class="Bound">n</a> <a id="9722" class="Symbol">_)</a> <a id="9725" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="9727" href="Class.MonadTC.html#1609" class="Function">normalise</a> <a id="9737" href="Class.MonadTC.html#9703" class="Bound">ty</a>
      <a id="9746" class="Keyword">where</a> <a id="9752" class="CatchallClause Symbol">_</a> <a id="9754" class="Symbol">→</a> <a id="9756" href="Class.MonadError.html#339" class="Function">error</a> <a id="9762" class="Symbol">(</a><a id="9763" href="Class.MonadTC.html#9703" class="Bound">ty</a> <a id="9766" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="9769" class="String">&quot;does not reduce to a definition!&quot;</a> <a id="9804" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="9807" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="9809" class="Symbol">)</a>
    <a id="9815" href="Class.MonadTC.html#9281" class="Function">getConstrs</a> <a id="9826" href="Class.MonadTC.html#9720" class="Bound">n</a>

  <a id="9831" href="Class.MonadTC.html#9831" class="Function">getConstrsForTerm</a> <a id="9849" class="Symbol">:</a> <a id="9851" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="9856" class="Symbol">→</a> <a id="9858" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="9860" class="Symbol">(</a><a id="9861" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9866" class="Symbol">(</a><a id="9867" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="9872" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="9874" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="9878" class="Symbol">))</a>
  <a id="9883" href="Class.MonadTC.html#9831" class="Function">getConstrsForTerm</a> <a id="9901" href="Class.MonadTC.html#9901" class="Bound">t</a> <a id="9903" class="Symbol">=</a> <a id="9905" href="Class.MonadTC.html#9633" class="Function">getConstrsForType</a> <a id="9923" href="Class.Monad.Core.html#424" class="Function Operator">=&lt;&lt;</a> <a id="9927" href="Class.MonadTC.html#1528" class="Function">inferType</a> <a id="9937" href="Class.MonadTC.html#9901" class="Bound">t</a>

  <a id="9942" class="Comment">-- run a TC computation to arrive at the term under the binder for the pattern</a>
  <a id="10023" href="Class.MonadTC.html#10023" class="Function">withPattern</a> <a id="10035" class="Symbol">:</a> <a id="10037" href="Reflection.Term.html#1580" class="Function">Telescope</a> <a id="10047" class="Symbol">→</a> <a id="10049" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="10054" class="Symbol">(</a><a id="10055" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="10059" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a><a id="10066" class="Symbol">)</a> <a id="10068" class="Symbol">→</a> <a id="10070" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10072" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10077" class="Symbol">→</a> <a id="10079" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10081" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a>
  <a id="10090" href="Class.MonadTC.html#10023" class="Function">withPattern</a> <a id="10102" href="Class.MonadTC.html#10102" class="Bound">tel</a> <a id="10106" href="Class.MonadTC.html#10106" class="Bound">ps</a> <a id="10109" href="Class.MonadTC.html#10109" class="Bound">t</a> <a id="10111" class="Symbol">=</a> <a id="10113" href="Agda.Builtin.Reflection.html#5783" class="InductiveConstructor">Clause.clause</a> <a id="10127" href="Class.MonadTC.html#10102" class="Bound">tel</a> <a id="10131" href="Class.MonadTC.html#10106" class="Bound">ps</a> <a id="10134" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="10138" href="Class.MonadTC.html#8094" class="Function">extendContext&#39;</a> <a id="10153" href="Class.MonadTC.html#10102" class="Bound">tel</a> <a id="10157" href="Class.MonadTC.html#10109" class="Bound">t</a>

  <a id="10162" href="Class.MonadTC.html#10162" class="Function">unifyWithGoal</a> <a id="10176" class="Symbol">:</a> <a id="10178" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10183" class="Symbol">→</a> <a id="10185" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10187" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="10191" href="Class.MonadTC.html#10162" class="Function">unifyWithGoal</a> <a id="10205" href="Class.MonadTC.html#10205" class="Bound">t</a> <a id="10207" class="Symbol">=</a> <a id="10209" class="Keyword">do</a>
    <a id="10216" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="10221" href="Class.MonadTC.html#10221" class="Bound">t&#39;</a> <a id="10224" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="10226" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="10233" href="Class.MonadTC.html#829" class="Field">TCEnv.goal</a>
      <a id="10250" class="Keyword">where</a> <a id="10256" class="CatchallClause Symbol">_</a> <a id="10258" class="Symbol">→</a> <a id="10260" href="Class.MonadTC.html#8412" class="Function">error1</a> <a id="10267" class="String">&quot;unifyWithGoal: Goal is not a term!&quot;</a>
    <a id="10308" href="Class.MonadTC.html#1427" class="Function">unify</a> <a id="10314" href="Class.MonadTC.html#10221" class="Bound">t&#39;</a> <a id="10317" href="Class.MonadTC.html#10205" class="Bound">t</a>

  <a id="10322" href="Class.MonadTC.html#10322" class="Function">runWithHole</a> <a id="10334" class="Symbol">:</a> <a id="10336" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10341" class="Symbol">→</a> <a id="10343" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10345" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="10347" class="Symbol">→</a> <a id="10349" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10351" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="10355" href="Class.MonadTC.html#10322" class="Function">runWithHole</a> <a id="10367" href="Class.MonadTC.html#10367" class="Bound">t</a> <a id="10369" class="Symbol">=</a> <a id="10371" href="Class.MonadReader.html#335" class="Field">local</a> <a id="10377" class="Symbol">(λ</a> <a id="10380" href="Class.MonadTC.html#10380" class="Bound">env</a> <a id="10384" class="Symbol">→</a> <a id="10386" class="Keyword">record</a> <a id="10393" href="Class.MonadTC.html#10380" class="Bound">env</a> <a id="10397" class="Symbol">{</a> <a id="10399" href="Class.MonadTC.html#829" class="Field">goal</a> <a id="10404" class="Symbol">=</a> <a id="10406" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="10411" href="Class.MonadTC.html#10367" class="Bound">t</a> <a id="10413" class="Symbol">})</a>

  <a id="10419" href="Class.MonadTC.html#10419" class="Function">runWithGoalTy</a> <a id="10433" class="Symbol">:</a> <a id="10435" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10440" class="Symbol">→</a> <a id="10442" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10444" href="Class.MonadTC.html#422" class="Generalizable">A</a> <a id="10446" class="Symbol">→</a> <a id="10448" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10450" href="Class.MonadTC.html#422" class="Generalizable">A</a>
  <a id="10454" href="Class.MonadTC.html#10419" class="Function">runWithGoalTy</a> <a id="10468" href="Class.MonadTC.html#10468" class="Bound">t</a> <a id="10470" class="Symbol">=</a> <a id="10472" href="Class.MonadReader.html#335" class="Field">local</a> <a id="10478" class="Symbol">(λ</a> <a id="10481" href="Class.MonadTC.html#10481" class="Bound">env</a> <a id="10485" class="Symbol">→</a> <a id="10487" class="Keyword">record</a> <a id="10494" href="Class.MonadTC.html#10481" class="Bound">env</a> <a id="10498" class="Symbol">{</a> <a id="10500" href="Class.MonadTC.html#829" class="Field">goal</a> <a id="10505" class="Symbol">=</a> <a id="10507" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="10512" href="Class.MonadTC.html#10468" class="Bound">t</a> <a id="10514" class="Symbol">})</a>

  <a id="10520" href="Class.MonadTC.html#10520" class="Function">goalHole</a> <a id="10529" class="Symbol">:</a> <a id="10531" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10533" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="10540" href="Class.MonadTC.html#10520" class="Function">goalHole</a> <a id="10549" class="Symbol">=</a> <a id="10551" class="Keyword">do</a>
    <a id="10558" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="10563" href="Class.MonadTC.html#10563" class="Bound">T</a> <a id="10565" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="10567" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="10574" href="Class.MonadTC.html#829" class="Field">TCEnv.goal</a>
      <a id="10591" class="Keyword">where</a> <a id="10597" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="10602" href="Class.MonadTC.html#10602" class="Bound">hole</a> <a id="10607" class="Symbol">→</a> <a id="10609" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="10616" href="Class.MonadTC.html#10602" class="Bound">hole</a>
    <a id="10625" href="Class.MonadTC.html#3927" class="Function">newMeta</a> <a id="10633" href="Class.MonadTC.html#10563" class="Bound">T</a>

  <a id="10638" href="Class.MonadTC.html#10638" class="Function">withGoalHole</a> <a id="10651" class="Symbol">:</a> <a id="10653" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10655" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a> <a id="10657" class="Symbol">→</a> <a id="10659" href="Class.MonadTC.html#3992" class="Bound">M</a> <a id="10661" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="10668" href="Class.MonadTC.html#10638" class="Function">withGoalHole</a> <a id="10681" href="Class.MonadTC.html#10681" class="Bound">tac</a> <a id="10685" class="Symbol">=</a> <a id="10687" class="Keyword">do</a>
    <a id="10694" href="Class.MonadTC.html#10694" class="Bound">hole</a> <a id="10699" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="10701" href="Class.MonadTC.html#10520" class="Function">goalHole</a>
    <a id="10714" href="Class.MonadTC.html#10322" class="Function">runWithHole</a> <a id="10726" href="Class.MonadTC.html#10694" class="Bound">hole</a> <a id="10731" href="Class.MonadTC.html#10681" class="Bound">tac</a>
    <a id="10739" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="10746" href="Class.MonadTC.html#10694" class="Bound">hole</a>

<a id="MonadTC-TC"></a><a id="10752" href="Class.MonadTC.html#10752" class="Function">MonadTC-TC</a> <a id="10763" class="Symbol">:</a> <a id="10765" href="Class.MonadTC.html#1295" class="Record">MonadTC</a> <a id="10773" href="Agda.Builtin.Reflection.html#8279" class="Postulate">R.TC</a> <a id="10778" class="Symbol">⦃</a> <a id="10780" href="Class.Monad.Instances.html#210" class="Function">Monad-TC</a> <a id="10789" class="Symbol">⦄</a> <a id="10791" class="Symbol">⦃</a> <a id="10793" href="Class.MonadError.html#407" class="Function">MonadError-TC</a> <a id="10807" class="Symbol">⦄</a>
<a id="10809" href="Class.MonadTC.html#10752" class="Function">MonadTC-TC</a> <a id="10820" class="Symbol">=</a> <a id="10822" class="Keyword">record</a> <a id="10829" class="Symbol">{</a> <a id="10831" href="Reflection.html" class="Module">R</a><a id="10832" class="Symbol">;</a> <a id="10834" href="Class.MonadTC.html#10834" class="Module">R&#39;</a> <a id="10837" class="Keyword">using</a> <a id="10843" class="Symbol">(</a><a id="10844" href="Agda.Builtin.Reflection.html#8872" class="Postulate">quoteωTC</a><a id="10852" class="Symbol">;</a> <a id="10854" href="Agda.Builtin.Reflection.html#9924" class="Postulate">withReconstructed</a><a id="10871" class="Symbol">;</a> <a id="10873" href="Agda.Builtin.Reflection.html#10279" class="Postulate">onlyReduceDefs</a><a id="10887" class="Symbol">;</a> <a id="10889" href="Agda.Builtin.Reflection.html#10429" class="Postulate">dontReduceDefs</a><a id="10903" class="Symbol">)</a> <a id="10905" class="Symbol">}</a>
</pre></body></html>