<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tactic.Try</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/agda-stdlib-meta/tree/master///Tactic/Try.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">-v</a> <a id="16" class="Pragma">try:100</a> <a id="24" class="Symbol">#-}</a>
<a id="28" class="Keyword">module</a> <a id="35" href="Tactic.Try.html" class="Module">Tactic.Try</a> <a id="46" class="Keyword">where</a>

<a id="53" class="Keyword">open</a> <a id="58" class="Keyword">import</a> <a id="65" href="MetaPrelude.html" class="Module">MetaPrelude</a>

<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="Data.List.html" class="Module">Data.List</a>
<a id="100" class="Keyword">open</a> <a id="105" class="Keyword">import</a> <a id="112" href="Reflection.html" class="Module">Reflection</a> <a id="123" class="Keyword">hiding</a> <a id="130" class="Symbol">(</a><a id="131" href="Reflection.TCM.Syntax.html#623" class="Function Operator">_&gt;&gt;=_</a><a id="136" class="Symbol">;</a> <a id="138" href="Reflection.TCM.Syntax.html#693" class="Function Operator">_&gt;&gt;_</a><a id="142" class="Symbol">;</a> <a id="144" href="Reflection.html#5116" class="Function Operator">_≟_</a><a id="147" class="Symbol">)</a>

<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Reflection.Syntax.html" class="Module">Reflection.Syntax</a>
<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Reflection.Utils.html" class="Module">Reflection.Utils</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Reflection.Utils.Debug.html" class="Module">Reflection.Utils.Debug</a>
<a id="244" class="Keyword">open</a> <a id="249" class="Keyword">import</a> <a id="256" href="Reflection.Utils.TCM.html" class="Module">Reflection.Utils.TCM</a>
<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>

<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Class.DecEq.html" class="Module">Class.DecEq</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="Class.Functor.html" class="Module">Class.Functor</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Class.Monad.html" class="Module">Class.Monad</a>
<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Class.Semigroup.html" class="Module">Class.Semigroup</a>
<a id="409" class="Keyword">open</a> <a id="414" class="Keyword">import</a> <a id="421" href="Class.Show.html" class="Module">Class.Show</a>

<a id="433" class="Keyword">open</a> <a id="438" href="Reflection.Utils.Debug.html#574" class="Module">Debug</a> <a id="444" class="Symbol">(</a><a id="445" class="String">&quot;try&quot;</a> <a id="451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="453" class="Number">100</a><a id="456" class="Symbol">)</a>

<a id="_∙_"></a><a id="459" href="Tactic.Try.html#459" class="Function Operator">_∙_</a> <a id="463" class="Symbol">:</a> <a id="465" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="470" class="Symbol">→</a> <a id="472" href="Reflection.AST.Argument.html#1604" class="Function">Args</a> <a id="477" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="482" class="Symbol">→</a> <a id="484" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="487" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="492" href="Tactic.Try.html#492" class="Bound">t</a> <a id="494" href="Tactic.Try.html#459" class="Function Operator">∙</a> <a id="496" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="499" class="Symbol">=</a> <a id="501" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="508" href="Tactic.Try.html#492" class="Bound">t</a>
<a id="510" href="Tactic.Try.html#510" class="Bound">t</a> <a id="512" href="Tactic.Try.html#459" class="Function Operator">∙</a> <a id="514" href="Tactic.Try.html#514" class="Bound">es′</a><a id="517" class="Symbol">@(_</a> <a id="521" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="523" class="Symbol">_)</a> <a id="526" class="Keyword">with</a> <a id="531" href="Tactic.Try.html#510" class="Bound">t</a>
<a id="533" class="Symbol">...</a> <a id="537" class="Symbol">|</a> <a id="539" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a>     <a id="547" href="Tactic.Try.html#547" class="Bound">x</a>  <a id="550" href="Tactic.Try.html#550" class="Bound">es</a> <a id="553" class="Symbol">=</a> <a id="555" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="562" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="564" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a>     <a id="572" href="Tactic.Try.html#547" class="Bound">x</a>  <a id="575" class="Symbol">(</a><a id="576" class="Bound">es′</a> <a id="580" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="583" href="Tactic.Try.html#550" class="Bound">es</a><a id="585" class="Symbol">)</a>
<a id="587" class="Symbol">...</a> <a id="591" class="Symbol">|</a> <a id="593" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a>     <a id="601" href="Tactic.Try.html#601" class="Bound">c</a>  <a id="604" href="Tactic.Try.html#604" class="Bound">es</a> <a id="607" class="Symbol">=</a> <a id="609" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="616" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="618" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a>     <a id="626" href="Tactic.Try.html#601" class="Bound">c</a>  <a id="629" class="Symbol">(</a><a id="630" class="Bound">es′</a> <a id="634" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="637" href="Tactic.Try.html#604" class="Bound">es</a><a id="639" class="Symbol">)</a>
<a id="641" class="Symbol">...</a> <a id="645" class="Symbol">|</a> <a id="647" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a>     <a id="655" href="Tactic.Try.html#655" class="Bound">f</a>  <a id="658" href="Tactic.Try.html#658" class="Bound">es</a> <a id="661" class="Symbol">=</a> <a id="663" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="670" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="672" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a>     <a id="680" href="Tactic.Try.html#655" class="Bound">f</a>  <a id="683" class="Symbol">(</a><a id="684" class="Bound">es′</a> <a id="688" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="691" href="Tactic.Try.html#658" class="Bound">es</a><a id="693" class="Symbol">)</a>
<a id="695" class="Symbol">...</a> <a id="699" class="Symbol">|</a> <a id="701" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="709" href="Tactic.Try.html#709" class="Bound">cs</a> <a id="712" href="Tactic.Try.html#712" class="Bound">es</a> <a id="715" class="Symbol">=</a> <a id="717" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="724" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="726" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="734" href="Tactic.Try.html#709" class="Bound">cs</a> <a id="737" class="Symbol">(</a><a id="738" class="Bound">es′</a> <a id="742" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="745" href="Tactic.Try.html#712" class="Bound">es</a><a id="747" class="Symbol">)</a>
<a id="749" class="Symbol">...</a> <a id="753" class="Symbol">|</a> <a id="755" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a>    <a id="763" href="Tactic.Try.html#763" class="Bound">x</a>  <a id="766" href="Tactic.Try.html#766" class="Bound">es</a> <a id="769" class="Symbol">=</a> <a id="771" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="778" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="780" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a>    <a id="788" href="Tactic.Try.html#763" class="Bound">x</a>  <a id="791" class="Symbol">(</a><a id="792" class="Bound">es′</a> <a id="796" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="799" href="Tactic.Try.html#766" class="Bound">es</a><a id="801" class="Symbol">)</a>
<a id="803" class="CatchallClause Symbol">...</a><a id="806" class="CatchallClause"> </a><a id="807" class="CatchallClause Symbol">|</a><a id="808" class="CatchallClause"> </a><a id="809" href="Tactic.Try.html#809" class="CatchallClause Bound">e</a>             <a id="823" class="Symbol">=</a> <a id="825" href="Reflection.Utils.Debug.html#456" class="Function">error</a> <a id="831" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="833" class="String">&quot;cannot apply arguments to &quot;</a> <a id="862" href="Class.Semigroup.Core.html#164" class="Field Operator">◇</a> <a id="864" href="Class.Show.Core.html#178" class="Field">show</a> <a id="869" class="Bound">t</a>

<a id="872" class="Keyword">private</a> <a id="880" class="Keyword">module</a> <a id="887" href="Tactic.Try.html#887" class="Module">_</a> <a id="889" class="Symbol">{</a><a id="890" href="Tactic.Try.html#890" class="Bound">ℓ</a> <a id="892" href="Tactic.Try.html#892" class="Bound">ℓ′</a><a id="894" class="Symbol">}</a> <a id="896" class="Symbol">{</a><a id="897" href="Tactic.Try.html#897" class="Bound">A</a> <a id="899" class="Symbol">:</a> <a id="901" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="905" href="Tactic.Try.html#890" class="Bound">ℓ</a><a id="906" class="Symbol">}</a> <a id="908" class="Symbol">{</a><a id="909" href="Tactic.Try.html#909" class="Bound">B</a> <a id="911" class="Symbol">:</a> <a id="913" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="917" href="Tactic.Try.html#892" class="Bound">ℓ′</a><a id="919" class="Symbol">}</a> <a id="921" class="Symbol">⦃</a> <a id="923" href="Tactic.Try.html#923" class="Bound">_</a> <a id="925" class="Symbol">:</a> <a id="927" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="933" href="Tactic.Try.html#897" class="Bound">A</a> <a id="935" class="Symbol">⦄</a> <a id="937" class="Keyword">where</a>

  <a id="946" class="Keyword">import</a> <a id="953" href="Data.List.Membership.DecPropositional.html" class="Module">Data.List.Membership.DecPropositional</a> <a id="991" class="Symbol">{</a><a id="992" class="Argument">A</a> <a id="994" class="Symbol">=</a> <a id="996" href="Tactic.Try.html#897" class="Bound">A</a><a id="997" class="Symbol">}</a> <a id="999" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> as <a id="1006" href="Tactic.Try.html#1006" class="Module">DL</a>

  <a id="1012" class="Comment">-- NB: right-biased, e.g. nubBy ∣_∣ [-1,0,1] = [0,1]</a>
  <a id="1067" href="Tactic.Try.html#1067" class="Function">nubBy</a> <a id="1073" class="Symbol">:</a> <a id="1075" class="Symbol">(</a><a id="1076" href="Tactic.Try.html#909" class="Bound">B</a> <a id="1078" class="Symbol">→</a> <a id="1080" href="Tactic.Try.html#897" class="Bound">A</a><a id="1081" class="Symbol">)</a> <a id="1083" class="Symbol">→</a> <a id="1085" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1090" href="Tactic.Try.html#909" class="Bound">B</a> <a id="1092" class="Symbol">→</a> <a id="1094" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1099" href="Tactic.Try.html#909" class="Bound">B</a>
  <a id="1103" href="Tactic.Try.html#1067" class="Function">nubBy</a> <a id="1109" href="Tactic.Try.html#1109" class="Bound">f</a> <a id="1111" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1114" class="Symbol">=</a> <a id="1116" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="1121" href="Tactic.Try.html#1067" class="Function">nubBy</a> <a id="1127" href="Tactic.Try.html#1127" class="Bound">f</a> <a id="1129" class="Symbol">(</a><a id="1130" href="Tactic.Try.html#1130" class="Bound">x</a> <a id="1132" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1134" href="Tactic.Try.html#1134" class="Bound">xs</a><a id="1136" class="Symbol">)</a> <a id="1138" class="Keyword">with</a> <a id="1143" href="Tactic.Try.html#1127" class="Bound">f</a> <a id="1145" href="Tactic.Try.html#1130" class="Bound">x</a> <a id="1147" href="Data.List.Membership.DecSetoid.html#882" class="Function Operator">DL.∈?</a> <a id="1153" href="Data.List.Base.html#1631" class="Function">map</a> <a id="1157" href="Tactic.Try.html#1127" class="Bound">f</a> <a id="1159" href="Tactic.Try.html#1134" class="Bound">xs</a>
  <a id="1164" class="Symbol">...</a> <a id="1168" class="Symbol">|</a> <a id="1170" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="1174" class="Symbol">_</a> <a id="1176" class="Symbol">=</a> <a id="1178" href="Tactic.Try.html#1067" class="Function">nubBy</a> <a id="1184" class="Bound">f</a> <a id="1186" class="Bound">xs</a>
  <a id="1191" class="Symbol">...</a> <a id="1195" class="Symbol">|</a> <a id="1197" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a>  <a id="1201" class="Symbol">_</a> <a id="1203" class="Symbol">=</a> <a id="1205" class="Bound">x</a> <a id="1207" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1209" href="Tactic.Try.html#1067" class="Function">nubBy</a> <a id="1215" class="Bound">f</a> <a id="1217" class="Bound">xs</a>

<a id="nodup"></a><a id="1221" href="Tactic.Try.html#1221" class="Function">nodup</a> <a id="1227" class="Symbol">:</a> <a id="1229" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1234" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1239" class="Symbol">→</a> <a id="1241" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1246" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="1251" href="Tactic.Try.html#1221" class="Function">nodup</a> <a id="1257" class="Symbol">=</a> <a id="1259" href="Tactic.Try.html#1067" class="Function">nubBy</a> <a id="1265" href="Class.Show.Core.html#178" class="Field">show</a>

<a id="1271" class="Keyword">private</a>
  <a id="1281" class="Keyword">variable</a>
    <a id="1294" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1296" href="Tactic.Try.html#1296" class="Generalizable">B</a> <a id="1298" class="Symbol">:</a> <a id="1300" href="Agda.Primitive.html#388" class="Primitive">Set</a>

  <a id="doN"></a><a id="1307" href="Tactic.Try.html#1307" class="Function">doN</a> <a id="1311" class="Symbol">:</a> <a id="1313" class="Symbol">{{</a><a id="1315" href="Tactic.Try.html#1315" class="Bound">_</a> <a id="1317" class="Symbol">:</a> <a id="1319" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1325" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="1326" class="Symbol">}}</a> <a id="1329" class="Symbol">→</a> <a id="1331" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1333" class="Symbol">→</a> <a id="1335" class="Symbol">(</a><a id="1336" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1338" class="Symbol">→</a> <a id="1340" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1343" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="1344" class="Symbol">)</a> <a id="1346" class="Symbol">→</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1351" class="Symbol">→</a> <a id="1353" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1356" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="1357" class="Symbol">)</a>
  <a id="1361" href="Tactic.Try.html#1307" class="Function">doN</a> <a id="1365" class="Number">0</a>       <a id="1373" class="Symbol">_</a> <a id="1375" href="Tactic.Try.html#1375" class="Bound">x</a> <a id="1377" class="Symbol">=</a> <a id="1379" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="1386" href="Tactic.Try.html#1375" class="Bound">x</a>
  <a id="1390" href="Tactic.Try.html#1307" class="Function">doN</a> <a id="1394" class="Symbol">(</a><a id="1395" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1399" href="Tactic.Try.html#1399" class="Bound">n</a><a id="1400" class="Symbol">)</a> <a id="1402" href="Tactic.Try.html#1402" class="Bound">f</a> <a id="1404" href="Tactic.Try.html#1404" class="Bound">x</a> <a id="1406" class="Symbol">=</a> <a id="1408" class="Keyword">do</a>
    <a id="1415" href="Tactic.Try.html#1415" class="Bound">y</a> <a id="1417" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="1419" href="Tactic.Try.html#1402" class="Bound">f</a> <a id="1421" href="Tactic.Try.html#1404" class="Bound">x</a>
    <a id="1427" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1430" class="Symbol">(</a><a id="1431" href="Tactic.Try.html#1415" class="Bound">y</a> <a id="1433" href="Class.DecEq.Core.html#251" class="Function Operator">≠</a> <a id="1435" href="Tactic.Try.html#1404" class="Bound">x</a><a id="1436" class="Symbol">)</a> <a id="1438" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="1443" href="Tactic.Try.html#1307" class="Function">doN</a> <a id="1447" href="Tactic.Try.html#1399" class="Bound">n</a> <a id="1449" href="Tactic.Try.html#1402" class="Bound">f</a> <a id="1451" href="Tactic.Try.html#1415" class="Bound">y</a> <a id="1453" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="1458" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="1465" href="Tactic.Try.html#1404" class="Bound">x</a>

  <a id="ifM_then_else_"></a><a id="1470" href="Tactic.Try.html#1470" class="Function Operator">ifM_then_else_</a> <a id="1485" class="Symbol">:</a> <a id="1487" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1490" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1495" class="Symbol">→</a> <a id="1497" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1500" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1502" class="Symbol">→</a> <a id="1504" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1507" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1509" class="Symbol">→</a> <a id="1511" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1514" href="Tactic.Try.html#1294" class="Generalizable">A</a>
  <a id="1518" href="Tactic.Try.html#1470" class="Function Operator">ifM</a> <a id="1522" href="Tactic.Try.html#1522" class="Bound">mb</a> <a id="1525" href="Tactic.Try.html#1470" class="Function Operator">then</a> <a id="1530" href="Tactic.Try.html#1530" class="Bound">k</a> <a id="1532" href="Tactic.Try.html#1470" class="Function Operator">else</a> <a id="1537" href="Tactic.Try.html#1537" class="Bound">k′</a> <a id="1540" class="Symbol">=</a> <a id="1542" class="Keyword">do</a>
    <a id="1549" href="Tactic.Try.html#1549" class="Bound">b</a> <a id="1551" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="1553" href="Tactic.Try.html#1522" class="Bound">mb</a>
    <a id="1560" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="1563" href="Tactic.Try.html#1549" class="Bound">b</a> <a id="1565" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="1570" href="Tactic.Try.html#1530" class="Bound">k</a> <a id="1572" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="1577" href="Tactic.Try.html#1537" class="Bound">k′</a>

  <a id="caseM_of_"></a><a id="1583" href="Tactic.Try.html#1583" class="Function Operator">caseM_of_</a> <a id="1593" class="Symbol">:</a> <a id="1595" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1598" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1600" class="Symbol">→</a> <a id="1602" class="Symbol">(</a><a id="1603" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1605" class="Symbol">→</a> <a id="1607" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1610" href="Tactic.Try.html#1296" class="Generalizable">B</a><a id="1611" class="Symbol">)</a> <a id="1613" class="Symbol">→</a> <a id="1615" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1618" href="Tactic.Try.html#1296" class="Generalizable">B</a>
  <a id="1622" href="Tactic.Try.html#1583" class="Function Operator">caseM</a> <a id="1628" href="Tactic.Try.html#1628" class="Bound">k</a> <a id="1630" href="Tactic.Try.html#1583" class="Function Operator">of</a> <a id="1633" href="Tactic.Try.html#1633" class="Bound">f</a> <a id="1635" class="Symbol">=</a> <a id="1637" class="Keyword">do</a>
    <a id="1644" href="Tactic.Try.html#1644" class="Bound">x</a> <a id="1646" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="1648" href="Tactic.Try.html#1628" class="Bound">k</a>
    <a id="1654" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1659" href="Tactic.Try.html#1644" class="Bound">x</a> <a id="1661" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="1664" href="Tactic.Try.html#1633" class="Bound">f</a>

  <a id="1669" class="Keyword">infixl</a> <a id="1676" class="Number">0</a> <a id="1678" href="Tactic.Try.html#1684" class="Function Operator">_∣_</a>
  <a id="_∣_"></a><a id="1684" href="Tactic.Try.html#1684" class="Function Operator">_∣_</a> <a id="1688" class="Symbol">:</a> <a id="1690" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1693" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1695" class="Symbol">→</a> <a id="1697" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1700" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1702" class="Symbol">→</a> <a id="1704" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1707" href="Tactic.Try.html#1294" class="Generalizable">A</a>
  <a id="1711" href="Tactic.Try.html#1711" class="Bound">f</a> <a id="1713" href="Tactic.Try.html#1684" class="Function Operator">∣</a> <a id="1715" href="Tactic.Try.html#1715" class="Bound">g</a> <a id="1717" class="Symbol">=</a> <a id="1719" href="Agda.Builtin.Reflection.html#9029" class="Postulate">catchTC</a> <a id="1727" href="Tactic.Try.html#1711" class="Bound">f</a> <a id="1729" href="Tactic.Try.html#1715" class="Bound">g</a>

  <a id="amb"></a><a id="1734" href="Tactic.Try.html#1734" class="Function">amb</a> <a id="1738" class="Symbol">:</a> <a id="1740" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1745" class="Symbol">(</a><a id="1746" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1749" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="1750" class="Symbol">)</a> <a id="1752" class="Symbol">→</a> <a id="1754" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1757" href="Tactic.Try.html#1294" class="Generalizable">A</a>
  <a id="1761" href="Tactic.Try.html#1734" class="Function">amb</a> <a id="1765" class="Symbol">=</a> <a id="1767" href="Data.List.Base.html#4336" class="Function">foldr</a> <a id="1773" href="Tactic.Try.html#1684" class="Function Operator">_∣_</a> <a id="1777" class="Symbol">(</a><a id="1778" href="Reflection.Utils.Debug.html#456" class="Function">error</a> <a id="1784" class="String">&quot;∅&quot;</a><a id="1787" class="Symbol">)</a>

  <a id="1792" class="Keyword">infix</a> <a id="1798" class="Number">4</a> <a id="1800" href="Tactic.Try.html#1806" class="Function Operator">_≔_</a>
  <a id="_≔_"></a><a id="1806" href="Tactic.Try.html#1806" class="Function Operator">_≔_</a> <a id="1810" class="Symbol">:</a> <a id="1812" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1817" class="Symbol">→</a> <a id="1819" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1824" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1829" class="Symbol">→</a> <a id="1831" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1834" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="1838" href="Tactic.Try.html#1838" class="Bound">t</a> <a id="1840" href="Tactic.Try.html#1806" class="Function Operator">≔</a> <a id="1842" href="Tactic.Try.html#1842" class="Bound">es</a> <a id="1845" class="Symbol">=</a> <a id="1847" href="Tactic.Try.html#1734" class="Function">amb</a> <a id="1851" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1853" href="Data.List.Base.html#1631" class="Function">map</a> <a id="1857" class="Symbol">(</a><a id="1858" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="1864" href="Tactic.Try.html#1838" class="Bound">t</a><a id="1865" class="Symbol">)</a> <a id="1867" href="Tactic.Try.html#1842" class="Bound">es</a>

  <a id="purely"></a><a id="1873" href="Tactic.Try.html#1873" class="Function">purely</a> <a id="1880" class="Symbol">:</a> <a id="1882" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1885" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="1887" class="Symbol">→</a> <a id="1889" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1892" href="Tactic.Try.html#1294" class="Generalizable">A</a>
  <a id="1896" href="Tactic.Try.html#1873" class="Function">purely</a> <a id="1903" href="Tactic.Try.html#1903" class="Bound">k</a> <a id="1905" class="Symbol">=</a> <a id="1907" href="Agda.Builtin.Reflection.html#11429" class="Postulate">runSpeculative</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Class.Functor.Core.html#263" class="Function">fmap</a> <a id="1928" class="Symbol">(</a><a id="1929" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,</a> <a id="1932" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="1937" class="Symbol">)</a> <a id="1939" href="Tactic.Try.html#1903" class="Bound">k</a><a id="1940" class="Symbol">)</a>

<a id="1943" class="Keyword">record</a> <a id="Subterms"></a><a id="1950" href="Tactic.Try.html#1950" class="Record">Subterms</a> <a id="1959" class="Symbol">(</a><a id="1960" href="Tactic.Try.html#1960" class="Bound">A</a> <a id="1962" class="Symbol">:</a> <a id="1964" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1967" class="Symbol">)</a> <a id="1969" class="Symbol">:</a> <a id="1971" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1975" class="Keyword">where</a>
  <a id="1983" class="Keyword">field</a>
    <a id="Subterms.subterms"></a><a id="1993" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2002" class="Symbol">:</a> <a id="2004" href="Tactic.Try.html#1960" class="Bound">A</a> <a id="2006" class="Symbol">→</a> <a id="2008" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2013" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

<a id="2019" class="Keyword">open</a> <a id="2024" href="Tactic.Try.html#1950" class="Module">Subterms</a> <a id="2033" class="Symbol">{{...}}</a>

<a id="2042" class="Keyword">instance</a>
  <a id="STerm"></a><a id="2053" href="Tactic.Try.html#2053" class="Function">STerm</a> <a id="2059" class="Symbol">:</a> <a id="2061" href="Tactic.Try.html#1950" class="Record">Subterms</a> <a id="2070" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="2077" href="Tactic.Try.html#2053" class="Function">STerm</a> <a id="2083" class="Symbol">.</a><a id="2084" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2093" href="Tactic.Try.html#2093" class="Bound">t</a> <a id="2095" class="Symbol">=</a> <a id="2097" href="Tactic.Try.html#2093" class="Bound">t</a> <a id="2099" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2101" class="Symbol">(</a><a id="2102" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2107" href="Tactic.Try.html#2093" class="Bound">t</a> <a id="2109" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2112" class="Symbol">λ</a> <a id="2114" class="Keyword">where</a>
    <a id="2124" class="Symbol">(</a><a id="2125" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="2129" class="Symbol">_</a> <a id="2131" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2133" class="Symbol">)</a> <a id="2135" class="Symbol">→</a> <a id="2137" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="2144" class="Symbol">(</a><a id="2145" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="2149" href="Tactic.Try.html#2149" class="Bound">x</a> <a id="2151" class="Symbol">(</a><a id="2152" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="2156" class="Symbol">_</a> <a id="2158" href="Tactic.Try.html#2158" class="Bound">e</a> <a id="2160" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2162" href="Tactic.Try.html#2162" class="Bound">as</a><a id="2164" class="Symbol">))</a> <a id="2167" class="Symbol">→</a> <a id="2169" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2178" href="Tactic.Try.html#2158" class="Bound">e</a> <a id="2180" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="2183" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2192" class="Symbol">(</a><a id="2193" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="2197" href="Tactic.Try.html#2149" class="Bound">x</a> <a id="2199" href="Tactic.Try.html#2162" class="Bound">as</a><a id="2201" class="Symbol">)</a>
    <a id="2207" class="Symbol">(</a><a id="2208" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="2212" class="Symbol">_</a> <a id="2214" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2216" class="Symbol">)</a> <a id="2218" class="Symbol">→</a> <a id="2220" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="2227" class="Symbol">(</a><a id="2228" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="2232" href="Tactic.Try.html#2232" class="Bound">c</a> <a id="2234" class="Symbol">(</a><a id="2235" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="2239" class="Symbol">_</a> <a id="2241" href="Tactic.Try.html#2241" class="Bound">e</a> <a id="2243" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2245" href="Tactic.Try.html#2245" class="Bound">as</a><a id="2247" class="Symbol">))</a> <a id="2250" class="Symbol">→</a> <a id="2252" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2261" href="Tactic.Try.html#2241" class="Bound">e</a> <a id="2263" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="2266" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2275" class="Symbol">(</a><a id="2276" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="2280" href="Tactic.Try.html#2232" class="Bound">c</a> <a id="2282" href="Tactic.Try.html#2245" class="Bound">as</a><a id="2284" class="Symbol">)</a>

    <a id="2291" class="Symbol">(</a><a id="2292" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2296" class="Symbol">_</a> <a id="2298" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2300" class="Symbol">)</a> <a id="2302" class="Symbol">→</a> <a id="2304" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="2311" class="Symbol">(</a><a id="2312" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2316" href="Tactic.Try.html#2316" class="Bound">f</a> <a id="2318" class="Symbol">(</a><a id="2319" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="2323" class="Symbol">_</a> <a id="2325" href="Tactic.Try.html#2325" class="Bound">e</a> <a id="2327" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2329" href="Tactic.Try.html#2329" class="Bound">as</a><a id="2331" class="Symbol">))</a> <a id="2334" class="Symbol">→</a> <a id="2336" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2345" href="Tactic.Try.html#2325" class="Bound">e</a> <a id="2347" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="2350" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2359" class="Symbol">(</a><a id="2360" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2364" href="Tactic.Try.html#2316" class="Bound">f</a> <a id="2366" href="Tactic.Try.html#2329" class="Bound">as</a><a id="2368" class="Symbol">)</a>
    <a id="2374" class="Symbol">(</a><a id="2375" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="2378" class="Symbol">(</a><a id="2379" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="2383" class="Symbol">_</a> <a id="2385" href="Tactic.Try.html#2385" class="Bound">ty</a><a id="2387" class="Symbol">)</a> <a id="2389" class="Symbol">(</a><a id="2390" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="2394" class="Symbol">_</a> <a id="2396" href="Tactic.Try.html#2396" class="Bound">e</a><a id="2397" class="Symbol">))</a> <a id="2400" class="Symbol">→</a> <a id="2402" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2411" href="Tactic.Try.html#2385" class="Bound">ty</a> <a id="2414" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="2417" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2426" href="Tactic.Try.html#2396" class="Bound">e</a>
    <a id="2432" class="CatchallClause Symbol">_</a> <a id="2434" class="Symbol">→</a> <a id="2436" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2438" class="Symbol">)</a>

  <a id="SArg"></a><a id="2443" href="Tactic.Try.html#2443" class="Function">SArg</a> <a id="2448" class="Symbol">:</a> <a id="2450" class="Symbol">{{</a><a id="2452" href="Tactic.Try.html#2452" class="Bound">_</a> <a id="2454" class="Symbol">:</a> <a id="2456" href="Tactic.Try.html#1950" class="Record">Subterms</a> <a id="2465" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="2466" class="Symbol">}}</a> <a id="2469" class="Symbol">→</a> <a id="2471" href="Tactic.Try.html#1950" class="Record">Subterms</a> <a id="2480" class="Symbol">(</a><a id="2481" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="2485" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="2486" class="Symbol">)</a>
  <a id="2490" href="Tactic.Try.html#2443" class="Function">SArg</a> <a id="2495" class="Symbol">.</a><a id="2496" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2505" class="Symbol">=</a> <a id="2507" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2516" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2518" href="Reflection.AST.Argument.html#2658" class="Function">unArg</a>

  <a id="SAbs"></a><a id="2527" href="Tactic.Try.html#2527" class="Function">SAbs</a> <a id="2532" class="Symbol">:</a> <a id="2534" class="Symbol">{{</a><a id="2536" href="Tactic.Try.html#2536" class="Bound">_</a> <a id="2538" class="Symbol">:</a> <a id="2540" href="Tactic.Try.html#1950" class="Record">Subterms</a> <a id="2549" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="2550" class="Symbol">}}</a> <a id="2553" class="Symbol">→</a> <a id="2555" href="Tactic.Try.html#1950" class="Record">Subterms</a> <a id="2564" class="Symbol">(</a><a id="2565" href="Agda.Builtin.Reflection.html#4249" class="Datatype">Abs</a> <a id="2569" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="2570" class="Symbol">)</a>
  <a id="2574" href="Tactic.Try.html#2527" class="Function">SAbs</a> <a id="2579" class="Symbol">.</a><a id="2580" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2589" class="Symbol">=</a> <a id="2591" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2600" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2602" href="Reflection.AST.Abstraction.html#1816" class="Function">unAbs</a>

  <a id="SList"></a><a id="2611" href="Tactic.Try.html#2611" class="Function">SList</a> <a id="2617" class="Symbol">:</a> <a id="2619" class="Symbol">{{</a><a id="2621" href="Tactic.Try.html#2621" class="Bound">_</a> <a id="2623" class="Symbol">:</a> <a id="2625" href="Tactic.Try.html#1950" class="Record">Subterms</a> <a id="2634" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="2635" class="Symbol">}}</a> <a id="2638" class="Symbol">→</a> <a id="2640" href="Tactic.Try.html#1950" class="Record">Subterms</a> <a id="2649" class="Symbol">(</a><a id="2650" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2655" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="2656" class="Symbol">)</a>
  <a id="2660" href="Tactic.Try.html#2611" class="Function">SList</a> <a id="2666" class="Symbol">.</a><a id="2667" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="2676" class="Symbol">=</a> <a id="2678" href="Data.List.Base.html#4594" class="Function">concatMap</a> <a id="2688" href="Tactic.Try.html#1993" class="Field">subterms</a>

<a id="fits?"></a><a id="2698" href="Tactic.Try.html#2698" class="Function">fits?</a> <a id="2704" class="Symbol">:</a> <a id="2706" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="2711" class="Symbol">→</a> <a id="2713" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2718" class="Symbol">→</a> <a id="2720" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2723" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="2728" href="Tactic.Try.html#2698" class="Function">fits?</a> <a id="2734" href="Tactic.Try.html#2734" class="Bound">ty</a> <a id="2737" href="Tactic.Try.html#2737" class="Bound">e</a> <a id="2739" class="Symbol">=</a> <a id="2741" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="2751" href="Tactic.Try.html#2737" class="Bound">e</a> <a id="2753" href="Class.Monad.Core.html#290" class="Field Operator">&gt;&gt;=</a> <a id="2757" href="Reflection.Utils.TCI.html#4361" class="Function">compatible?</a> <a id="2769" href="Tactic.Try.html#2734" class="Bound">ty</a>

<a id="apply?"></a><a id="2773" href="Tactic.Try.html#2773" class="Function">apply?</a> <a id="2780" class="Symbol">:</a> <a id="2782" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="2787" class="Symbol">→</a> <a id="2789" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="2794" class="Symbol">→</a> <a id="2796" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2799" class="Symbol">(</a><a id="2800" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2806" class="Symbol">(</a><a id="2807" href="Reflection.AST.Argument.html#1604" class="Function">Args</a> <a id="2812" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="2816" class="Symbol">))</a>
<a id="2819" href="Tactic.Try.html#2773" class="Function">apply?</a> <a id="2826" href="Tactic.Try.html#2826" class="Bound">ty</a> <a id="2829" href="Tactic.Try.html#2829" class="Bound">ty₀</a> <a id="2833" class="Symbol">=</a> <a id="2835" href="Tactic.Try.html#2856" class="Function">go</a> <a id="2838" href="Tactic.Try.html#2826" class="Bound">ty</a> <a id="2841" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="2846" class="Keyword">where</a>
    <a id="2856" href="Tactic.Try.html#2856" class="Function">go</a> <a id="2859" class="Symbol">:</a> <a id="2861" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="2866" class="Symbol">→</a> <a id="2868" href="Reflection.AST.Argument.html#1604" class="Function">Args</a> <a id="2873" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="2878" class="Symbol">→</a> <a id="2880" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2883" class="Symbol">(</a><a id="2884" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2890" class="Symbol">(</a><a id="2891" href="Reflection.AST.Argument.html#1604" class="Function">Args</a> <a id="2896" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="2900" class="Symbol">))</a>
    <a id="2907" href="Tactic.Try.html#2856" class="Function">go</a> <a id="2910" href="Tactic.Try.html#2910" class="Bound">ty</a> <a id="2913" href="Tactic.Try.html#2913" class="Bound">as</a> <a id="2916" class="Symbol">=</a>
      <a id="2924" href="Tactic.Try.html#1470" class="Function Operator">ifM</a> <a id="2928" href="Reflection.Utils.TCI.html#4361" class="Function">compatible?</a> <a id="2940" href="Tactic.Try.html#2910" class="Bound">ty</a> <a id="2943" href="Tactic.Try.html#2829" class="Bound">ty₀</a> <a id="2947" href="Tactic.Try.html#1470" class="Function Operator">then</a>
        <a id="2960" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="2967" class="Symbol">(</a><a id="2968" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2973" href="Tactic.Try.html#2913" class="Bound">as</a><a id="2975" class="Symbol">)</a>
      <a id="2983" href="Tactic.Try.html#1470" class="Function Operator">else</a> <a id="2988" class="Symbol">(</a><a id="2989" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2994" href="Tactic.Try.html#2910" class="Bound">ty</a> <a id="2997" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3000" class="Symbol">λ</a> <a id="3002" class="Keyword">where</a>
        <a id="3016" class="Symbol">(</a><a id="3017" href="Reflection.AST.Term.html#2283" class="InductiveConstructor Operator">Π[</a> <a id="3020" class="Symbol">_</a> <a id="3022" href="Reflection.AST.Term.html#2283" class="InductiveConstructor Operator">∶</a> <a id="3024" href="Tactic.Try.html#3024" class="Bound">a</a> <a id="3026" href="Reflection.AST.Term.html#2283" class="InductiveConstructor Operator">]</a> <a id="3028" href="Tactic.Try.html#3028" class="Bound">ty′</a><a id="3031" class="Symbol">)</a> <a id="3033" class="Symbol">→</a> <a id="3035" href="Tactic.Try.html#2856" class="Function">go</a> <a id="3038" href="Tactic.Try.html#3028" class="Bound">ty′</a> <a id="3042" class="Symbol">(</a><a id="3043" href="Tactic.Try.html#2913" class="Bound">as</a> <a id="3046" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="3049" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="3051" href="Tactic.Try.html#3024" class="Bound">a</a> <a id="3053" href="Data.List.Base.html#5244" class="Function Operator">]</a><a id="3054" class="Symbol">)</a>
        <a id="3064" class="CatchallClause Symbol">_</a>                <a id="3081" class="Symbol">→</a> <a id="3083" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3090" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="3097" class="Symbol">)</a>

<a id="3100" class="Symbol">{-#</a> <a id="3104" class="Keyword">TERMINATING</a> <a id="3116" class="Symbol">#-}</a>
<a id="allCandidates"></a><a id="3120" href="Tactic.Try.html#3120" class="Function">allCandidates</a> <a id="3134" class="Symbol">:</a> <a id="3136" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3141" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3146" class="Symbol">→</a> <a id="3148" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="3153" class="Symbol">→</a> <a id="3155" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3158" class="Symbol">(</a><a id="3159" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3164" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3168" class="Symbol">)</a>
<a id="tryOut"></a><a id="3170" href="Tactic.Try.html#3170" class="Function">tryOut</a> <a id="3177" class="Symbol">:</a> <a id="3179" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3184" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3189" class="Symbol">→</a> <a id="3191" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3196" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3198" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a> <a id="3203" class="Symbol">→</a> <a id="3205" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3208" class="Symbol">(</a><a id="3209" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3214" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3218" class="Symbol">)</a>

<a id="3221" href="Tactic.Try.html#3120" class="Function">allCandidates</a> <a id="3235" href="Tactic.Try.html#3235" class="Bound">db</a> <a id="3238" href="Tactic.Try.html#3238" class="Bound">ty</a> <a id="3241" class="Symbol">=</a> <a id="3243" href="Class.Functor.Core.html#263" class="Function">fmap</a> <a id="3248" href="Data.List.Base.html#4538" class="Function">concat</a> <a id="3255" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3257" href="Class.Monad.Core.html#713" class="Function">mapM</a> <a id="3262" href="Tactic.Try.html#3280" class="Function">go</a> <a id="3265" href="Tactic.Try.html#3235" class="Bound">db</a>
  <a id="3270" class="Keyword">where</a>
    <a id="3280" href="Tactic.Try.html#3280" class="Function">go</a> <a id="3283" class="Symbol">:</a> <a id="3285" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3290" class="Symbol">→</a> <a id="3292" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3295" class="Symbol">(</a><a id="3296" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3301" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3305" class="Symbol">)</a>
    <a id="3311" href="Tactic.Try.html#3280" class="Function">go</a> <a id="3314" href="Tactic.Try.html#3314" class="Bound">e</a> <a id="3316" class="Symbol">=</a> <a id="3318" class="Keyword">do</a>
      <a id="3327" href="Tactic.Try.html#3327" class="Bound">eTy</a> <a id="3331" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3333" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="3343" href="Tactic.Try.html#3314" class="Bound">e</a>
      <a id="3351" href="Tactic.Try.html#1583" class="Function Operator">caseM</a> <a id="3357" href="Tactic.Try.html#2773" class="Function">apply?</a> <a id="3364" href="Tactic.Try.html#3327" class="Bound">eTy</a> <a id="3368" href="Tactic.Try.html#3238" class="Bound">ty</a> <a id="3371" href="Tactic.Try.html#1583" class="Function Operator">of</a> <a id="3374" class="Symbol">λ</a> <a id="3376" class="Keyword">where</a>
        <a id="3390" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="3401" class="Symbol">→</a> <a id="3403" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3410" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
        <a id="3421" class="Symbol">(</a><a id="3422" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3427" href="Tactic.Try.html#3427" class="Bound">tys</a><a id="3430" class="Symbol">)</a> <a id="3432" class="Symbol">→</a> <a id="3434" href="Tactic.Try.html#3170" class="Function">tryOut</a> <a id="3441" href="Tactic.Try.html#3235" class="Bound">db</a> <a id="3444" class="Symbol">(</a><a id="3445" href="Tactic.Try.html#3314" class="Bound">e</a> <a id="3447" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3449" href="Tactic.Try.html#3327" class="Bound">eTy</a><a id="3452" class="Symbol">)</a>

<a id="3455" href="Tactic.Try.html#3170" class="Function">tryOut</a> <a id="3462" href="Tactic.Try.html#3462" class="Bound">db</a> <a id="3465" class="Symbol">(</a><a id="3466" href="Tactic.Try.html#3466" class="Bound">f</a> <a id="3468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3470" href="Tactic.Try.html#3470" class="Bound">fTy</a><a id="3473" class="Symbol">)</a> <a id="3475" class="Symbol">=</a> <a id="3477" href="Tactic.Try.html#1873" class="Function">purely</a> <a id="3484" class="Symbol">(</a><a id="3485" class="Keyword">do</a>
  <a id="3490" href="Tactic.Try.html#3490" class="Bound">cs</a> <a id="3493" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3495" href="Class.Monad.Core.html#932" class="Function">forM</a> <a id="3500" class="Symbol">(</a><a id="3501" href="Reflection.Utils.html#2941" class="Function">argTys</a> <a id="3508" href="Tactic.Try.html#3470" class="Bound">fTy</a><a id="3511" class="Symbol">)</a> <a id="3513" class="Symbol">λ</a> <a id="3515" class="Keyword">where</a>
    <a id="3525" class="Symbol">(</a><a id="3526" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3530" href="Tactic.Try.html#3530" class="Bound">i</a> <a id="3532" href="Tactic.Try.html#3532" class="Bound">ty</a><a id="3534" class="Symbol">)</a> <a id="3536" class="Symbol">→</a> <a id="3538" class="Keyword">do</a>
      <a id="3547" href="Tactic.Try.html#3547" class="Bound">cs′</a> <a id="3551" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3553" href="Tactic.Try.html#3120" class="Function">allCandidates</a> <a id="3567" href="Tactic.Try.html#3462" class="Bound">db</a> <a id="3570" href="Tactic.Try.html#3532" class="Bound">ty</a>
      <a id="3579" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3586" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3588" href="Data.List.Base.html#1631" class="Function">map</a> <a id="3592" class="Symbol">(</a><a id="3593" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3597" href="Tactic.Try.html#3530" class="Bound">i</a><a id="3598" class="Symbol">)</a> <a id="3600" href="Tactic.Try.html#3547" class="Bound">cs′</a>
  <a id="3606" href="Class.Monad.Core.html#713" class="Function">mapM</a> <a id="3611" class="Symbol">(</a><a id="3612" href="Tactic.Try.html#3466" class="Bound">f</a> <a id="3614" href="Tactic.Try.html#459" class="Function Operator">∙_</a><a id="3616" class="Symbol">)</a> <a id="3618" class="Symbol">(</a><a id="3619" href="Tactic.Try.html#3742" class="Function">combinations</a> <a id="3632" href="Tactic.Try.html#3490" class="Bound">cs</a><a id="3634" class="Symbol">))</a> <a id="3637" href="Tactic.Try.html#1684" class="Function Operator">∣</a> <a id="3639" href="Class.Monad.Core.html#269" class="Field">return</a> <a id="3646" href="Tactic.Try.html#3462" class="Bound">db</a>
  <a id="3651" class="Keyword">where</a>
    <a id="3661" class="Comment">-- e.g. combinations [[1,2,3],[4,5]] ≡ [[1,4],[1,5],[2,4],[2,5],[3,4],[3,5]]</a>
    <a id="3742" href="Tactic.Try.html#3742" class="Function">combinations</a> <a id="3755" class="Symbol">:</a> <a id="3757" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3762" class="Symbol">(</a><a id="3763" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3768" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="3769" class="Symbol">)</a> <a id="3771" class="Symbol">→</a> <a id="3773" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3778" class="Symbol">(</a><a id="3779" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3784" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="3785" class="Symbol">)</a>
    <a id="3791" href="Tactic.Try.html#3742" class="Function">combinations</a> <a id="3804" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>         <a id="3815" class="Symbol">=</a> <a id="3817" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="3819" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3822" href="Data.List.Base.html#5244" class="Function Operator">]</a>
    <a id="3828" href="Tactic.Try.html#3742" class="Function">combinations</a> <a id="3841" class="Symbol">(</a><a id="3842" href="Tactic.Try.html#3842" class="Bound">xs</a> <a id="3845" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3847" href="Tactic.Try.html#3847" class="Bound">xss</a><a id="3850" class="Symbol">)</a> <a id="3852" class="Symbol">=</a> <a id="3854" href="Data.List.Base.html#4594" class="Function">concatMap</a> <a id="3864" class="Symbol">(λ</a> <a id="3867" href="Tactic.Try.html#3867" class="Bound">x</a> <a id="3869" class="Symbol">→</a> <a id="3871" href="Data.List.Base.html#1631" class="Function">map</a> <a id="3875" class="Symbol">(</a><a id="3876" href="Tactic.Try.html#3867" class="Bound">x</a> <a id="3878" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="3880" class="Symbol">)</a> <a id="3882" href="Tactic.Try.html#3903" class="Function">xss′</a><a id="3886" class="Symbol">)</a> <a id="3888" href="Tactic.Try.html#3842" class="Bound">xs</a>
      <a id="3897" class="Keyword">where</a> <a id="3903" href="Tactic.Try.html#3903" class="Function">xss′</a> <a id="3908" class="Symbol">=</a> <a id="3910" href="Tactic.Try.html#3742" class="Function">combinations</a> <a id="3923" href="Tactic.Try.html#3847" class="Bound">xss</a>

<a id="3928" class="Comment">-- applyCandidates : List Term → Term → TC (List Term)</a>
<a id="3983" class="Comment">-- applyCandidates candidates f = purely (do</a>
<a id="4028" class="Comment">--   fTy ← inferType f</a>
<a id="4051" class="Comment">--   cs ← forM (argTys fTy) λ where</a>
<a id="4087" class="Comment">--     (arg i ty) → fmap (map (arg i)) $ filterM (fits? ty) candidates</a>
<a id="4158" class="Comment">--   mapM (f ∙_) (combinations cs)) ∣ return candidates</a>

<a id="4215" class="Comment">-- expand : List Term → TC (List Term)</a>
<a id="4254" class="Comment">-- expand cs = do</a>
<a id="4272" class="Comment">--   cs′ ← fmap concat $ forM cs (applyCandidates cs)</a>
<a id="4326" class="Comment">--   return $ nodup $ cs ++ cs′</a>

<a id="prints"></a><a id="4359" href="Tactic.Try.html#4359" class="Function">prints</a> <a id="4366" class="Symbol">:</a> <a id="4368" class="Symbol">{{</a><a id="4370" href="Tactic.Try.html#4370" class="Bound">_</a> <a id="4372" class="Symbol">:</a> <a id="4374" href="Class.Show.Core.html#116" class="Record">Show</a> <a id="4379" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="4380" class="Symbol">}}</a> <a id="4383" class="Symbol">→</a> <a id="4385" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4392" class="Symbol">→</a> <a id="4394" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4399" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="4401" class="Symbol">→</a> <a id="4403" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="4406" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="4408" href="Tactic.Try.html#4359" class="Function">prints</a> <a id="4415" href="Tactic.Try.html#4415" class="Bound">pre</a> <a id="4419" href="Tactic.Try.html#4419" class="Bound">xs</a> <a id="4422" class="Symbol">=</a> <a id="4424" href="Reflection.Utils.Debug.html#694" class="Function">print</a> <a id="4430" class="Symbol">(</a><a id="4431" href="Tactic.Try.html#4415" class="Bound">pre</a> <a id="4435" href="Class.Semigroup.Core.html#164" class="Field Operator">◇</a> <a id="4437" class="String">&quot; {&quot;</a><a id="4441" class="Symbol">)</a> <a id="4443" href="Class.Monad.Core.html#324" class="Function Operator">&gt;&gt;</a> <a id="4446" href="Tactic.Try.html#4464" class="Function">go</a> <a id="4449" href="Tactic.Try.html#4419" class="Bound">xs</a>
  <a id="4454" class="Keyword">where</a>
    <a id="4464" href="Tactic.Try.html#4464" class="Function">go</a> <a id="4467" class="Symbol">:</a> <a id="4469" class="Symbol">{{</a><a id="4471" href="Tactic.Try.html#4471" class="Bound">_</a> <a id="4473" class="Symbol">:</a> <a id="4475" href="Class.Show.Core.html#116" class="Record">Show</a> <a id="4480" href="Tactic.Try.html#1294" class="Generalizable">A</a><a id="4481" class="Symbol">}}</a> <a id="4484" class="Symbol">→</a> <a id="4486" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4491" href="Tactic.Try.html#1294" class="Generalizable">A</a> <a id="4493" class="Symbol">→</a> <a id="4495" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="4498" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="4504" href="Tactic.Try.html#4464" class="Function">go</a> <a id="4507" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4510" class="Symbol">=</a> <a id="4512" href="Reflection.Utils.Debug.html#694" class="Function">print</a> <a id="4518" class="String">&quot;}&quot;</a>
    <a id="4526" href="Tactic.Try.html#4464" class="Function">go</a> <a id="4529" class="Symbol">(</a><a id="4530" href="Tactic.Try.html#4530" class="Bound">x</a> <a id="4532" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4534" href="Tactic.Try.html#4534" class="Bound">xs</a><a id="4536" class="Symbol">)</a> <a id="4538" class="Symbol">=</a> <a id="4540" href="Reflection.Utils.Debug.html#694" class="Function">print</a> <a id="4546" class="Symbol">(</a><a id="4547" class="String">&quot;\t&quot;</a> <a id="4552" href="Class.Semigroup.Core.html#164" class="Field Operator">◇</a> <a id="4554" href="Class.Show.Core.html#178" class="Field">show</a> <a id="4559" href="Tactic.Try.html#4530" class="Bound">x</a><a id="4560" class="Symbol">)</a> <a id="4562" href="Class.Monad.Core.html#324" class="Function Operator">&gt;&gt;</a> <a id="4565" href="Tactic.Try.html#4464" class="Function">go</a> <a id="4568" href="Tactic.Try.html#4534" class="Bound">xs</a>

<a id="mapArgs"></a><a id="4572" href="Tactic.Try.html#4572" class="Function">mapArgs</a> <a id="4580" class="Symbol">:</a> <a id="4582" class="Symbol">(</a><a id="4583" href="Reflection.AST.Argument.html#1604" class="Function">Args</a> <a id="4588" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4593" class="Symbol">→</a> <a id="4595" href="Reflection.AST.Argument.html#1604" class="Function">Args</a> <a id="4600" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="4604" class="Symbol">)</a> <a id="4606" class="Symbol">→</a> <a id="4608" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4613" class="Symbol">→</a> <a id="4615" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="4620" href="Tactic.Try.html#4572" class="Function">mapArgs</a> <a id="4628" href="Tactic.Try.html#4628" class="Bound">f</a> <a id="4630" href="Tactic.Try.html#4630" class="Bound">t₀</a> <a id="4633" class="Keyword">with</a> <a id="4638" href="Tactic.Try.html#4630" class="Bound">t₀</a>
<a id="4641" class="Symbol">...</a> <a id="4645" class="Symbol">|</a> <a id="4647" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="4651" href="Tactic.Try.html#4651" class="Bound">x</a> <a id="4653" href="Tactic.Try.html#4653" class="Bound">as</a> <a id="4656" class="Symbol">=</a> <a id="4658" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="4662" href="Tactic.Try.html#4651" class="Bound">x</a> <a id="4664" class="Symbol">(</a><a id="4665" class="Bound">f</a> <a id="4667" href="Tactic.Try.html#4653" class="Bound">as</a><a id="4669" class="Symbol">)</a>
<a id="4671" class="Symbol">...</a> <a id="4675" class="Symbol">|</a> <a id="4677" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="4681" href="Tactic.Try.html#4681" class="Bound">x</a> <a id="4683" href="Tactic.Try.html#4683" class="Bound">as</a> <a id="4686" class="Symbol">=</a> <a id="4688" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="4692" href="Tactic.Try.html#4681" class="Bound">x</a> <a id="4694" class="Symbol">(</a><a id="4695" class="Bound">f</a> <a id="4697" href="Tactic.Try.html#4683" class="Bound">as</a><a id="4699" class="Symbol">)</a>
<a id="4701" class="Symbol">...</a> <a id="4705" class="Symbol">|</a> <a id="4707" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="4711" href="Tactic.Try.html#4711" class="Bound">x</a> <a id="4713" href="Tactic.Try.html#4713" class="Bound">as</a> <a id="4716" class="Symbol">=</a> <a id="4718" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="4722" href="Tactic.Try.html#4711" class="Bound">x</a> <a id="4724" class="Symbol">(</a><a id="4725" class="Bound">f</a> <a id="4727" href="Tactic.Try.html#4713" class="Bound">as</a><a id="4729" class="Symbol">)</a>
<a id="4731" class="Symbol">...</a> <a id="4735" class="Symbol">|</a> <a id="4737" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="4741" href="Tactic.Try.html#4741" class="Bound">x</a> <a id="4743" class="Symbol">(</a><a id="4744" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="4748" href="Tactic.Try.html#4748" class="Bound">s</a> <a id="4750" href="Tactic.Try.html#4750" class="Bound">t</a><a id="4751" class="Symbol">)</a> <a id="4753" class="Symbol">=</a> <a id="4755" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="4759" href="Tactic.Try.html#4741" class="Bound">x</a> <a id="4761" class="Symbol">(</a><a id="4762" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="4766" href="Tactic.Try.html#4748" class="Bound">s</a> <a id="4768" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4770" href="Tactic.Try.html#4572" class="Function">mapArgs</a> <a id="4778" class="Bound">f</a> <a id="4780" href="Tactic.Try.html#4750" class="Bound">t</a><a id="4781" class="Symbol">)</a>
<a id="4783" class="CatchallClause Symbol">...</a><a id="4786" class="CatchallClause"> </a><a id="4787" class="CatchallClause Symbol">|</a><a id="4788" class="CatchallClause"> </a><a id="4789" class="CatchallClause Symbol">_</a> <a id="4791" class="Symbol">=</a> <a id="4793" class="Bound">t₀</a>

<a id="countLambdas"></a><a id="4797" href="Tactic.Try.html#4797" class="Function">countLambdas</a> <a id="4810" class="Symbol">:</a> <a id="4812" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4817" class="Symbol">→</a> <a id="4819" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="4821" href="Tactic.Try.html#4797" class="Function">countLambdas</a> <a id="4834" class="Symbol">(</a><a id="4835" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="4839" class="Symbol">_</a> <a id="4841" class="Symbol">(</a><a id="4842" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="4846" class="Symbol">_</a> <a id="4848" href="Tactic.Try.html#4848" class="Bound">t</a><a id="4849" class="Symbol">))</a> <a id="4852" class="Symbol">=</a> <a id="4854" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4858" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4860" href="Tactic.Try.html#4797" class="Function">countLambdas</a> <a id="4873" href="Tactic.Try.html#4848" class="Bound">t</a>
<a id="4875" href="Tactic.Try.html#4797" class="CatchallClause Function">countLambdas</a><a id="4887" class="CatchallClause"> </a><a id="4888" class="CatchallClause Symbol">_</a> <a id="4890" class="Symbol">=</a> <a id="4892" class="Number">0</a>

<a id="η-reduce"></a><a id="4895" href="Tactic.Try.html#4895" class="Function">η-reduce</a> <a id="4904" class="Symbol">:</a> <a id="4906" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4911" class="Symbol">→</a> <a id="4913" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="4918" class="Comment">-- η-reduce t₀@(lam v₀ (abs _ t)) = mapArgs go t</a>
<a id="4967" class="Comment">--   where</a>
<a id="4978" class="Comment">--     λ♯ = countLambdas t</a>

<a id="5006" class="Comment">--     go : Args Term → Args Term</a>
<a id="5040" class="Comment">--     go as with L.initLast as</a>
<a id="5072" class="Comment">--     ... | [] = as</a>
<a id="5093" class="Comment">--     ... | as′ L.∷ʳ&#39; arg (arg-info v _) t′ = if (v == v₀) ∧ (t′ == var λ♯ []) then as′ else as</a>
<a id="5190" href="Tactic.Try.html#4895" class="Function">η-reduce</a> <a id="5199" href="Tactic.Try.html#5199" class="Bound">t</a> <a id="5201" class="Symbol">=</a> <a id="5203" href="Tactic.Try.html#5199" class="Bound">t</a>

<a id="viewTerm"></a><a id="5206" href="Tactic.Try.html#5206" class="Function">viewTerm</a> <a id="5215" class="Symbol">:</a> <a id="5217" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5222" class="Symbol">→</a> <a id="5224" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="5227" class="Symbol">(</a><a id="5228" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5233" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5235" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="5239" class="Symbol">)</a>
<a id="5241" href="Tactic.Try.html#5206" class="Function">viewTerm</a> <a id="5250" href="Tactic.Try.html#5250" class="Bound">t</a> <a id="5252" class="Symbol">=</a> <a id="5254" class="Keyword">do</a>
  <a id="5259" class="Comment">-- ty ← inferType t</a>
  <a id="5281" class="Comment">-- print $ show t ◇ &quot; : &quot; ◇ show ty</a>
  <a id="5319" class="Comment">-- let t′ = η-reduce t</a>
  <a id="5344" class="Comment">-- ty′ ← inferType t′</a>
  <a id="5368" class="Comment">-- print &quot;  ——→&quot;</a>
  <a id="5387" class="Comment">-- print $ show t′ ◇ &quot; : &quot; ◇ show ty′</a>
  <a id="5427" class="Comment">-- return (t′ , ty′)</a>
  <a id="5450" href="Class.Functor.Core.html#263" class="Function">fmap</a> <a id="5455" class="Symbol">(</a><a id="5456" href="Tactic.Try.html#5250" class="Bound">t</a> <a id="5458" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="5460" class="Symbol">)</a> <a id="5462" class="Symbol">(</a><a id="5463" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="5473" href="Tactic.Try.html#5250" class="Bound">t</a><a id="5474" class="Symbol">)</a>

<a id="tryWith"></a><a id="5477" href="Tactic.Try.html#5477" class="Function">tryWith</a> <a id="5485" class="Symbol">:</a> <a id="5487" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5492" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5497" class="Symbol">→</a> <a id="5499" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5504" class="Symbol">→</a> <a id="5506" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5511" class="Symbol">→</a> <a id="5513" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="5516" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="5518" href="Tactic.Try.html#5477" class="Function">tryWith</a> <a id="5526" href="Tactic.Try.html#5526" class="Bound">userDB</a> <a id="5533" href="Tactic.Try.html#5533" class="Bound">f₀</a> <a id="5536" href="Tactic.Try.html#5536" class="Bound">hole₀</a> <a id="5542" class="Symbol">=</a> <a id="5544" class="Keyword">do</a>
  <a id="5549" href="Reflection.Utils.Debug.html#694" class="Function">print</a> <a id="5555" class="String">&quot;---------------------------------&quot;</a>
  <a id="5593" class="Symbol">(</a><a id="5594" href="Tactic.Try.html#5594" class="Bound">hole</a> <a id="5599" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5601" href="Tactic.Try.html#5601" class="Bound">holeTy</a><a id="5607" class="Symbol">)</a> <a id="5609" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5611" href="Tactic.Try.html#5206" class="Function">viewTerm</a> <a id="5620" href="Tactic.Try.html#5536" class="Bound">hole₀</a>
  <a id="5628" href="Reflection.Utils.Debug.html#694" class="Function">print</a> <a id="5634" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5636" class="String">&quot;hole : &quot;</a> <a id="5646" href="Class.Semigroup.Core.html#164" class="Field Operator">◇</a> <a id="5648" href="Class.Show.Core.html#178" class="Field">show</a> <a id="5653" href="Tactic.Try.html#5601" class="Bound">holeTy</a>
  <a id="5662" class="Symbol">(</a><a id="5663" href="Tactic.Try.html#5663" class="Bound">f</a> <a id="5665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5667" href="Tactic.Try.html#5667" class="Bound">fTy</a><a id="5670" class="Symbol">)</a> <a id="5672" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5674" href="Tactic.Try.html#5206" class="Function">viewTerm</a> <a id="5683" href="Tactic.Try.html#5533" class="Bound">f₀</a>
  <a id="5688" href="Reflection.Utils.Debug.html#694" class="Function">print</a> <a id="5694" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5696" href="Class.Show.Core.html#178" class="Field">show</a> <a id="5701" href="Tactic.Try.html#5663" class="Bound">f</a> <a id="5703" href="Class.Semigroup.Core.html#164" class="Field Operator">◇</a> <a id="5705" class="String">&quot; : &quot;</a> <a id="5711" href="Class.Semigroup.Core.html#164" class="Field Operator">◇</a> <a id="5713" href="Class.Show.Core.html#178" class="Field">show</a> <a id="5718" href="Tactic.Try.html#5667" class="Bound">fTy</a>
  <a id="5724" href="Tactic.Try.html#5724" class="Bound">ctx</a> <a id="5728" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="5730" href="Agda.Builtin.Reflection.html#9243" class="Postulate">getContext</a>
  <a id="5743" href="Reflection.Utils.Debug.html#1452" class="Function">printCurrentContext</a>
  <a id="5765" class="Keyword">let</a>
    <a id="5773" href="Tactic.Try.html#5773" class="Bound">db</a> <a id="5776" class="Symbol">:</a> <a id="5778" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5783" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="5792" href="Tactic.Try.html#5773" class="Bound">db</a> <a id="5795" class="Symbol">=</a> <a id="5797" href="Tactic.Try.html#1221" class="Function">nodup</a>
       <a id="5810" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5812" href="Data.List.Base.html#1631" class="Function">map</a> <a id="5816" href="Reflection.Syntax.html#1452" class="InductiveConstructor">♯</a> <a id="5818" class="Symbol">(</a><a id="5819" href="Data.List.Base.html#6860" class="Function">upTo</a> <a id="5824" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5826" href="Data.List.Base.html#5083" class="Function">length</a> <a id="5833" href="Tactic.Try.html#5724" class="Bound">ctx</a><a id="5836" class="Symbol">)</a>
      <a id="5844" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="5847" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="5856" href="Tactic.Try.html#5601" class="Bound">holeTy</a>
      <a id="5869" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="5872" href="Tactic.Try.html#1993" class="Field">subterms</a> <a id="5881" class="Symbol">(</a><a id="5882" href="Data.List.Base.html#1631" class="Function">map</a> <a id="5886" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5892" href="Tactic.Try.html#5724" class="Bound">ctx</a><a id="5895" class="Symbol">)</a>
      <a id="5903" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="5906" href="Tactic.Try.html#5526" class="Bound">userDB</a>
      <a id="5919" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="5922" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="5924" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="5932" href="Data.List.Base.html#5244" class="Function Operator">]</a>
  <a id="5936" href="Tactic.Try.html#4359" class="Function">prints</a> <a id="5943" class="String">&quot;db&quot;</a> <a id="5948" href="Tactic.Try.html#5773" class="Bound">db</a>
<a id="5951" class="Comment">{-
  db′ ← doN 2 expand db
  print $ &quot;db′: &quot; ◇ show db′

  es ← applyCandidates db′ f
-}</a>
  <a id="6042" href="Tactic.Try.html#6042" class="Bound">es</a> <a id="6045" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="6047" href="Tactic.Try.html#3170" class="Function">tryOut</a> <a id="6054" href="Tactic.Try.html#5773" class="Bound">db</a> <a id="6057" class="Symbol">(</a><a id="6058" href="Tactic.Try.html#5663" class="Bound">f</a> <a id="6060" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6062" href="Tactic.Try.html#5667" class="Bound">fTy</a><a id="6065" class="Symbol">)</a>
  <a id="6069" href="Tactic.Try.html#4359" class="Function">prints</a> <a id="6076" class="String">&quot;es&quot;</a> <a id="6081" href="Tactic.Try.html#6042" class="Bound">es</a>

  <a id="6087" href="Tactic.Try.html#5594" class="Bound">hole</a> <a id="6092" href="Tactic.Try.html#1806" class="Function Operator">≔</a> <a id="6094" href="Tactic.Try.html#6042" class="Bound">es</a>

<a id="6098" class="Keyword">macro</a>
  <a id="try_∶-_"></a><a id="6106" href="Tactic.Try.html#6106" class="Function Operator">try_∶-_</a> <a id="6114" class="Symbol">:</a> <a id="6116" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6121" class="Symbol">→</a> <a id="6123" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6128" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6133" class="Symbol">→</a> <a id="6135" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6140" class="Symbol">→</a> <a id="6142" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="6145" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="6149" href="Tactic.Try.html#6106" class="Function Operator">try</a> <a id="6153" href="Tactic.Try.html#6153" class="Bound">t</a> <a id="6155" href="Tactic.Try.html#6106" class="Function Operator">∶-</a> <a id="6158" href="Tactic.Try.html#6158" class="Bound">userDB</a> <a id="6165" class="Symbol">=</a> <a id="6167" href="Tactic.Try.html#5477" class="Function">tryWith</a> <a id="6175" href="Tactic.Try.html#6158" class="Bound">userDB</a> <a id="6182" href="Tactic.Try.html#6153" class="Bound">t</a>

  <a id="try"></a><a id="6187" href="Tactic.Try.html#6187" class="Function">try</a> <a id="6191" class="Symbol">:</a> <a id="6193" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6198" class="Symbol">→</a> <a id="6200" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6205" class="Symbol">→</a> <a id="6207" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="6210" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="6214" href="Tactic.Try.html#6187" class="Function">try</a> <a id="6218" class="Symbol">=</a> <a id="6220" href="Tactic.Try.html#5477" class="Function">tryWith</a> <a id="6228" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="6232" class="Keyword">private</a>
  <a id="test₀"></a><a id="6242" href="Tactic.Try.html#6242" class="Function">test₀</a> <a id="6248" class="Symbol">:</a> <a id="6250" class="Symbol">(</a><a id="6251" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="6256" class="Symbol">→</a> <a id="6258" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6259" class="Symbol">)</a> <a id="6261" class="Symbol">→</a> <a id="6263" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="6268" class="Symbol">→</a> <a id="6270" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="6274" href="Tactic.Try.html#6242" class="Function">test₀</a> <a id="6280" href="Tactic.Try.html#6280" class="Bound">f</a> <a id="6282" href="Tactic.Try.html#6282" class="Bound">b</a> <a id="6284" class="Symbol">=</a> <a id="6286" href="Tactic.Try.html#6187" class="Macro">try</a> <a id="6290" href="Tactic.Try.html#6280" class="Bound">f</a>

  <a id="6295" href="Tactic.Try.html#6295" class="Function">_</a> <a id="6297" class="Symbol">:</a> <a id="6299" href="Tactic.Try.html#6242" class="Function">test₀</a> <a id="6305" class="Symbol">(</a><a id="6306" href="Data.Bool.Base.html#1505" class="Function Operator">if_then</a> <a id="6314" class="Number">1</a> <a id="6316" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="6321" class="Number">0</a><a id="6322" class="Symbol">)</a> <a id="6324" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="6329" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6331" class="Number">1</a>
  <a id="6335" class="Symbol">_</a> <a id="6337" class="Symbol">=</a> <a id="6339" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="test"></a><a id="6347" href="Tactic.Try.html#6347" class="Function">test</a> <a id="6352" class="Symbol">:</a> <a id="6354" class="Symbol">(</a><a id="6355" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="6360" class="Symbol">→</a> <a id="6362" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6363" class="Symbol">)</a> <a id="6365" class="Symbol">→</a> <a id="6367" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="6371" href="Tactic.Try.html#6347" class="Function">test</a> <a id="6376" href="Tactic.Try.html#6376" class="Bound">f</a> <a id="6378" class="Symbol">=</a> <a id="6380" href="Tactic.Try.html#6106" class="Macro Operator">try</a> <a id="6384" href="Tactic.Try.html#6376" class="Bound">f</a> <a id="6386" href="Tactic.Try.html#6106" class="Macro Operator">∶-</a> <a id="6389" class="Symbol">(</a> <a id="6391" class="Keyword">quote</a> <a id="6397" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="6402" href="Reflection.Syntax.html#3162" class="InductiveConstructor Operator">◆</a>
                    <a id="6424" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6426" class="Keyword">quote</a> <a id="6432" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="6437" href="Reflection.Syntax.html#2899" class="InductiveConstructor Operator">∙</a>
                    <a id="6459" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6461" class="Keyword">quote</a> <a id="6467" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6469" href="Reflection.Syntax.html#2899" class="InductiveConstructor Operator">∙</a>
                    <a id="6491" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6493" class="Keyword">quoteTerm</a> <a id="6503" class="Symbol">(</a><a id="6504" class="Number">1</a> <a id="6506" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="6508" class="Number">1</a><a id="6509" class="Symbol">)</a>
                    <a id="6531" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6533" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6535" class="Symbol">)</a>

  <a id="6540" href="Tactic.Try.html#6540" class="Function">_</a> <a id="6542" class="Symbol">:</a> <a id="6544" href="Tactic.Try.html#6347" class="Function">test</a> <a id="6549" class="Symbol">(</a><a id="6550" href="Data.Bool.Base.html#1505" class="Function Operator">if_then</a> <a id="6558" class="Number">1</a> <a id="6560" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="6565" class="Number">0</a><a id="6566" class="Symbol">)</a> <a id="6568" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6570" class="Number">1</a>
  <a id="6574" class="Symbol">_</a> <a id="6576" class="Symbol">=</a> <a id="6578" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="test′"></a><a id="6586" href="Tactic.Try.html#6586" class="Function">test′</a> <a id="6592" class="Symbol">:</a> <a id="6594" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="6596" class="Symbol">→</a> <a id="6598" class="Symbol">(</a><a id="6599" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="6604" class="Symbol">→</a> <a id="6606" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6607" class="Symbol">)</a> <a id="6609" class="Symbol">→</a> <a id="6611" class="Symbol">(</a><a id="6612" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="6614" class="Symbol">→</a> <a id="6616" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="6620" class="Symbol">)</a> <a id="6622" class="Symbol">→</a> <a id="6624" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="6628" href="Tactic.Try.html#6586" class="Function">test′</a> <a id="6634" href="Tactic.Try.html#6634" class="Bound">t</a> <a id="6636" href="Tactic.Try.html#6636" class="Bound">f</a> <a id="6638" href="Tactic.Try.html#6638" class="Bound">g</a> <a id="6640" class="Symbol">=</a> <a id="6642" href="Tactic.Try.html#6187" class="Macro">try</a> <a id="6646" href="Tactic.Try.html#6636" class="Bound">f</a>

  <a id="6651" href="Tactic.Try.html#6651" class="Function">_</a> <a id="6653" class="Symbol">:</a> <a id="6655" href="Tactic.Try.html#6586" class="Function">test′</a> <a id="6661" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="6664" class="Symbol">(</a><a id="6665" href="Data.Bool.Base.html#1505" class="Function Operator">if_then</a> <a id="6673" class="Number">1</a> <a id="6675" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="6680" class="Number">9</a><a id="6681" class="Symbol">)</a> <a id="6683" class="Symbol">(λ</a> <a id="6686" href="Tactic.Try.html#6686" class="Bound">tt</a> <a id="6689" class="Symbol">→</a> <a id="6691" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="6695" class="Symbol">)</a> <a id="6697" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6699" class="Number">1</a>
  <a id="6703" class="Symbol">_</a> <a id="6705" class="Symbol">=</a> <a id="6707" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="test₂"></a><a id="6715" href="Tactic.Try.html#6715" class="Function">test₂</a> <a id="6721" class="Symbol">:</a> <a id="6723" class="Symbol">(</a><a id="6724" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6726" class="Symbol">→</a> <a id="6728" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="6732" class="Symbol">)</a> <a id="6734" class="Symbol">→</a> <a id="6736" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6738" class="Symbol">→</a> <a id="6740" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6742" class="Symbol">→</a> <a id="6744" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="6751" href="Tactic.Try.html#6715" class="Function">test₂</a> <a id="6757" href="Tactic.Try.html#6757" class="Bound">f</a> <a id="6759" href="Tactic.Try.html#6759" class="Bound">n</a> <a id="6761" href="Tactic.Try.html#6761" class="Bound">m</a> <a id="6763" class="Symbol">=</a> <a id="6765" href="Tactic.Try.html#6187" class="Macro">try</a> <a id="6769" href="Tactic.Try.html#6757" class="Bound">f</a>

  <a id="6774" href="Tactic.Try.html#6774" class="Function">_</a> <a id="6776" class="Symbol">:</a> <a id="6778" href="Tactic.Try.html#6715" class="Function">test₂</a> <a id="6784" class="Symbol">(</a><a id="6785" href="Class.DecEq.Core.html#188" class="Function Operator">_==</a> <a id="6789" class="Number">42</a><a id="6791" class="Symbol">)</a> <a id="6793" class="Number">10</a> <a id="6796" class="Number">42</a> <a id="6799" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6801" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6808" class="Symbol">_</a> <a id="6810" class="Symbol">=</a> <a id="6812" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre></body></html>