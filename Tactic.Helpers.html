<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tactic.Helpers</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/stdlib-meta/tree/master/Tactic/Helpers.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>
<a id="36" class="Keyword">module</a> <a id="43" href="Tactic.Helpers.html" class="Module">Tactic.Helpers</a> <a id="58" class="Keyword">where</a>

<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="Prelude.html" class="Module">Prelude</a>
<a id="85" class="Keyword">open</a> <a id="90" class="Keyword">import</a> <a id="97" href="Meta.html" class="Module">Meta</a>

<a id="103" class="Keyword">open</a> <a id="108" class="Keyword">import</a> <a id="115" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="124" class="Keyword">using</a> <a id="130" class="Symbol">()</a> <a id="133" class="Keyword">renaming</a> <a id="142" class="Symbol">(</a><a id="143" href="Data.Nat.Properties.html#2538" class="Function Operator">_≟_</a> <a id="147" class="Symbol">to</a> <a id="150" class="Function Operator">_≟ℕ_</a><a id="154" class="Symbol">)</a>
<a id="156" class="Keyword">open</a> <a id="161" class="Keyword">import</a> <a id="168" href="Data.String.html" class="Module">Data.String</a> <a id="180" class="Keyword">using</a> <a id="186" class="Symbol">()</a> <a id="189" class="Keyword">renaming</a> <a id="198" class="Symbol">(</a><a id="199" href="Data.String.Properties.html#2284" class="Function Operator">_≟_</a> <a id="203" class="Symbol">to</a> <a id="206" class="Function Operator">_≟S_</a><a id="210" class="Symbol">)</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Data.List.html" class="Module">Data.List</a> <a id="234" class="Keyword">using</a> <a id="240" class="Symbol">(</a><a id="241" href="Data.List.Base.html#1553" class="Function">map</a><a id="244" class="Symbol">;</a> <a id="246" href="Data.List.Base.html#2819" class="Function">zipWith</a><a id="253" class="Symbol">)</a>
<a id="255" class="Keyword">import</a> <a id="262" href="Data.Sum.html" class="Module">Data.Sum</a>

<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="Generics.html" class="Module">Generics</a>

<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="333" class="Keyword">hiding</a> <a id="340" class="Symbol">(</a><a id="341" href="Relation.Nullary.Decidable.html#1237" class="Function">map</a><a id="344" class="Symbol">)</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Reflection.Syntax.html" class="Module">Reflection.Syntax</a>
<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Reflection.Name.html" class="Module">Reflection.Name</a> <a id="404" class="Keyword">using</a> <a id="410" class="Symbol">(</a><a id="411" href="Reflection.Name.html#1412" class="Function Operator">_≟_</a><a id="414" class="Symbol">)</a>

<a id="417" class="Keyword">import</a> <a id="424" href="Reflection.html" class="Module">Reflection</a>

<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Class.Traversable.html" class="Module">Class.Traversable</a>
<a id="466" class="Keyword">open</a> <a id="471" class="Keyword">import</a> <a id="478" href="Class.Functor.html" class="Module">Class.Functor</a>
<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Class.Monad.html" class="Module">Class.Monad</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Class.MonadError.Instances.html" class="Module">Class.MonadError.Instances</a>
<a id="555" class="Keyword">open</a> <a id="560" class="Keyword">import</a> <a id="567" href="Class.MonadReader.Instances.html" class="Module">Class.MonadReader.Instances</a>
<a id="595" class="Keyword">open</a> <a id="600" class="Keyword">import</a> <a id="607" href="Class.MonadTC.Instances.html" class="Module">Class.MonadTC.Instances</a>

<a id="632" class="Keyword">private</a>
  <a id="642" class="Keyword">variable</a> <a id="651" href="Tactic.Helpers.html#651" class="Generalizable">a</a> <a id="653" href="Tactic.Helpers.html#653" class="Generalizable">b</a> <a id="655" href="Tactic.Helpers.html#655" class="Generalizable">c</a> <a id="657" class="Symbol">:</a> <a id="659" href="Agda.Primitive.html#591" class="Postulate">Level</a>
           <a id="676" href="Tactic.Helpers.html#676" class="Generalizable">A</a> <a id="678" class="Symbol">:</a> <a id="680" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="684" href="Tactic.Helpers.html#651" class="Generalizable">a</a>
           <a id="697" href="Tactic.Helpers.html#697" class="Generalizable">B</a> <a id="699" class="Symbol">:</a> <a id="701" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="705" href="Tactic.Helpers.html#653" class="Generalizable">b</a>

<a id="zipWithIndex"></a><a id="708" href="Tactic.Helpers.html#708" class="Function">zipWithIndex</a> <a id="721" class="Symbol">:</a> <a id="723" class="Symbol">(</a><a id="724" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="726" class="Symbol">→</a> <a id="728" href="Tactic.Helpers.html#676" class="Generalizable">A</a> <a id="730" class="Symbol">→</a> <a id="732" href="Tactic.Helpers.html#697" class="Generalizable">B</a><a id="733" class="Symbol">)</a> <a id="735" class="Symbol">→</a> <a id="737" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="742" href="Tactic.Helpers.html#676" class="Generalizable">A</a> <a id="744" class="Symbol">→</a> <a id="746" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="751" href="Tactic.Helpers.html#697" class="Generalizable">B</a>
<a id="753" href="Tactic.Helpers.html#708" class="Function">zipWithIndex</a> <a id="766" href="Tactic.Helpers.html#766" class="Bound">f</a> <a id="768" href="Tactic.Helpers.html#768" class="Bound">l</a> <a id="770" class="Symbol">=</a> <a id="772" href="Data.List.Base.html#2819" class="Function">zipWith</a> <a id="780" href="Tactic.Helpers.html#766" class="Bound">f</a> <a id="782" class="Symbol">(</a><a id="783" href="Data.List.Base.html#6243" class="Function">upTo</a> <a id="788" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="790" href="Data.List.Base.html#4873" class="Function">length</a> <a id="797" href="Tactic.Helpers.html#768" class="Bound">l</a><a id="798" class="Symbol">)</a> <a id="800" href="Tactic.Helpers.html#768" class="Bound">l</a>

<a id="803" class="Keyword">record</a> <a id="DataDef"></a><a id="810" href="Tactic.Helpers.html#810" class="Record">DataDef</a> <a id="818" class="Symbol">:</a> <a id="820" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="824" class="Keyword">where</a>
  <a id="832" class="Keyword">field</a>
    <a id="DataDef.name"></a><a id="842" href="Tactic.Helpers.html#842" class="Field">name</a> <a id="847" class="Symbol">:</a> <a id="849" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a>
    <a id="DataDef.constructors"></a><a id="858" href="Tactic.Helpers.html#858" class="Field">constructors</a> <a id="871" class="Symbol">:</a> <a id="873" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="878" class="Symbol">(</a><a id="879" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="884" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="886" href="Generics.Utils.html#2505" class="Function">TypeView</a><a id="894" class="Symbol">)</a>
    <a id="DataDef.params"></a><a id="900" href="Tactic.Helpers.html#900" class="Field">params</a> <a id="907" class="Symbol">:</a> <a id="909" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="914" class="Symbol">(</a><a id="915" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="919" class="Symbol">(</a><a id="920" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="924" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="928" class="Symbol">))</a>
    <a id="DataDef.indices"></a><a id="935" href="Tactic.Helpers.html#935" class="Field">indices</a> <a id="943" class="Symbol">:</a> <a id="945" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="950" class="Symbol">(</a><a id="951" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="955" class="Symbol">(</a><a id="956" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="960" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="964" class="Symbol">))</a>

<a id="968" class="Keyword">record</a> <a id="RecordDef"></a><a id="975" href="Tactic.Helpers.html#975" class="Record">RecordDef</a> <a id="985" class="Symbol">:</a> <a id="987" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="991" class="Keyword">where</a>
  <a id="999" class="Keyword">field</a>
    <a id="RecordDef.name"></a><a id="1009" href="Tactic.Helpers.html#1009" class="Field">name</a> <a id="1014" class="Symbol">:</a> <a id="1016" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a>
    <a id="RecordDef.fields"></a><a id="1025" href="Tactic.Helpers.html#1025" class="Field">fields</a> <a id="1032" class="Symbol">:</a> <a id="1034" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1039" class="Symbol">(</a><a id="1040" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1044" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a><a id="1048" class="Symbol">)</a>
    <a id="RecordDef.params"></a><a id="1054" href="Tactic.Helpers.html#1054" class="Field">params</a> <a id="1061" class="Symbol">:</a> <a id="1063" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1068" class="Symbol">(</a><a id="1069" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="1073" class="Symbol">(</a><a id="1074" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1078" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="1082" class="Symbol">))</a>

<a id="1086" class="Keyword">module</a> <a id="1093" href="Tactic.Helpers.html#1093" class="Module">_</a> <a id="1095" class="Symbol">{</a><a id="1096" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="1098" class="Symbol">:</a> <a id="1100" class="Symbol">∀</a> <a id="1102" class="Symbol">{</a><a id="1103" href="Tactic.Helpers.html#1103" class="Bound">a</a><a id="1104" class="Symbol">}</a> <a id="1106" class="Symbol">→</a> <a id="1108" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1112" href="Tactic.Helpers.html#1103" class="Bound">a</a> <a id="1114" class="Symbol">→</a> <a id="1116" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1120" href="Tactic.Helpers.html#1103" class="Bound">a</a><a id="1121" class="Symbol">}</a> <a id="1123" class="Symbol">⦃</a> <a id="1125" href="Tactic.Helpers.html#1125" class="Bound">_</a> <a id="1127" class="Symbol">:</a> <a id="1129" href="Class.Monad.Core.html#203" class="Record">Monad</a> <a id="1135" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="1137" class="Symbol">⦄</a> <a id="1139" class="Symbol">⦃</a> <a id="1141" href="Tactic.Helpers.html#1141" class="Bound">me</a> <a id="1144" class="Symbol">:</a> <a id="1146" href="Class.MonadError.html#263" class="Record">MonadError</a> <a id="1157" class="Symbol">(</a><a id="1158" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1163" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="1172" class="Symbol">)</a> <a id="1174" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="1176" class="Symbol">⦄</a> <a id="1178" class="Symbol">⦃</a> <a id="1180" href="Tactic.Helpers.html#1180" class="Bound">mre</a> <a id="1184" class="Symbol">:</a> <a id="1186" href="Class.MonadReader.html#228" class="Record">MonadReader</a> <a id="1198" href="Class.MonadTC.html#819" class="Record">TCEnv</a> <a id="1204" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="1206" class="Symbol">⦄</a> <a id="1208" class="Symbol">⦃</a> <a id="1210" href="Tactic.Helpers.html#1210" class="Bound">_</a> <a id="1212" class="Symbol">:</a> <a id="1214" href="Class.MonadTC.html#1520" class="Record">MonadTC</a> <a id="1222" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="1224" class="Symbol">⦄</a> <a id="1226" class="Keyword">where</a>

  <a id="1235" class="Keyword">instance</a> <a id="1244" href="Tactic.Helpers.html#1244" class="Function">_</a> <a id="1246" class="Symbol">=</a> <a id="1248" href="Class.Monad.Core.html#655" class="Function">Functor-M</a>

  <a id="1261" href="Tactic.Helpers.html#1261" class="Function">logTelescope</a> <a id="1274" class="Symbol">:</a> <a id="1276" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1281" class="Symbol">(</a><a id="1282" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1288" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="1295" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1297" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1301" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="1305" class="Symbol">)</a> <a id="1307" class="Symbol">→</a> <a id="1309" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="1311" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="1315" href="Tactic.Helpers.html#1261" class="Function">logTelescope</a> <a id="1328" href="Tactic.Helpers.html#1328" class="Bound">l</a> <a id="1330" class="Symbol">=</a> <a id="1332" href="Class.MonadTC.html#6390" class="Function">withAppendDebugPath</a> <a id="1352" class="String">&quot;context&quot;</a> <a id="1362" class="Keyword">do</a>
    <a id="1369" href="Class.MonadError.html#359" class="Field">catch</a> <a id="1375" class="Symbol">(</a><a id="1376" href="Tactic.Helpers.html#1467" class="Function">helper</a> <a id="1383" class="Symbol">(</a><a id="1384" href="Data.List.Base.html#4873" class="Function">length</a> <a id="1391" href="Tactic.Helpers.html#1328" class="Bound">l</a><a id="1392" class="Symbol">)</a> <a id="1394" href="Tactic.Helpers.html#1328" class="Bound">l</a><a id="1395" class="Symbol">)</a> <a id="1397" class="Symbol">(λ</a> <a id="1400" href="Tactic.Helpers.html#1400" class="Bound">_</a> <a id="1402" class="Symbol">→</a> <a id="1404" href="Class.MonadTC.html#8788" class="Function">debugLog1</a> <a id="1414" class="String">&quot;Error while printing the context!&quot;</a><a id="1449" class="Symbol">)</a>
    <a id="1455" class="Keyword">where</a>
      <a id="1467" href="Tactic.Helpers.html#1467" class="Function">helper</a> <a id="1474" class="Symbol">:</a> <a id="1476" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1478" class="Symbol">→</a> <a id="1480" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1485" class="Symbol">(</a><a id="1486" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1492" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="1499" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1501" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1505" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="1509" class="Symbol">)</a> <a id="1511" class="Symbol">→</a> <a id="1513" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="1515" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
      <a id="1523" href="Tactic.Helpers.html#1467" class="Function">helper</a> <a id="1530" href="Tactic.Helpers.html#1530" class="Bound">n</a> <a id="1532" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1535" class="Symbol">=</a> <a id="1537" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="1544" class="Symbol">_</a>
      <a id="1552" href="Tactic.Helpers.html#1467" class="Function">helper</a> <a id="1559" href="Tactic.Helpers.html#1559" class="Bound">n</a> <a id="1561" class="Symbol">((</a><a id="1563" href="Tactic.Helpers.html#1563" class="Bound">x</a> <a id="1565" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1567" href="Tactic.Helpers.html#1567" class="Bound">ty</a><a id="1569" class="Symbol">@(</a><a id="1571" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="1575" class="Symbol">_</a> <a id="1577" href="Tactic.Helpers.html#1577" class="Bound">t</a><a id="1578" class="Symbol">))</a> <a id="1581" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1583" href="Tactic.Helpers.html#1583" class="Bound">l</a><a id="1584" class="Symbol">)</a> <a id="1586" class="Symbol">=</a> <a id="1588" class="Keyword">do</a>
        <a id="1599" class="Keyword">let</a> <a id="1603" href="Tactic.Helpers.html#1603" class="Bound">name</a> <a id="1608" class="Symbol">=</a> <a id="1610" href="Function.Base.html#4130" class="Function Operator">case</a> <a id="1615" href="Tactic.Helpers.html#1563" class="Bound">x</a> <a id="1617" href="Function.Base.html#4130" class="Function Operator">of</a> <a id="1620" class="Symbol">λ</a> <a id="1622" class="Keyword">where</a>
          <a id="1638" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>   <a id="1648" class="Symbol">→</a> <a id="1650" class="String">&quot;?&quot;</a>
          <a id="1664" class="Symbol">(</a><a id="1665" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1670" class="String">&quot;&quot;</a><a id="1672" class="Symbol">)</a> <a id="1674" class="Symbol">→</a> <a id="1676" class="String">&quot;_&quot;</a>
          <a id="1690" class="Symbol">(</a><a id="1691" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1696" href="Tactic.Helpers.html#1696" class="Bound">x</a><a id="1697" class="Symbol">)</a>  <a id="1700" class="Symbol">→</a> <a id="1702" href="Tactic.Helpers.html#1696" class="Bound">x</a>
        <a id="1712" href="Class.MonadTC.html#5721" class="Function">debugLog</a> <a id="1721" class="Symbol">(</a><a id="1722" class="String">&quot;  &quot;</a> <a id="1727" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="1730" href="Tactic.Helpers.html#1603" class="Bound">name</a> <a id="1735" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="1738" class="String">&quot; : &quot;</a>  <a id="1745" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="1748" href="Generics.Utils.html#5684" class="Function">mapVars</a> <a id="1756" class="Symbol">(</a><a id="1757" href="Data.Nat.Base.html#2883" class="Primitive Operator">_∸</a> <a id="1760" class="Symbol">(</a><a id="1761" href="Tactic.Helpers.html#1559" class="Bound">n</a> <a id="1763" href="Data.Nat.Base.html#2883" class="Primitive Operator">∸</a> <a id="1765" class="Symbol">(</a><a id="1766" class="Number">1</a> <a id="1768" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1770" href="Data.List.Base.html#4873" class="Function">length</a> <a id="1777" href="Tactic.Helpers.html#1583" class="Bound">l</a><a id="1778" class="Symbol">)))</a> <a id="1782" href="Tactic.Helpers.html#1577" class="Bound">t</a> <a id="1784" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="1787" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="1789" class="Symbol">)</a>
        <a id="1799" href="Class.MonadTC.html#7874" class="Function">extendContext</a> <a id="1813" class="Symbol">(</a><a id="1814" href="Tactic.Helpers.html#1603" class="Bound">name</a> <a id="1819" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1821" href="Tactic.Helpers.html#1567" class="Bound">ty</a><a id="1823" class="Symbol">)</a> <a id="1825" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1827" href="Tactic.Helpers.html#1467" class="Function">helper</a> <a id="1834" href="Tactic.Helpers.html#1559" class="Bound">n</a> <a id="1836" href="Tactic.Helpers.html#1583" class="Bound">l</a>

  <a id="1841" href="Tactic.Helpers.html#1841" class="Function">logContext</a> <a id="1852" class="Symbol">:</a> <a id="1854" href="Reflection.Term.html#1580" class="Function">Telescope</a> <a id="1864" class="Symbol">→</a> <a id="1866" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="1868" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="1872" href="Tactic.Helpers.html#1841" class="Function">logContext</a> <a id="1883" href="Tactic.Helpers.html#1883" class="Bound">l</a> <a id="1885" class="Symbol">=</a> <a id="1887" href="Class.MonadTC.html#6390" class="Function">withAppendDebugPath</a> <a id="1907" class="String">&quot;context&quot;</a> <a id="1917" class="Keyword">do</a>
    <a id="1924" href="Class.MonadTC.html#8788" class="Function">debugLog1</a> <a id="1934" class="String">&quot;Context:&quot;</a>
    <a id="1949" href="Class.MonadError.html#359" class="Field">catch</a> <a id="1955" class="Symbol">(</a><a id="1956" href="Tactic.Helpers.html#2297" class="Function">helper</a> <a id="1963" class="Symbol">(</a><a id="1964" href="Data.List.Base.html#4873" class="Function">length</a> <a id="1971" href="Tactic.Helpers.html#1883" class="Bound">l</a><a id="1972" class="Symbol">)</a> <a id="1974" href="Tactic.Helpers.html#1883" class="Bound">l</a><a id="1975" class="Symbol">)</a> <a id="1977" class="Symbol">(λ</a> <a id="1980" href="Tactic.Helpers.html#1980" class="Bound">_</a> <a id="1982" class="Symbol">→</a> <a id="1984" href="Class.MonadTC.html#8788" class="Function">debugLog1</a> <a id="1994" class="String">&quot;Error while printing the context!&quot;</a><a id="2029" class="Symbol">)</a>
    <a id="2035" href="Class.MonadError.html#359" class="Field">catch</a> <a id="2041" class="Symbol">(</a><a id="2042" class="Keyword">do</a>
      <a id="2051" href="Tactic.Helpers.html#2051" class="Bound">goalTy</a> <a id="2058" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2060" href="Class.MonadTC.html#9098" class="Function">goalTy</a>
      <a id="2073" href="Class.MonadTC.html#5721" class="Function">debugLog</a> <a id="2082" class="Symbol">(</a><a id="2083" class="String">&quot;  ⊢ &quot;</a> <a id="2090" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="2093" href="Tactic.Helpers.html#2051" class="Bound">goalTy</a> <a id="2100" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="2103" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2105" class="Symbol">))</a>
      <a id="2114" class="Symbol">λ</a> <a id="2116" href="Tactic.Helpers.html#2116" class="Bound">_</a> <a id="2118" class="Symbol">→</a> <a id="2120" class="Keyword">do</a>
        <a id="2131" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="2136" href="Tactic.Helpers.html#2136" class="Bound">t</a> <a id="2138" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="2140" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="2147" href="Class.MonadTC.html#1027" class="Field">TCEnv.goal</a>
          <a id="2168" class="Keyword">where</a> <a id="2174" class="CatchallClause Symbol">_</a> <a id="2176" class="Symbol">→</a> <a id="2178" href="Class.MonadTC.html#8719" class="Function">error1</a> <a id="2185" class="String">&quot;Bug in logContext!&quot;</a>
        <a id="2214" href="Class.MonadTC.html#5721" class="Function">debugLog</a> <a id="2223" class="Symbol">(</a><a id="2224" class="String">&quot;Error while infering the goal type! Goal: &quot;</a> <a id="2269" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="2272" href="Tactic.Helpers.html#2136" class="Bound">t</a> <a id="2274" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="2277" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2279" class="Symbol">)</a>
    <a id="2285" class="Keyword">where</a>
      <a id="2297" href="Tactic.Helpers.html#2297" class="Function">helper</a> <a id="2304" class="Symbol">:</a> <a id="2306" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2308" class="Symbol">→</a> <a id="2310" href="Reflection.Term.html#1580" class="Function">Telescope</a> <a id="2320" class="Symbol">→</a> <a id="2322" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="2324" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
      <a id="2332" href="Tactic.Helpers.html#2297" class="Function">helper</a> <a id="2339" href="Tactic.Helpers.html#2339" class="Bound">n</a> <a id="2341" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="2344" class="Symbol">=</a> <a id="2346" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2353" class="Symbol">_</a>
      <a id="2361" href="Tactic.Helpers.html#2297" class="Function">helper</a> <a id="2368" href="Tactic.Helpers.html#2368" class="Bound">n</a> <a id="2370" class="Symbol">((_</a> <a id="2374" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2376" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="2380" class="Symbol">_</a> <a id="2382" href="Tactic.Helpers.html#2382" class="Bound">t</a><a id="2383" class="Symbol">)</a> <a id="2385" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2387" href="Tactic.Helpers.html#2387" class="Bound">l</a><a id="2388" class="Symbol">)</a> <a id="2390" class="Symbol">=</a> <a id="2392" class="Keyword">do</a>
        <a id="2403" href="Tactic.Helpers.html#2297" class="Function">helper</a> <a id="2410" href="Tactic.Helpers.html#2368" class="Bound">n</a> <a id="2412" href="Tactic.Helpers.html#2387" class="Bound">l</a>
        <a id="2422" href="Class.MonadTC.html#5721" class="Function">debugLog</a> <a id="2431" class="Symbol">(</a><a id="2432" class="String">&quot;  &quot;</a> <a id="2437" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="2440" href="Generics.Core.html#372" class="InductiveConstructor">♯</a> <a id="2442" class="Symbol">(</a><a id="2443" href="Tactic.Helpers.html#2368" class="Bound">n</a> <a id="2445" href="Data.Nat.Base.html#2883" class="Primitive Operator">∸</a> <a id="2447" class="Symbol">(</a><a id="2448" href="Data.List.Base.html#4873" class="Function">length</a> <a id="2455" href="Tactic.Helpers.html#2387" class="Bound">l</a> <a id="2457" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2459" class="Number">1</a><a id="2460" class="Symbol">))</a> <a id="2463" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="2466" class="String">&quot; : &quot;</a> <a id="2472" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="2475" href="Generics.Utils.html#5684" class="Function">mapVars</a> <a id="2483" class="Symbol">(</a><a id="2484" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">_+</a> <a id="2487" class="Symbol">(</a><a id="2488" href="Tactic.Helpers.html#2368" class="Bound">n</a> <a id="2490" href="Data.Nat.Base.html#2883" class="Primitive Operator">∸</a> <a id="2492" href="Data.List.Base.html#4873" class="Function">length</a> <a id="2499" href="Tactic.Helpers.html#2387" class="Bound">l</a><a id="2500" class="Symbol">))</a> <a id="2503" href="Tactic.Helpers.html#2382" class="Bound">t</a> <a id="2505" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="2508" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2510" class="Symbol">)</a>

  <a id="2515" href="Tactic.Helpers.html#2515" class="Function">logCurrentContext</a> <a id="2533" class="Symbol">:</a> <a id="2535" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="2537" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="2541" href="Tactic.Helpers.html#2515" class="Function">logCurrentContext</a> <a id="2559" class="Symbol">=</a> <a id="2561" href="Class.MonadTC.html#8955" class="Function">markDontFail</a> <a id="2574" class="String">&quot;logCurrentContext&quot;</a> <a id="2594" class="Symbol">(</a><a id="2595" href="Tactic.Helpers.html#1841" class="Function">logContext</a> <a id="2606" href="Class.Monad.Core.html#424" class="Function Operator">=&lt;&lt;</a> <a id="2610" href="Class.MonadTC.html#8025" class="Function">getContext</a><a id="2620" class="Symbol">)</a>

  <a id="2625" href="Tactic.Helpers.html#2625" class="Function">inDebugPath</a> <a id="2637" class="Symbol">:</a> <a id="2639" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="2646" class="Symbol">→</a> <a id="2648" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="2650" href="Tactic.Helpers.html#676" class="Generalizable">A</a> <a id="2652" class="Symbol">→</a> <a id="2654" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="2656" href="Tactic.Helpers.html#676" class="Generalizable">A</a>
  <a id="2660" href="Tactic.Helpers.html#2625" class="Function">inDebugPath</a> <a id="2672" href="Tactic.Helpers.html#2672" class="Bound">path</a> <a id="2677" href="Tactic.Helpers.html#2677" class="Bound">x</a> <a id="2679" class="Symbol">=</a> <a id="2681" href="Class.MonadTC.html#6390" class="Function">withAppendDebugPath</a> <a id="2701" href="Tactic.Helpers.html#2672" class="Bound">path</a> <a id="2706" class="Keyword">do</a>
    <a id="2713" href="Class.MonadTC.html#5721" class="Function">debugLog</a> <a id="2722" class="Symbol">((</a><a id="2724" class="String">&quot;*****&quot;</a> <a id="2732" href="Data.String.Base.html#3008" class="Function Operator">&lt;+&gt;</a> <a id="2736" href="Tactic.Helpers.html#2672" class="Bound">path</a> <a id="2741" href="Data.String.Base.html#3008" class="Function Operator">&lt;+&gt;</a> <a id="2745" class="String">&quot;*****&quot;</a><a id="2752" class="Symbol">)</a> <a id="2754" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="2757" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2759" class="Symbol">)</a>
    <a id="2765" href="Tactic.Helpers.html#2515" class="Function">logCurrentContext</a>
    <a id="2787" href="Tactic.Helpers.html#2677" class="Bound">x</a>

  <a id="2792" href="Tactic.Helpers.html#2792" class="Function">viewAndReduceTy</a> <a id="2808" class="Symbol">:</a> <a id="2810" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="2815" class="Symbol">→</a> <a id="2817" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="2819" href="Generics.Utils.html#2505" class="Function">TypeView</a>
  <a id="2830" href="Tactic.Helpers.html#2792" class="Function">viewAndReduceTy</a> <a id="2846" href="Tactic.Helpers.html#2846" class="Bound">ty</a> <a id="2849" class="Symbol">=</a> <a id="2851" href="Tactic.Helpers.html#2924" class="Function">helper</a> <a id="2858" href="Tactic.Helpers.html#2846" class="Bound">ty</a> <a id="2861" href="Class.Monad.Core.html#424" class="Function Operator">=&lt;&lt;</a> <a id="2865" class="Symbol">(</a><a id="2866" href="Data.List.Base.html#4873" class="Function">length</a> <a id="2873" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2875" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="2881" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2883" href="Generics.Utils.html#2546" class="Function">viewTy</a><a id="2889" class="Symbol">)</a> <a id="2891" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="2895" href="Class.MonadTC.html#1834" class="Field">normalise</a> <a id="2905" href="Tactic.Helpers.html#2846" class="Bound">ty</a>
    <a id="2912" class="Keyword">where</a>
      <a id="2924" href="Tactic.Helpers.html#2924" class="Function">helper</a> <a id="2931" class="Symbol">:</a> <a id="2933" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="2938" class="Symbol">→</a> <a id="2940" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2942" class="Symbol">→</a> <a id="2944" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="2946" href="Generics.Utils.html#2505" class="Function">TypeView</a>
      <a id="2961" href="Tactic.Helpers.html#2924" class="Function">helper</a> <a id="2968" href="Tactic.Helpers.html#2968" class="Bound">ty</a>    <a id="2974" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="2979" class="Symbol">=</a> <a id="2981" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="2988" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2990" href="Generics.Utils.html#2546" class="Function">viewTy</a> <a id="2997" href="Tactic.Helpers.html#2968" class="Bound">ty</a>
      <a id="3006" href="Tactic.Helpers.html#2924" class="Function">helper</a> <a id="3013" href="Tactic.Helpers.html#3013" class="Bound">ty</a> <a id="3016" class="Symbol">(</a><a id="3017" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3021" href="Tactic.Helpers.html#3021" class="Bound">k</a><a id="3022" class="Symbol">)</a> <a id="3024" class="Keyword">with</a> <a id="3029" href="Generics.Utils.html#2546" class="Function">viewTy</a> <a id="3036" href="Tactic.Helpers.html#3013" class="Bound">ty</a>
      <a id="3045" class="Symbol">...</a> <a id="3049" class="Symbol">|</a> <a id="3051" class="Symbol">(</a><a id="3052" href="Tactic.Helpers.html#3052" class="Bound">tel</a> <a id="3056" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3058" href="Tactic.Helpers.html#3058" class="Bound">ty&#39;</a><a id="3061" class="Symbol">)</a> <a id="3063" class="Symbol">=</a> <a id="3065" href="Class.MonadTC.html#8401" class="Function">extendContext&#39;</a> <a id="3080" class="Symbol">(</a><a id="3081" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3085" class="Symbol">(λ</a> <a id="3088" class="Keyword">where</a> <a id="3094" class="Symbol">(</a><a id="3095" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="3099" href="Tactic.Helpers.html#3099" class="Bound">s</a> <a id="3101" href="Tactic.Helpers.html#3101" class="Bound">t</a><a id="3102" class="Symbol">)</a> <a id="3104" class="Symbol">→</a> <a id="3106" href="Tactic.Helpers.html#3099" class="Bound">s</a> <a id="3108" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3110" href="Tactic.Helpers.html#3101" class="Bound">t</a><a id="3111" class="Symbol">)</a> <a id="3113" href="Tactic.Helpers.html#3052" class="Bound">tel</a><a id="3116" class="Symbol">)</a> <a id="3118" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3120" class="Keyword">do</a>
        <a id="3131" href="Tactic.Helpers.html#3131" class="Bound">rTy</a> <a id="3135" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="3137" href="Class.MonadTC.html#1871" class="Field">reduce</a> <a id="3144" href="Tactic.Helpers.html#3058" class="Bound">ty&#39;</a>
        <a id="3156" class="Symbol">(</a><a id="3157" href="Tactic.Helpers.html#3157" class="Bound">tel&#39;</a> <a id="3162" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3164" href="Tactic.Helpers.html#3164" class="Bound">rTy&#39;</a><a id="3168" class="Symbol">)</a> <a id="3170" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="3172" href="Tactic.Helpers.html#2924" class="Function">helper</a> <a id="3179" href="Tactic.Helpers.html#3131" class="Bound">rTy</a> <a id="3183" class="Bound">k</a>
        <a id="3193" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3200" class="Symbol">(</a><a id="3201" href="Tactic.Helpers.html#3052" class="Bound">tel</a> <a id="3205" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="3208" href="Tactic.Helpers.html#3157" class="Bound">tel&#39;</a> <a id="3213" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3215" href="Tactic.Helpers.html#3164" class="Bound">rTy&#39;</a><a id="3219" class="Symbol">)</a>

  <a id="3224" href="Tactic.Helpers.html#3224" class="Function">getType&#39;</a> <a id="3233" class="Symbol">:</a> <a id="3235" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3240" class="Symbol">→</a> <a id="3242" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="3244" href="Generics.Utils.html#2505" class="Function">TypeView</a>
  <a id="3255" href="Tactic.Helpers.html#3224" class="Function">getType&#39;</a> <a id="3264" href="Tactic.Helpers.html#3264" class="Bound">n</a> <a id="3266" class="Symbol">=</a> <a id="3268" href="Tactic.Helpers.html#2792" class="Function">viewAndReduceTy</a> <a id="3284" href="Class.Monad.Core.html#424" class="Function Operator">=&lt;&lt;</a> <a id="3288" href="Class.MonadTC.html#2202" class="Field">getType</a> <a id="3296" href="Tactic.Helpers.html#3264" class="Bound">n</a>

  <a id="3301" href="Tactic.Helpers.html#3301" class="Function">getDataDef</a> <a id="3312" class="Symbol">:</a> <a id="3314" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3319" class="Symbol">→</a> <a id="3321" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="3323" href="Tactic.Helpers.html#810" class="Record">DataDef</a>
  <a id="3333" href="Tactic.Helpers.html#3301" class="Function">getDataDef</a> <a id="3344" href="Tactic.Helpers.html#3344" class="Bound">n</a> <a id="3346" class="Symbol">=</a> <a id="3348" href="Tactic.Helpers.html#2625" class="Function">inDebugPath</a> <a id="3360" class="String">&quot;getDataDef&quot;</a> <a id="3373" class="Keyword">do</a>
    <a id="3380" href="Class.MonadTC.html#5721" class="Function">debugLog</a> <a id="3389" class="Symbol">(</a><a id="3390" class="String">&quot;Find details for datatype: &quot;</a> <a id="3420" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="3423" href="Tactic.Helpers.html#3344" class="Bound">n</a> <a id="3425" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="3428" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="3430" class="Symbol">)</a>
    <a id="3436" class="Symbol">(</a><a id="3437" href="Agda.Builtin.Reflection.html#7235" class="InductiveConstructor">data-type</a> <a id="3447" href="Tactic.Helpers.html#3447" class="Bound">pars</a> <a id="3452" href="Tactic.Helpers.html#3452" class="Bound">cs</a><a id="3454" class="Symbol">)</a> <a id="3456" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="3458" href="Class.MonadTC.html#2239" class="Field">getDefinition</a> <a id="3472" href="Tactic.Helpers.html#3344" class="Bound">n</a>
      <a id="3480" class="Keyword">where</a> <a id="3486" class="CatchallClause Symbol">_</a> <a id="3488" class="Symbol">→</a> <a id="3490" href="Class.MonadTC.html#8719" class="Function">error1</a> <a id="3497" class="String">&quot;Not a data definition!&quot;</a>
    <a id="3526" href="Class.MonadTC.html#6031" class="Function">debugLogᵐ</a> <a id="3536" class="Symbol">(</a><a id="3537" class="String">&quot;Constructor names: &quot;</a> <a id="3559" href="Class.MonadTC.html#5279" class="Function Operator">∷ᵈᵐ</a> <a id="3563" href="Tactic.Helpers.html#3452" class="Bound">cs</a> <a id="3566" href="Class.MonadTC.html#5421" class="Function Operator">ᵛ</a> <a id="3568" href="Class.MonadTC.html#5279" class="Function Operator">∷ᵈᵐ</a> <a id="3572" href="Class.MonadTC.html#5216" class="Function">[]ᵐ</a><a id="3575" class="Symbol">)</a>
    <a id="3581" href="Tactic.Helpers.html#3581" class="Bound">cs&#39;</a> <a id="3585" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="3587" href="Class.Traversable.Core.html#456" class="Function">traverse</a> <a id="3596" class="Symbol">(λ</a> <a id="3599" href="Tactic.Helpers.html#3599" class="Bound">n</a> <a id="3601" class="Symbol">→</a> <a id="3603" class="Symbol">(</a><a id="3604" href="Tactic.Helpers.html#3599" class="Bound">n</a> <a id="3606" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,_</a><a id="3608" class="Symbol">)</a> <a id="3610" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="3614" href="Tactic.Helpers.html#3224" class="Function">getType&#39;</a> <a id="3623" href="Tactic.Helpers.html#3599" class="Bound">n</a><a id="3624" class="Symbol">)</a> <a id="3626" href="Tactic.Helpers.html#3452" class="Bound">cs</a>
    <a id="3633" href="Class.MonadTC.html#6031" class="Function">debugLogᵐ</a> <a id="3643" class="Symbol">(</a><a id="3644" class="String">&quot;Result: &quot;</a> <a id="3655" href="Class.MonadTC.html#5279" class="Function Operator">∷ᵈᵐ</a> <a id="3659" href="Tactic.Helpers.html#3581" class="Bound">cs&#39;</a> <a id="3663" href="Class.MonadTC.html#5496" class="Function Operator">ᵛⁿ</a> <a id="3666" href="Class.MonadTC.html#5279" class="Function Operator">∷ᵈᵐ</a> <a id="3670" href="Class.MonadTC.html#5216" class="Function">[]ᵐ</a><a id="3673" class="Symbol">)</a>
    <a id="3679" href="Tactic.Helpers.html#3679" class="Bound">args</a> <a id="3684" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="3686" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3692" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="3696" href="Tactic.Helpers.html#3224" class="Function">getType&#39;</a> <a id="3705" href="Tactic.Helpers.html#3344" class="Bound">n</a>
    <a id="3711" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="3718" class="Keyword">record</a> <a id="3725" class="Symbol">{</a> <a id="3727" href="Tactic.Helpers.html#842" class="Field">name</a> <a id="3732" class="Symbol">=</a> <a id="3734" href="Tactic.Helpers.html#3344" class="Bound">n</a> <a id="3736" class="Symbol">;</a> <a id="3738" href="Tactic.Helpers.html#858" class="Field">constructors</a> <a id="3751" class="Symbol">=</a> <a id="3753" href="Tactic.Helpers.html#3581" class="Bound">cs&#39;</a> <a id="3757" class="Symbol">;</a> <a id="3759" href="Tactic.Helpers.html#900" class="Field">params</a> <a id="3766" class="Symbol">=</a> <a id="3768" href="Data.List.Base.html#7316" class="Function">take</a> <a id="3773" href="Tactic.Helpers.html#3447" class="Bound">pars</a> <a id="3778" href="Tactic.Helpers.html#3679" class="Bound">args</a> <a id="3783" class="Symbol">;</a> <a id="3785" href="Tactic.Helpers.html#935" class="Field">indices</a> <a id="3793" class="Symbol">=</a> <a id="3795" href="Data.List.Base.html#7436" class="Function">drop</a> <a id="3800" href="Tactic.Helpers.html#3447" class="Bound">pars</a> <a id="3805" href="Tactic.Helpers.html#3679" class="Bound">args</a> <a id="3810" class="Symbol">}</a>

  <a id="3815" href="Tactic.Helpers.html#3815" class="Function">getRecordDef</a> <a id="3828" class="Symbol">:</a> <a id="3830" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3835" class="Symbol">→</a> <a id="3837" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="3839" href="Tactic.Helpers.html#975" class="Record">RecordDef</a>
  <a id="3851" href="Tactic.Helpers.html#3815" class="Function">getRecordDef</a> <a id="3864" href="Tactic.Helpers.html#3864" class="Bound">n</a> <a id="3866" class="Symbol">=</a> <a id="3868" class="Keyword">do</a>
    <a id="3875" class="Symbol">(</a><a id="3876" href="Agda.Builtin.Reflection.html#7294" class="InductiveConstructor">record-type</a> <a id="3888" href="Tactic.Helpers.html#3888" class="Bound">c</a> <a id="3890" href="Tactic.Helpers.html#3890" class="Bound">fs</a><a id="3892" class="Symbol">)</a> <a id="3894" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="3896" href="Class.MonadTC.html#2239" class="Field">getDefinition</a> <a id="3910" href="Tactic.Helpers.html#3864" class="Bound">n</a>
      <a id="3918" class="Keyword">where</a> <a id="3924" class="CatchallClause Symbol">_</a> <a id="3926" class="Symbol">→</a> <a id="3928" href="Class.MonadTC.html#8719" class="Function">error1</a> <a id="3935" class="String">&quot;Not a record definition!&quot;</a>
    <a id="3966" href="Tactic.Helpers.html#3966" class="Bound">args</a> <a id="3971" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="3973" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3979" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="3983" href="Tactic.Helpers.html#3224" class="Function">getType&#39;</a> <a id="3992" href="Tactic.Helpers.html#3864" class="Bound">n</a>
    <a id="3998" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="4005" class="Symbol">(</a><a id="4006" class="Keyword">record</a> <a id="4013" class="Symbol">{</a> <a id="4015" href="Tactic.Helpers.html#1009" class="Field">name</a> <a id="4020" class="Symbol">=</a> <a id="4022" href="Tactic.Helpers.html#3888" class="Bound">c</a> <a id="4024" class="Symbol">;</a> <a id="4026" href="Tactic.Helpers.html#1025" class="Field">fields</a> <a id="4033" class="Symbol">=</a> <a id="4035" href="Tactic.Helpers.html#3890" class="Bound">fs</a> <a id="4038" class="Symbol">;</a> <a id="4040" href="Tactic.Helpers.html#1054" class="Field">params</a> <a id="4047" class="Symbol">=</a> <a id="4049" href="Tactic.Helpers.html#3966" class="Bound">args</a> <a id="4054" class="Symbol">})</a>

  <a id="4060" href="Tactic.Helpers.html#4060" class="Function">getDataOrRecordDef</a> <a id="4079" class="Symbol">:</a> <a id="4081" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="4086" class="Symbol">→</a> <a id="4088" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="4090" class="Symbol">(</a><a id="4091" href="Tactic.Helpers.html#810" class="Record">DataDef</a> <a id="4099" href="Data.Sum.Base.html#743" class="Datatype Operator">⊎</a> <a id="4101" href="Tactic.Helpers.html#975" class="Record">RecordDef</a><a id="4110" class="Symbol">)</a>
  <a id="4114" href="Tactic.Helpers.html#4060" class="Function">getDataOrRecordDef</a> <a id="4133" href="Tactic.Helpers.html#4133" class="Bound">n</a> <a id="4135" class="Symbol">=</a>
    <a id="4141" href="Class.MonadError.html#359" class="Field">catch</a> <a id="4147" class="Symbol">(</a><a id="4148" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="4153" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="4157" href="Tactic.Helpers.html#3301" class="Function">getDataDef</a> <a id="4168" href="Tactic.Helpers.html#4133" class="Bound">n</a><a id="4169" class="Symbol">)</a>
      <a id="4177" class="Symbol">λ</a> <a id="4179" href="Tactic.Helpers.html#4179" class="Bound">_</a> <a id="4181" class="Symbol">→</a> <a id="4183" href="Class.MonadError.html#359" class="Field">catch</a> <a id="4189" class="Symbol">(</a><a id="4190" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="4195" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="4199" href="Tactic.Helpers.html#3815" class="Function">getRecordDef</a> <a id="4212" href="Tactic.Helpers.html#4133" class="Bound">n</a><a id="4213" class="Symbol">)</a>
      <a id="4221" class="Symbol">λ</a> <a id="4223" href="Tactic.Helpers.html#4223" class="Bound">_</a> <a id="4225" class="Symbol">→</a> <a id="4227" href="Class.MonadTC.html#8719" class="Function">error1</a> <a id="4234" class="String">&quot;Neither a data not a record definition!&quot;</a>

  <a id="4279" href="Tactic.Helpers.html#4279" class="Function">getParams</a> <a id="4289" class="Symbol">:</a> <a id="4291" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="4296" class="Symbol">→</a> <a id="4298" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="4300" class="Symbol">(</a><a id="4301" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4306" class="Symbol">(</a><a id="4307" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="4311" class="Symbol">(</a><a id="4312" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="4316" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="4320" class="Symbol">)))</a>
  <a id="4326" href="Tactic.Helpers.html#4279" class="Function">getParams</a> <a id="4336" href="Tactic.Helpers.html#4336" class="Bound">n</a> <a id="4338" class="Symbol">=</a> <a id="4340" href="Data.Sum.Base.html#929" class="Function Operator">Data.Sum.[</a> <a id="4351" href="Tactic.Helpers.html#900" class="Field">DataDef.params</a> <a id="4366" href="Data.Sum.Base.html#929" class="Function Operator">,</a> <a id="4368" href="Tactic.Helpers.html#1054" class="Field">RecordDef.params</a> <a id="4385" href="Data.Sum.Base.html#929" class="Function Operator">]</a> <a id="4387" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="4391" href="Tactic.Helpers.html#4060" class="Function">getDataOrRecordDef</a> <a id="4410" href="Tactic.Helpers.html#4336" class="Bound">n</a>

  <a id="4415" href="Tactic.Helpers.html#4415" class="Function">getParamsAndIndices</a> <a id="4435" class="Symbol">:</a> <a id="4437" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="4442" class="Symbol">→</a> <a id="4444" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="4446" class="Symbol">(</a><a id="4447" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4452" class="Symbol">(</a><a id="4453" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="4457" class="Symbol">(</a><a id="4458" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="4462" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="4466" class="Symbol">)))</a>
  <a id="4472" href="Tactic.Helpers.html#4415" class="Function">getParamsAndIndices</a> <a id="4492" href="Tactic.Helpers.html#4492" class="Bound">n</a> <a id="4494" class="Symbol">=</a>
    <a id="4500" href="Data.Sum.Base.html#929" class="Function Operator">Data.Sum.[</a> <a id="4511" class="Symbol">(λ</a> <a id="4514" href="Tactic.Helpers.html#4514" class="Bound">d</a> <a id="4516" class="Symbol">→</a> <a id="4518" href="Tactic.Helpers.html#900" class="Field">DataDef.params</a> <a id="4533" href="Tactic.Helpers.html#4514" class="Bound">d</a> <a id="4535" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="4538" href="Tactic.Helpers.html#935" class="Field">DataDef.indices</a> <a id="4554" href="Tactic.Helpers.html#4514" class="Bound">d</a><a id="4555" class="Symbol">)</a> <a id="4557" href="Data.Sum.Base.html#929" class="Function Operator">,</a> <a id="4559" href="Tactic.Helpers.html#1054" class="Field">RecordDef.params</a> <a id="4576" href="Data.Sum.Base.html#929" class="Function Operator">]</a> <a id="4578" href="Class.Functor.Core.html#707" class="Field Operator">&lt;$&gt;</a> <a id="4582" href="Tactic.Helpers.html#4060" class="Function">getDataOrRecordDef</a> <a id="4601" href="Tactic.Helpers.html#4492" class="Bound">n</a>

  <a id="4606" href="Tactic.Helpers.html#4606" class="Function">getFuel</a> <a id="4614" class="Symbol">:</a> <a id="4616" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="4623" class="Symbol">→</a> <a id="4625" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="4627" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
  <a id="4631" href="Tactic.Helpers.html#4606" class="Function">getFuel</a> <a id="4639" href="Tactic.Helpers.html#4639" class="Bound">s</a> <a id="4641" class="Symbol">=</a> <a id="4643" class="Keyword">do</a>
    <a id="4650" href="Tactic.Helpers.html#4650" class="Bound">fuels</a> <a id="4656" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="4658" href="Class.MonadReader.html#386" class="Function">reader</a> <a id="4665" class="Symbol">(λ</a> <a id="4668" class="Keyword">where</a> <a id="4674" class="Keyword">record</a> <a id="4681" class="Symbol">{</a> <a id="4683" href="Class.MonadTC.html#1060" class="Field">options</a> <a id="4691" class="Symbol">=</a> <a id="4693" class="Keyword">record</a> <a id="4700" class="Symbol">{</a> <a id="4702" href="Class.MonadTC.html#680" class="Field">fuel</a> <a id="4707" class="Symbol">=</a> <a id="4709" href="Tactic.Helpers.html#4709" class="Bound">f</a> <a id="4711" class="Symbol">}</a> <a id="4713" class="Symbol">}</a> <a id="4715" class="Symbol">→</a> <a id="4717" href="Tactic.Helpers.html#4709" class="Bound">f</a> <a id="4719" class="Symbol">)</a>
    <a id="4725" href="Function.Base.html#4130" class="Function Operator">case</a> <a id="4730" href="Prelude.html#900" class="Function">lookupᵇ</a> <a id="4738" class="Symbol">(λ</a> <a id="4741" href="Tactic.Helpers.html#4741" class="Bound">s</a> <a id="4743" href="Tactic.Helpers.html#4743" class="Bound">s&#39;</a> <a id="4746" class="Symbol">→</a> <a id="4748" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌊</a> <a id="4750" href="Tactic.Helpers.html#4741" class="Bound">s</a> <a id="4752" href="Tactic.Helpers.html#206" class="Function Operator">≟S</a> <a id="4755" href="Tactic.Helpers.html#4743" class="Bound">s&#39;</a> <a id="4758" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌋</a><a id="4759" class="Symbol">)</a> <a id="4761" href="Tactic.Helpers.html#4650" class="Bound">fuels</a> <a id="4767" href="Tactic.Helpers.html#4639" class="Bound">s</a> <a id="4769" href="Function.Base.html#4130" class="Function Operator">of</a> <a id="4772" class="Symbol">λ</a> <a id="4774" class="Keyword">where</a>
      <a id="4786" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>  <a id="4795" class="Symbol">→</a> <a id="4797" href="Class.MonadTC.html#8719" class="Function">error1</a> <a id="4804" class="Symbol">(</a><a id="4805" class="String">&quot;Key&quot;</a> <a id="4811" href="Data.String.Base.html#3008" class="Function Operator">&lt;+&gt;</a> <a id="4815" href="Tactic.Helpers.html#4639" class="Bound">s</a> <a id="4817" href="Data.String.Base.html#3008" class="Function Operator">&lt;+&gt;</a> <a id="4821" class="String">&quot;doesn&#39;t exist in the fuels map&quot;</a><a id="4853" class="Symbol">)</a>
      <a id="4861" class="Symbol">(</a><a id="4862" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="4867" href="Tactic.Helpers.html#4867" class="Bound">f</a><a id="4868" class="Symbol">)</a> <a id="4870" class="Symbol">→</a> <a id="4872" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="4879" href="Tactic.Helpers.html#4867" class="Bound">f</a>

  <a id="4884" href="Tactic.Helpers.html#4884" class="Function">isSort</a> <a id="4891" class="Symbol">:</a> <a id="4893" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="4898" class="Symbol">→</a> <a id="4900" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="4902" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="4909" href="Tactic.Helpers.html#4884" class="Function">isSort</a> <a id="4916" href="Tactic.Helpers.html#4916" class="Bound">t</a> <a id="4918" class="Symbol">=</a> <a id="4920" class="Keyword">do</a>
    <a id="4927" class="Symbol">(</a><a id="4928" href="Reflection.Term.html#1405" class="InductiveConstructor">agda-sort</a> <a id="4938" class="Symbol">_)</a> <a id="4941" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="4943" href="Class.MonadTC.html#1834" class="Field">normalise</a> <a id="4953" href="Tactic.Helpers.html#4916" class="Bound">t</a>
      <a id="4961" class="Keyword">where</a> <a id="4967" class="CatchallClause Symbol">_</a> <a id="4969" class="Symbol">→</a> <a id="4971" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="4978" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
    <a id="4988" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="4995" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>

  <a id="5003" href="Tactic.Helpers.html#5003" class="Function">isNArySort</a> <a id="5014" class="Symbol">:</a> <a id="5016" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="5018" class="Symbol">→</a> <a id="5020" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="5025" class="Symbol">→</a> <a id="5027" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="5029" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="5036" href="Tactic.Helpers.html#5003" class="Function">isNArySort</a> <a id="5047" href="Tactic.Helpers.html#5047" class="Bound">n</a> <a id="5049" href="Tactic.Helpers.html#5049" class="Bound">t</a> <a id="5051" class="Symbol">=</a> <a id="5053" class="Keyword">do</a>
    <a id="5060" class="Symbol">(</a><a id="5061" href="Tactic.Helpers.html#5061" class="Bound">tel</a> <a id="5065" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5067" href="Tactic.Helpers.html#5067" class="Bound">ty</a><a id="5069" class="Symbol">)</a> <a id="5071" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5073" href="Tactic.Helpers.html#2792" class="Function">viewAndReduceTy</a> <a id="5089" href="Tactic.Helpers.html#5049" class="Bound">t</a>
    <a id="5095" href="Tactic.Helpers.html#5095" class="Bound">b</a> <a id="5097" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5099" href="Tactic.Helpers.html#4884" class="Function">isSort</a> <a id="5106" href="Tactic.Helpers.html#5067" class="Bound">ty</a>
    <a id="5113" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5120" class="Symbol">(</a><a id="5121" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌊</a> <a id="5123" class="Symbol">(</a><a id="5124" href="Data.List.Base.html#4873" class="Function">length</a> <a id="5131" href="Tactic.Helpers.html#5061" class="Bound">tel</a><a id="5134" class="Symbol">)</a> <a id="5136" href="Tactic.Helpers.html#150" class="Function Operator">≟ℕ</a> <a id="5139" href="Tactic.Helpers.html#5047" class="Bound">n</a> <a id="5141" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌋</a> <a id="5143" href="Data.Bool.Base.html#995" class="Function Operator">∧</a> <a id="5145" href="Tactic.Helpers.html#5095" class="Bound">b</a><a id="5146" class="Symbol">)</a>

  <a id="5151" href="Tactic.Helpers.html#5151" class="Function">isDefT</a> <a id="5158" class="Symbol">:</a> <a id="5160" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="5165" class="Symbol">→</a> <a id="5167" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="5172" class="Symbol">→</a> <a id="5174" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="5176" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="5183" href="Tactic.Helpers.html#5151" class="Function">isDefT</a> <a id="5190" href="Tactic.Helpers.html#5190" class="Bound">n</a> <a id="5192" href="Tactic.Helpers.html#5192" class="Bound">t</a> <a id="5194" class="Symbol">=</a> <a id="5196" class="Keyword">do</a>
    <a id="5203" class="Symbol">(</a><a id="5204" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="5208" href="Tactic.Helpers.html#5208" class="Bound">n&#39;</a> <a id="5211" class="Symbol">_)</a> <a id="5214" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5216" href="Class.MonadTC.html#1834" class="Field">normalise</a> <a id="5226" href="Tactic.Helpers.html#5192" class="Bound">t</a>
      <a id="5234" class="Keyword">where</a> <a id="5240" class="CatchallClause Symbol">_</a> <a id="5242" class="Symbol">→</a> <a id="5244" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5251" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
    <a id="5261" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5268" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌊</a> <a id="5270" href="Tactic.Helpers.html#5190" class="Bound">n</a> <a id="5272" href="Reflection.Name.html#1412" class="Function Operator">≟</a> <a id="5274" href="Tactic.Helpers.html#5208" class="Bound">n&#39;</a> <a id="5277" href="Relation.Nullary.Decidable.Core.html#1321" class="Function Operator">⌋</a>

  <a id="5282" class="Comment">-- run a computation that returns a term, resetting the TC state but</a>
  <a id="5353" class="Comment">-- ensuring that the term doesn&#39;t contain any metavariables</a>
  <a id="5415" href="Tactic.Helpers.html#5415" class="Function">withSafeReset</a> <a id="5429" class="Symbol">:</a> <a id="5431" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="5433" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="5438" class="Symbol">→</a> <a id="5440" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="5442" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="5449" href="Tactic.Helpers.html#5415" class="Function">withSafeReset</a> <a id="5463" href="Tactic.Helpers.html#5463" class="Bound">x</a> <a id="5465" class="Symbol">=</a> <a id="5467" href="Class.MonadTC.html#2525" class="Function">runAndReset</a> <a id="5479" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5481" class="Keyword">do</a>
    <a id="5488" href="Tactic.Helpers.html#5488" class="Bound">t</a> <a id="5490" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5492" href="Tactic.Helpers.html#5463" class="Bound">x</a>
    <a id="5498" class="Keyword">let</a> <a id="5502" href="Tactic.Helpers.html#5502" class="Bound">m</a> <a id="5504" class="Symbol">=</a> <a id="5506" href="Generics.Utils.html#1176" class="Function">findMetas</a> <a id="5516" href="Tactic.Helpers.html#5488" class="Bound">t</a>
    <a id="5522" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="5525" href="Data.List.Base.html#4532" class="Function">null</a> <a id="5530" href="Tactic.Helpers.html#5502" class="Bound">m</a>
      <a id="5538" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="5543" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="5550" href="Tactic.Helpers.html#5488" class="Bound">t</a>
      <a id="5558" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="5563" class="Keyword">do</a>
        <a id="5574" href="Class.MonadTC.html#6031" class="Function">debugLogᵐ</a> <a id="5584" class="Symbol">(</a><a id="5585" class="String">&quot;Remaining metavariables:&quot;</a> <a id="5612" href="Class.MonadTC.html#5279" class="Function Operator">∷ᵈᵐ</a> <a id="5616" href="Tactic.Helpers.html#5502" class="Bound">m</a> <a id="5618" href="Class.MonadTC.html#5496" class="Function Operator">ᵛⁿ</a> <a id="5621" href="Class.MonadTC.html#5279" class="Function Operator">∷ᵈᵐ</a> <a id="5625" href="Class.MonadTC.html#5216" class="Function">[]ᵐ</a><a id="5628" class="Symbol">)</a>
        <a id="5638" href="Class.MonadTC.html#5721" class="Function">debugLog</a> <a id="5647" class="Symbol">(</a><a id="5648" class="String">&quot;In term: &quot;</a> <a id="5660" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5663" href="Tactic.Helpers.html#5488" class="Bound">t</a> <a id="5665" href="Reflection.Debug.html#992" class="Function Operator">∷ᵈ</a> <a id="5668" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5670" class="Symbol">)</a>
        <a id="5680" href="Class.MonadTC.html#8719" class="Function">error1</a> <a id="5687" class="String">&quot;Unsolved metavariables remaining in withSafeReset!&quot;</a>

  <a id="5743" class="Comment">-- apply a list of terms to a name, picking the correct constructor &amp; visibility</a>
  <a id="5826" href="Tactic.Helpers.html#5826" class="Function">applyWithVisibility</a> <a id="5846" class="Symbol">:</a> <a id="5848" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="5853" class="Symbol">→</a> <a id="5855" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5860" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="5865" class="Symbol">→</a> <a id="5867" href="Tactic.Helpers.html#1096" class="Bound">M</a> <a id="5869" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="5876" href="Tactic.Helpers.html#5826" class="Function">applyWithVisibility</a> <a id="5896" href="Tactic.Helpers.html#5896" class="Bound">n</a> <a id="5898" href="Tactic.Helpers.html#5898" class="Bound">l</a> <a id="5900" class="Symbol">=</a> <a id="5902" class="Keyword">do</a>
    <a id="5909" class="Symbol">(</a><a id="5910" href="Tactic.Helpers.html#5910" class="Bound">argTys</a> <a id="5917" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5919" class="Symbol">_)</a> <a id="5922" href="Class.Monad.Core.html#335" class="Field Operator">←</a> <a id="5924" href="Tactic.Helpers.html#3224" class="Function">getType&#39;</a> <a id="5933" href="Tactic.Helpers.html#5896" class="Bound">n</a>
    <a id="5939" href="Class.MonadTC.html#3108" class="Function">nameConstr</a> <a id="5950" href="Tactic.Helpers.html#5896" class="Bound">n</a> <a id="5952" class="Symbol">(</a><a id="5953" href="Data.List.Base.html#2819" class="Function">zipWith</a> <a id="5961" class="Symbol">(λ</a> <a id="5964" class="Keyword">where</a> <a id="5970" class="Symbol">(</a><a id="5971" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="5975" class="Symbol">_</a> <a id="5977" class="Symbol">(</a><a id="5978" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="5982" href="Tactic.Helpers.html#5982" class="Bound">i</a> <a id="5984" class="Symbol">_))</a> <a id="5988" class="Symbol">→</a> <a id="5990" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="5994" href="Tactic.Helpers.html#5982" class="Bound">i</a><a id="5995" class="Symbol">)</a> <a id="5997" href="Tactic.Helpers.html#5910" class="Bound">argTys</a> <a id="6004" href="Tactic.Helpers.html#5898" class="Bound">l</a><a id="6005" class="Symbol">)</a>

<a id="ITactic"></a><a id="6008" href="Tactic.Helpers.html#6008" class="Function">ITactic</a> <a id="6016" class="Symbol">:</a> <a id="6018" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="6022" href="Tactic.Helpers.html#6008" class="Function">ITactic</a> <a id="6030" class="Symbol">=</a> <a id="6032" href="Reflection.TCI.html#612" class="Function">TC</a> <a id="6035" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>

<a id="initTacEnv"></a><a id="6038" href="Tactic.Helpers.html#6038" class="Function">initTacEnv</a> <a id="6049" class="Symbol">:</a> <a id="6051" class="Symbol">(</a><a id="6052" href="Class.MonadTC.html#819" class="Record">TCEnv</a> <a id="6058" class="Symbol">→</a> <a id="6060" href="Class.MonadTC.html#819" class="Record">TCEnv</a><a id="6065" class="Symbol">)</a> <a id="6067" class="Symbol">→</a> <a id="6069" href="Tactic.Helpers.html#6008" class="Function">ITactic</a> <a id="6077" class="Symbol">→</a> <a id="6079" href="Generics.Core.html#2458" class="Function">Tactic</a>
<a id="6086" href="Tactic.Helpers.html#6038" class="Function">initTacEnv</a> <a id="6097" href="Tactic.Helpers.html#6097" class="Bound">f</a> <a id="6099" href="Tactic.Helpers.html#6099" class="Bound">tac</a> <a id="6103" href="Tactic.Helpers.html#6103" class="Bound">goal</a> <a id="6108" class="Symbol">=</a> <a id="6110" class="Symbol">(</a><a id="6111" href="Class.MonadTC.html#1121" class="Function">initTCEnvWithGoal</a> <a id="6129" href="Tactic.Helpers.html#6103" class="Bound">goal</a><a id="6133" class="Symbol">)</a> <a id="6135" href="Reflection.TypeChecking.Monad.Syntax.html#691" class="Function Operator">Reflection.&gt;&gt;=</a> <a id="6150" href="Tactic.Helpers.html#6099" class="Bound">tac</a> <a id="6154" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="6156" href="Tactic.Helpers.html#6097" class="Bound">f</a>

<a id="initTacOpts"></a><a id="6159" href="Tactic.Helpers.html#6159" class="Function">initTacOpts</a> <a id="6171" class="Symbol">:</a> <a id="6173" href="Tactic.Helpers.html#6008" class="Function">ITactic</a> <a id="6181" class="Symbol">→</a> <a id="6183" href="Class.MonadTC.html#621" class="Record">TCOptions</a> <a id="6193" class="Symbol">→</a> <a id="6195" href="Generics.Core.html#2458" class="Function">Tactic</a>
<a id="6202" href="Tactic.Helpers.html#6159" class="Function">initTacOpts</a> <a id="6214" href="Tactic.Helpers.html#6214" class="Bound">tac</a> <a id="6218" href="Tactic.Helpers.html#6218" class="Bound">opts</a> <a id="6223" class="Symbol">=</a> <a id="6225" href="Tactic.Helpers.html#6038" class="Function">initTacEnv</a> <a id="6236" class="Symbol">(λ</a> <a id="6239" href="Tactic.Helpers.html#6239" class="Bound">env</a> <a id="6243" class="Symbol">→</a> <a id="6245" class="Keyword">record</a> <a id="6252" href="Tactic.Helpers.html#6239" class="Bound">env</a> <a id="6256" class="Symbol">{</a> <a id="6258" href="Class.MonadTC.html#1060" class="Field">options</a> <a id="6266" class="Symbol">=</a> <a id="6268" href="Tactic.Helpers.html#6218" class="Bound">opts</a> <a id="6273" class="Symbol">})</a> <a id="6276" href="Tactic.Helpers.html#6214" class="Bound">tac</a>

<a id="6281" class="Keyword">module</a> <a id="6288" href="Tactic.Helpers.html#6288" class="Module">_</a> <a id="6290" class="Symbol">⦃</a> <a id="6292" href="Tactic.Helpers.html#6292" class="Bound">opts</a> <a id="6297" class="Symbol">:</a> <a id="6299" href="Class.MonadTC.html#621" class="Record">TCOptions</a> <a id="6309" class="Symbol">⦄</a> <a id="6311" class="Keyword">where</a>

  <a id="6320" href="Tactic.Helpers.html#6320" class="Function">initTac</a> <a id="6328" class="Symbol">:</a> <a id="6330" href="Tactic.Helpers.html#6008" class="Function">ITactic</a> <a id="6338" class="Symbol">→</a> <a id="6340" href="Generics.Core.html#2458" class="Function">Tactic</a>
  <a id="6349" href="Tactic.Helpers.html#6320" class="Function">initTac</a> <a id="6357" href="Tactic.Helpers.html#6357" class="Bound">tac</a> <a id="6361" class="Symbol">=</a> <a id="6363" href="Tactic.Helpers.html#6159" class="Function">initTacOpts</a> <a id="6375" href="Tactic.Helpers.html#6357" class="Bound">tac</a> <a id="6379" href="Tactic.Helpers.html#6292" class="Bound">opts</a>

  <a id="6387" href="Tactic.Helpers.html#6387" class="Function">initUnquoteWithGoal</a> <a id="6407" class="Symbol">:</a> <a id="6409" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="6414" class="Symbol">→</a> <a id="6416" href="Reflection.TCI.html#612" class="Function">TC</a> <a id="6419" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a> <a id="6421" class="Symbol">→</a> <a id="6423" href="Generics.Core.html#2480" class="Function">UnquoteDecl</a>
  <a id="6437" href="Tactic.Helpers.html#6387" class="Function">initUnquoteWithGoal</a> <a id="6457" href="Tactic.Helpers.html#6457" class="Bound">g</a> <a id="6459" href="Tactic.Helpers.html#6459" class="Bound">unq</a> <a id="6463" class="Symbol">=</a> <a id="6465" class="Symbol">(</a><a id="6466" href="Class.MonadTC.html#1121" class="Function">initTCEnvWithGoal</a> <a id="6484" href="Tactic.Helpers.html#6457" class="Bound">g</a><a id="6485" class="Symbol">)</a> <a id="6487" href="Reflection.TypeChecking.Monad.Syntax.html#691" class="Function Operator">Reflection.&gt;&gt;=</a> <a id="6502" href="Tactic.Helpers.html#6459" class="Bound">unq</a>
                            <a id="6534" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="6536" class="Symbol">(λ</a> <a id="6539" href="Tactic.Helpers.html#6539" class="Bound">env</a> <a id="6543" class="Symbol">→</a> <a id="6545" class="Keyword">record</a> <a id="6552" href="Tactic.Helpers.html#6539" class="Bound">env</a> <a id="6556" class="Symbol">{</a> <a id="6558" href="Class.MonadTC.html#1060" class="Field">options</a> <a id="6566" class="Symbol">=</a> <a id="6568" href="Tactic.Helpers.html#6292" class="Bound">opts</a> <a id="6573" class="Symbol">})</a>

  <a id="6579" href="Tactic.Helpers.html#6579" class="Function">initUnquote</a> <a id="6591" class="Symbol">:</a> <a id="6593" href="Reflection.TCI.html#612" class="Function">TC</a> <a id="6596" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a> <a id="6598" class="Symbol">→</a> <a id="6600" href="Generics.Core.html#2480" class="Function">UnquoteDecl</a>
  <a id="6614" href="Tactic.Helpers.html#6579" class="Function">initUnquote</a> <a id="6626" href="Tactic.Helpers.html#6626" class="Bound">unq</a> <a id="6630" class="Symbol">=</a> <a id="6632" href="Tactic.Helpers.html#6387" class="Function">initUnquoteWithGoal</a> <a id="6652" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a> <a id="6660" href="Tactic.Helpers.html#6626" class="Bound">unq</a>

  <a id="6667" class="Keyword">macro</a>
    <a id="6677" href="Tactic.Helpers.html#6677" class="Function">byTC</a> <a id="6682" class="Symbol">:</a> <a id="6684" href="Reflection.TCI.html#612" class="Function">TC</a> <a id="6687" href="Tactic.Helpers.html#676" class="Generalizable">A</a> <a id="6689" class="Symbol">→</a> <a id="6691" href="Generics.Core.html#2458" class="Function">Tactic</a>
    <a id="6702" href="Tactic.Helpers.html#6677" class="Function">byTC</a> <a id="6707" href="Tactic.Helpers.html#6707" class="Bound">comp</a> <a id="6712" class="Symbol">=</a> <a id="6714" href="Tactic.Helpers.html#6320" class="Function">initTac</a> <a id="6722" class="Symbol">((</a><a id="6724" href="Tactic.Helpers.html#6707" class="Bound">comp</a> <a id="6729" href="Class.Monad.Core.html#335" class="Field Operator">&gt;&gt;=</a> <a id="6733" href="Class.MonadTC.html#1908" class="Field">quoteTC</a><a id="6740" class="Symbol">)</a> <a id="6742" href="Class.Monad.Core.html#335" class="Field Operator">&gt;&gt;=</a> <a id="6746" href="Class.MonadTC.html#10469" class="Function">unifyWithGoal</a><a id="6759" class="Symbol">)</a>

    <a id="6766" href="Tactic.Helpers.html#6766" class="Function">by</a> <a id="6769" class="Symbol">:</a> <a id="6771" href="Tactic.Helpers.html#6008" class="Function">ITactic</a> <a id="6779" class="Symbol">→</a> <a id="6781" href="Generics.Core.html#2458" class="Function">Tactic</a>
    <a id="6792" href="Tactic.Helpers.html#6766" class="Function">by</a> <a id="6795" class="Symbol">=</a> <a id="6797" href="Tactic.Helpers.html#6320" class="Function">initTac</a>
</pre></body></html>