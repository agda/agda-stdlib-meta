<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Class.MonadError</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/stdlib-meta/tree/master/Class/MonadError.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Level.html" class="Module">Level</a>

<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Prelude.html" class="Module">Prelude</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Class.Monad.html" class="Module">Class.Monad</a>
<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Reflection.html" class="Module">Reflection</a> <a id="124" class="Keyword">using</a> <a id="130" class="Symbol">(</a><a id="131" href="Agda.Builtin.Reflection.html#8218" class="Postulate">TC</a><a id="133" class="Symbol">;</a> <a id="135" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="144" class="Symbol">;</a> <a id="146" href="Agda.Builtin.Reflection.html#8431" class="Postulate">typeError</a><a id="155" class="Symbol">;</a> <a id="157" href="Agda.Builtin.Reflection.html#8645" class="Postulate">catchTC</a><a id="164" class="Symbol">;</a> <a id="166" href="Agda.Builtin.Reflection.html#7917" class="InductiveConstructor">strErr</a><a id="172" class="Symbol">)</a>

<a id="175" class="Keyword">module</a> <a id="182" href="Class.MonadError.html" class="Module">Class.MonadError</a> <a id="199" class="Keyword">where</a>

<a id="206" class="Keyword">private</a>
  <a id="216" class="Keyword">variable</a>
    <a id="229" href="Class.MonadError.html#229" class="Generalizable">e</a> <a id="231" href="Class.MonadError.html#231" class="Generalizable">f</a> <a id="233" class="Symbol">:</a> <a id="235" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="245" href="Class.MonadError.html#245" class="Generalizable">A</a> <a id="247" class="Symbol">:</a> <a id="249" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="253" href="Class.MonadError.html#231" class="Generalizable">f</a>

<a id="256" class="Keyword">record</a> <a id="MonadError"></a><a id="263" href="Class.MonadError.html#263" class="Record">MonadError</a> <a id="274" class="Symbol">(</a><a id="275" href="Class.MonadError.html#275" class="Bound">E</a> <a id="277" class="Symbol">:</a> <a id="279" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="283" href="Class.MonadError.html#229" class="Generalizable">e</a><a id="284" class="Symbol">)</a> <a id="286" class="Symbol">(</a><a id="287" href="Class.MonadError.html#287" class="Bound">M</a> <a id="289" class="Symbol">:</a> <a id="291" class="Symbol">∀</a> <a id="293" class="Symbol">{</a><a id="294" href="Class.MonadError.html#294" class="Bound">f</a><a id="295" class="Symbol">}</a> <a id="297" class="Symbol">→</a> <a id="299" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="303" href="Class.MonadError.html#294" class="Bound">f</a> <a id="305" class="Symbol">→</a> <a id="307" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="311" href="Class.MonadError.html#294" class="Bound">f</a><a id="312" class="Symbol">)</a> <a id="314" class="Symbol">:</a> <a id="316" href="Agda.Primitive.html#381" class="Primitive">Setω</a> <a id="321" class="Keyword">where</a>
  <a id="329" class="Keyword">field</a>
    <a id="MonadError.error"></a><a id="339" href="Class.MonadError.html#339" class="Field">error</a> <a id="345" class="Symbol">:</a> <a id="347" href="Class.MonadError.html#275" class="Bound">E</a> <a id="349" class="Symbol">→</a> <a id="351" href="Class.MonadError.html#287" class="Bound">M</a> <a id="353" href="Class.MonadError.html#245" class="Generalizable">A</a>
    <a id="MonadError.catch"></a><a id="359" href="Class.MonadError.html#359" class="Field">catch</a> <a id="365" class="Symbol">:</a> <a id="367" href="Class.MonadError.html#287" class="Bound">M</a> <a id="369" href="Class.MonadError.html#245" class="Generalizable">A</a> <a id="371" class="Symbol">→</a> <a id="373" class="Symbol">(</a><a id="374" href="Class.MonadError.html#275" class="Bound">E</a> <a id="376" class="Symbol">→</a> <a id="378" href="Class.MonadError.html#287" class="Bound">M</a> <a id="380" href="Class.MonadError.html#245" class="Generalizable">A</a><a id="381" class="Symbol">)</a> <a id="383" class="Symbol">→</a> <a id="385" href="Class.MonadError.html#287" class="Bound">M</a> <a id="387" href="Class.MonadError.html#245" class="Generalizable">A</a>

<a id="390" class="Keyword">open</a> <a id="395" href="Class.MonadError.html#263" class="Module">MonadError</a>

<a id="MonadError-TC"></a><a id="407" href="Class.MonadError.html#407" class="Function">MonadError-TC</a> <a id="421" class="Symbol">:</a> <a id="423" href="Class.MonadError.html#263" class="Record">MonadError</a> <a id="434" class="Symbol">(</a><a id="435" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="440" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a><a id="449" class="Symbol">)</a> <a id="451" href="Agda.Builtin.Reflection.html#8218" class="Postulate">TC</a>
<a id="454" href="Class.MonadError.html#407" class="Function">MonadError-TC</a> <a id="468" class="Symbol">.</a><a id="469" href="Class.MonadError.html#339" class="Field">error</a> <a id="475" class="Symbol">=</a> <a id="477" href="Agda.Builtin.Reflection.html#8431" class="Postulate">typeError</a>
<a id="487" href="Class.MonadError.html#407" class="Function">MonadError-TC</a> <a id="501" class="Symbol">.</a><a id="502" href="Class.MonadError.html#359" class="Field">catch</a> <a id="508" href="Class.MonadError.html#508" class="Bound">x</a> <a id="510" href="Class.MonadError.html#510" class="Bound">h</a> <a id="512" class="Symbol">=</a> <a id="514" href="Agda.Builtin.Reflection.html#8645" class="Postulate">catchTC</a> <a id="522" href="Class.MonadError.html#508" class="Bound">x</a> <a id="524" class="Symbol">(</a><a id="525" href="Class.MonadError.html#510" class="Bound">h</a> <a id="527" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="529" href="Agda.Builtin.Reflection.html#7917" class="InductiveConstructor">strErr</a> <a id="536" class="String">&quot;TC doesn&#39;t provide which error to catch&quot;</a> <a id="578" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="579" class="Symbol">)</a>

<a id="ErrorT"></a><a id="582" href="Class.MonadError.html#582" class="Function">ErrorT</a> <a id="589" class="Symbol">:</a> <a id="591" class="Symbol">(</a><a id="592" href="Class.MonadError.html#592" class="Bound">E</a> <a id="594" class="Symbol">:</a> <a id="596" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="599" class="Symbol">)</a> <a id="601" class="Symbol">→</a> <a id="603" class="Symbol">(</a><a id="604" href="Class.MonadError.html#604" class="Bound">M</a> <a id="606" class="Symbol">:</a> <a id="608" class="Symbol">∀</a> <a id="610" class="Symbol">{</a><a id="611" href="Class.MonadError.html#611" class="Bound">f</a><a id="612" class="Symbol">}</a> <a id="614" class="Symbol">→</a> <a id="616" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="620" href="Class.MonadError.html#611" class="Bound">f</a> <a id="622" class="Symbol">→</a> <a id="624" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="628" href="Class.MonadError.html#611" class="Bound">f</a><a id="629" class="Symbol">)</a> <a id="631" class="Symbol">→</a> <a id="633" class="Symbol">∀</a> <a id="635" class="Symbol">{</a><a id="636" href="Class.MonadError.html#636" class="Bound">f</a><a id="637" class="Symbol">}</a> <a id="639" class="Symbol">→</a> <a id="641" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="645" href="Class.MonadError.html#636" class="Bound">f</a> <a id="647" class="Symbol">→</a> <a id="649" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="653" href="Class.MonadError.html#636" class="Bound">f</a>
<a id="655" href="Class.MonadError.html#582" class="Function">ErrorT</a> <a id="662" href="Class.MonadError.html#662" class="Bound">E</a> <a id="664" href="Class.MonadError.html#664" class="Bound">M</a> <a id="666" href="Class.MonadError.html#666" class="Bound">A</a> <a id="668" class="Symbol">=</a> <a id="670" href="Class.MonadError.html#664" class="Bound">M</a> <a id="672" class="Symbol">(</a><a id="673" href="Class.MonadError.html#662" class="Bound">E</a> <a id="675" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="677" href="Class.MonadError.html#666" class="Bound">A</a><a id="678" class="Symbol">)</a>

<a id="681" class="Keyword">module</a> <a id="688" href="Class.MonadError.html#688" class="Module">_</a> <a id="690" class="Symbol">{</a><a id="691" href="Class.MonadError.html#691" class="Bound">E</a> <a id="693" class="Symbol">:</a> <a id="695" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="698" class="Symbol">}</a> <a id="700" class="Symbol">{</a><a id="701" href="Class.MonadError.html#701" class="Bound">M</a> <a id="703" class="Symbol">:</a> <a id="705" class="Symbol">∀</a> <a id="707" class="Symbol">{</a><a id="708" href="Class.MonadError.html#708" class="Bound">a</a><a id="709" class="Symbol">}</a> <a id="711" class="Symbol">→</a> <a id="713" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="717" href="Class.MonadError.html#708" class="Bound">a</a> <a id="719" class="Symbol">→</a> <a id="721" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="725" href="Class.MonadError.html#708" class="Bound">a</a><a id="726" class="Symbol">}</a> <a id="728" class="Symbol">⦃</a> <a id="730" href="Class.MonadError.html#730" class="Bound">_</a> <a id="732" class="Symbol">:</a> <a id="734" href="Class.Monad.Core.html#203" class="Record">Monad</a> <a id="740" href="Class.MonadError.html#701" class="Bound">M</a> <a id="742" class="Symbol">⦄</a> <a id="744" class="Keyword">where</a>

  <a id="753" href="Class.MonadError.html#753" class="Function">Monad-ErrorT</a> <a id="766" class="Symbol">:</a> <a id="768" href="Class.Monad.Core.html#203" class="Record">Monad</a> <a id="774" class="Symbol">(</a><a id="775" href="Class.MonadError.html#582" class="Function">ErrorT</a> <a id="782" href="Class.MonadError.html#691" class="Bound">E</a> <a id="784" href="Class.MonadError.html#701" class="Bound">M</a><a id="785" class="Symbol">)</a>
  <a id="789" href="Class.MonadError.html#753" class="Function">Monad-ErrorT</a> <a id="802" class="Symbol">.</a><a id="803" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="810" href="Class.MonadError.html#810" class="Bound">a</a> <a id="812" class="Symbol">=</a> <a id="814" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="821" class="Symbol">(</a><a id="822" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="827" href="Class.MonadError.html#810" class="Bound">a</a><a id="828" class="Symbol">)</a>
  <a id="832" href="Class.MonadError.html#753" class="Function">Monad-ErrorT</a> <a id="845" class="Symbol">.</a><a id="846" href="Class.Monad.Core.html#335" class="Field Operator">_&gt;&gt;=_</a> <a id="852" href="Class.MonadError.html#852" class="Bound">x</a> <a id="854" href="Class.MonadError.html#854" class="Bound">f</a> <a id="856" class="Symbol">=</a> <a id="858" href="Class.MonadError.html#852" class="Bound">x</a> <a id="860" href="Class.Monad.Core.html#335" class="Field Operator">&gt;&gt;=</a> <a id="864" class="Symbol">λ</a> <a id="866" class="Keyword">where</a>
    <a id="876" class="Symbol">(</a><a id="877" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="882" href="Class.MonadError.html#882" class="Bound">e</a><a id="883" class="Symbol">)</a> <a id="885" class="Symbol">→</a> <a id="887" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="894" class="Symbol">(</a><a id="895" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="900" href="Class.MonadError.html#882" class="Bound">e</a><a id="901" class="Symbol">)</a>
    <a id="907" class="Symbol">(</a><a id="908" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="913" href="Class.MonadError.html#913" class="Bound">a</a><a id="914" class="Symbol">)</a> <a id="916" class="Symbol">→</a> <a id="918" href="Class.MonadError.html#854" class="Bound">f</a> <a id="920" href="Class.MonadError.html#913" class="Bound">a</a>

  <a id="925" href="Class.MonadError.html#925" class="Function">MonadError-ErrorT</a> <a id="943" class="Symbol">:</a> <a id="945" href="Class.MonadError.html#263" class="Record">MonadError</a> <a id="956" href="Class.MonadError.html#691" class="Bound">E</a> <a id="958" class="Symbol">(</a><a id="959" href="Class.MonadError.html#582" class="Function">ErrorT</a> <a id="966" href="Class.MonadError.html#691" class="Bound">E</a> <a id="968" href="Class.MonadError.html#701" class="Bound">M</a><a id="969" class="Symbol">)</a>
  <a id="973" href="Class.MonadError.html#925" class="Function">MonadError-ErrorT</a> <a id="991" class="Symbol">.</a><a id="992" href="Class.MonadError.html#339" class="Field">error</a> <a id="998" href="Class.MonadError.html#998" class="Bound">e</a> <a id="1000" class="Symbol">=</a> <a id="1002" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="1009" class="Symbol">(</a><a id="1010" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1015" href="Class.MonadError.html#998" class="Bound">e</a><a id="1016" class="Symbol">)</a>
  <a id="1020" href="Class.MonadError.html#925" class="Function">MonadError-ErrorT</a> <a id="1038" class="Symbol">.</a><a id="1039" href="Class.MonadError.html#359" class="Field">catch</a> <a id="1045" href="Class.MonadError.html#1045" class="Bound">x</a> <a id="1047" href="Class.MonadError.html#1047" class="Bound">h</a> <a id="1049" class="Symbol">=</a> <a id="1051" href="Class.MonadError.html#1045" class="Bound">x</a> <a id="1053" href="Class.Monad.Core.html#335" class="Field Operator">&gt;&gt;=</a> <a id="1057" class="Symbol">λ</a> <a id="1059" class="Keyword">where</a>
    <a id="1069" class="Symbol">(</a><a id="1070" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1075" href="Class.MonadError.html#1075" class="Bound">e</a><a id="1076" class="Symbol">)</a> <a id="1078" class="Symbol">→</a> <a id="1080" href="Class.MonadError.html#1047" class="Bound">h</a> <a id="1082" href="Class.MonadError.html#1075" class="Bound">e</a>
    <a id="1088" class="Symbol">(</a><a id="1089" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1094" href="Class.MonadError.html#1094" class="Bound">a</a><a id="1095" class="Symbol">)</a> <a id="1097" class="Symbol">→</a> <a id="1099" href="Class.Monad.Core.html#314" class="Field">return</a> <a id="1106" class="Symbol">(</a><a id="1107" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1112" href="Class.MonadError.html#1094" class="Bound">a</a><a id="1113" class="Symbol">)</a>
</pre></body></html>