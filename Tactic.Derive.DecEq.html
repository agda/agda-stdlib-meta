<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tactic.Derive.DecEq</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/stdlib-meta/tree/tactics-and-deriving/Tactic/Derive/DecEq.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-- Deriving decidable equality. This works in several cases that use</a>
<a id="70" class="Comment">-- mutual recursion, examples are at the bottom.</a>
<a id="119" class="Comment">--</a>
<a id="122" class="Comment">-- TODO: This breaks with:</a>
<a id="149" class="Comment">-- - dependent records, e.g. Product</a>
<a id="186" class="Comment">-- - anything listed in Tactic.Derive</a>
<a id="224" class="Comment">-- - maybe more</a>

<a id="241" class="Symbol">{-#</a> <a id="245" class="Keyword">OPTIONS</a> <a id="253" class="Pragma">-v</a> <a id="256" class="Pragma">allTactics:100</a> <a id="271" class="Symbol">#-}</a>
<a id="275" class="Symbol">{-#</a> <a id="279" class="Keyword">OPTIONS</a> <a id="287" class="Pragma">--safe</a> <a id="294" class="Symbol">#-}</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Meta.html" class="Module">Meta</a>

<a id="316" class="Keyword">module</a> <a id="323" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a> <a id="343" class="Keyword">where</a>

<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Prelude.html" class="Module">Prelude</a>

<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Reflection.Term.html" class="Module">Reflection.Term</a> <a id="399" class="Keyword">using</a> <a id="405" class="Symbol">(</a><a id="406" href="Reflection.Term.html#4610" class="Function Operator">_≟-Pattern_</a><a id="417" class="Symbol">)</a>

<a id="420" class="Keyword">open</a> <a id="425" class="Keyword">import</a> <a id="432" href="Generics.html" class="Module">Generics</a>

<a id="442" class="Keyword">import</a> <a id="449" href="Data.List.html" class="Module">Data.List</a> <a id="459" class="Symbol">as</a> <a id="462" class="Module">L</a>
<a id="464" class="Keyword">import</a> <a id="471" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="490" class="Symbol">as</a> <a id="493" class="Module">NE</a>

<a id="497" class="Keyword">open</a> <a id="502" class="Keyword">import</a> <a id="509" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Relation.Nullary.Product.html" class="Module">Relation.Nullary.Product</a>

<a id="603" class="Keyword">module</a> <a id="610" href="Tactic.Derive.DecEq.html#610" class="Module">_</a> <a id="612" class="Keyword">where</a>
  <a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="Interface.DecEq.html" class="Module">Interface.DecEq</a> <a id="648" class="Keyword">hiding</a> <a id="655" class="Symbol">(</a><a id="656" href="Interface.DecEq.html#787" class="Function">DecEq-List</a><a id="666" class="Symbol">;</a> <a id="668" href="Interface.DecEq.html#568" class="Function">DecEq-ℕ</a><a id="675" class="Symbol">;</a> <a id="677" href="Interface.DecEq.html#619" class="Function">DecEq-ℤ</a><a id="684" class="Symbol">;</a> <a id="686" href="Interface.DecEq.html#516" class="Function">DecEq-⊤</a><a id="693" class="Symbol">;</a> <a id="695" href="Interface.DecEq.html#687" class="Function">DecEq-Maybe</a><a id="706" class="Symbol">)</a> <a id="708" class="Keyword">public</a>

<a id="716" class="Keyword">open</a> <a id="721" class="Keyword">import</a> <a id="728" href="Tactic.ClauseBuilder.html" class="Module">Tactic.ClauseBuilder</a>
<a id="749" class="Keyword">open</a> <a id="754" class="Keyword">import</a> <a id="761" href="Tactic.Derive.html" class="Module">Tactic.Derive</a> <a id="775" class="Symbol">(</a><a id="776" class="Keyword">quote</a> <a id="782" href="Interface.DecEq.html#181" class="Record">DecEq</a><a id="787" class="Symbol">)</a> <a id="789" class="Symbol">(</a><a id="790" class="Keyword">quote</a> <a id="796" href="Interface.DecEq.html#239" class="Field Operator">_≟_</a><a id="799" class="Symbol">)</a>

<a id="802" class="Keyword">open</a> <a id="807" class="Keyword">import</a> <a id="814" href="Interface.Monad.Instance.html" class="Module">Interface.Monad.Instance</a>
<a id="839" class="Keyword">open</a> <a id="844" class="Keyword">import</a> <a id="851" href="Interface.MonadTC.Instance.html" class="Module">Interface.MonadTC.Instance</a>

<a id="879" class="Keyword">instance</a>
  <a id="890" href="Tactic.Derive.DecEq.html#890" class="Function">_</a> <a id="892" class="Symbol">=</a> <a id="894" href="Tactic.ClauseBuilder.html#10631" class="Function">ContextMonad-MonadTC</a>

<a id="916" class="Keyword">open</a> <a id="921" href="Tactic.ClauseBuilder.html#10861" class="Module">ClauseExprM</a>

<a id="`yes"></a><a id="934" href="Tactic.Derive.DecEq.html#934" class="Function">`yes</a> <a id="`no"></a><a id="939" href="Tactic.Derive.DecEq.html#939" class="Function">`no</a> <a id="943" class="Symbol">:</a> <a id="945" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="950" class="Symbol">→</a> <a id="952" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a id="957" href="Tactic.Derive.DecEq.html#934" class="Function">`yes</a> <a id="962" href="Tactic.Derive.DecEq.html#962" class="Bound">x</a> <a id="964" class="Symbol">=</a> <a id="966" class="Keyword">quote</a> <a id="972" href="Relation.Nullary.html#1559" class="InductiveConstructor Operator">_because_</a> <a id="982" href="Generics.Core.html#2146" class="InductiveConstructor Operator">◆⟦</a> <a id="985" class="Keyword">quote</a> <a id="991" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>  <a id="997" href="Generics.Core.html#2082" class="InductiveConstructor Operator">◆</a> <a id="999" href="Generics.Core.html#2146" class="InductiveConstructor Operator">∣</a> <a id="1001" class="Keyword">quote</a> <a id="1007" href="Relation.Nullary.html#902" class="InductiveConstructor">ofʸ</a> <a id="1011" href="Generics.Core.html#2106" class="InductiveConstructor Operator">◆⟦</a> <a id="1014" href="Tactic.Derive.DecEq.html#962" class="Bound">x</a> <a id="1016" href="Generics.Core.html#2106" class="InductiveConstructor Operator">⟧</a> <a id="1018" href="Generics.Core.html#2146" class="InductiveConstructor Operator">⟧</a>
<a id="1020" href="Tactic.Derive.DecEq.html#939" class="Function">`no</a>  <a id="1025" href="Tactic.Derive.DecEq.html#1025" class="Bound">x</a> <a id="1027" class="Symbol">=</a> <a id="1029" class="Keyword">quote</a> <a id="1035" href="Relation.Nullary.html#1559" class="InductiveConstructor Operator">_because_</a> <a id="1045" href="Generics.Core.html#2146" class="InductiveConstructor Operator">◆⟦</a> <a id="1048" class="Keyword">quote</a> <a id="1054" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="1060" href="Generics.Core.html#2082" class="InductiveConstructor Operator">◆</a> <a id="1062" href="Generics.Core.html#2146" class="InductiveConstructor Operator">∣</a> <a id="1064" class="Keyword">quote</a> <a id="1070" href="Relation.Nullary.html#939" class="InductiveConstructor">ofⁿ</a> <a id="1074" href="Generics.Core.html#2106" class="InductiveConstructor Operator">◆⟦</a> <a id="1077" href="Tactic.Derive.DecEq.html#1025" class="Bound">x</a> <a id="1079" href="Generics.Core.html#2106" class="InductiveConstructor Operator">⟧</a> <a id="1081" href="Generics.Core.html#2146" class="InductiveConstructor Operator">⟧</a>

<a id="map&#39;"></a><a id="1084" href="Tactic.Derive.DecEq.html#1084" class="Function">map&#39;</a> <a id="1089" class="Symbol">:</a> <a id="1091" class="Symbol">∀</a> <a id="1093" class="Symbol">{</a><a id="1094" href="Tactic.Derive.DecEq.html#1094" class="Bound">p</a> <a id="1096" href="Tactic.Derive.DecEq.html#1096" class="Bound">q</a><a id="1097" class="Symbol">}</a> <a id="1099" class="Symbol">{</a><a id="1100" href="Tactic.Derive.DecEq.html#1100" class="Bound">P</a> <a id="1102" class="Symbol">:</a> <a id="1104" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1108" href="Tactic.Derive.DecEq.html#1094" class="Bound">p</a><a id="1109" class="Symbol">}</a> <a id="1111" class="Symbol">{</a><a id="1112" href="Tactic.Derive.DecEq.html#1112" class="Bound">Q</a> <a id="1114" class="Symbol">:</a> <a id="1116" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1120" href="Tactic.Derive.DecEq.html#1096" class="Bound">q</a><a id="1121" class="Symbol">}</a> <a id="1123" class="Symbol">→</a> <a id="1125" href="Tactic.Derive.DecEq.html#1100" class="Bound">P</a> <a id="1127" href="Function.Bundles.html#8509" class="Function Operator">⇔</a> <a id="1129" href="Tactic.Derive.DecEq.html#1112" class="Bound">Q</a> <a id="1131" class="Symbol">→</a> <a id="1133" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="1137" href="Tactic.Derive.DecEq.html#1100" class="Bound">P</a> <a id="1139" class="Symbol">→</a> <a id="1141" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="1145" href="Tactic.Derive.DecEq.html#1112" class="Bound">Q</a>
<a id="1147" href="Tactic.Derive.DecEq.html#1084" class="Function">map&#39;</a> <a id="1152" class="Keyword">record</a> <a id="1159" class="Symbol">{</a> <a id="1161" href="Function.Bundles.html#4227" class="Field">f</a> <a id="1163" class="Symbol">=</a> <a id="1165" href="Tactic.Derive.DecEq.html#1165" class="Bound">f</a> <a id="1167" class="Symbol">;</a> <a id="1169" href="Function.Bundles.html#4247" class="Field">g</a> <a id="1171" class="Symbol">=</a> <a id="1173" href="Tactic.Derive.DecEq.html#1173" class="Bound">g</a> <a id="1175" class="Symbol">}</a> <a id="1177" class="Symbol">=</a> <a id="1179" href="Relation.Nullary.Decidable.Core.html#3636" class="Function">map′</a> <a id="1184" href="Tactic.Derive.DecEq.html#1165" class="Bound">f</a> <a id="1186" href="Tactic.Derive.DecEq.html#1173" class="Bound">g</a>

<a id="1189" class="Keyword">module</a> <a id="1196" href="Tactic.Derive.DecEq.html#1196" class="Module">_</a> <a id="1198" class="Symbol">(</a><a id="1199" href="Tactic.Derive.DecEq.html#1199" class="Bound">transName</a> <a id="1209" class="Symbol">:</a> <a id="1211" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="1216" class="Symbol">→</a> <a id="1218" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1224" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a><a id="1228" class="Symbol">)</a> <a id="1230" class="Keyword">where</a>

  <a id="1239" href="Tactic.Derive.DecEq.html#1239" class="Function">eqFromTerm</a> <a id="1250" class="Symbol">:</a> <a id="1252" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1257" class="Symbol">→</a> <a id="1259" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1264" class="Symbol">→</a> <a id="1266" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1271" class="Symbol">→</a> <a id="1273" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1280" href="Tactic.Derive.DecEq.html#1239" class="Function">eqFromTerm</a> <a id="1291" class="Symbol">(</a><a id="1292" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1296" href="Tactic.Derive.DecEq.html#1296" class="Bound">n</a> <a id="1298" class="Symbol">_)</a> <a id="1301" href="Tactic.Derive.DecEq.html#1301" class="Bound">t</a> <a id="1303" href="Tactic.Derive.DecEq.html#1303" class="Bound">t&#39;</a> <a id="1306" class="Keyword">with</a> <a id="1311" href="Tactic.Derive.DecEq.html#1199" class="Bound">transName</a> <a id="1321" href="Tactic.Derive.DecEq.html#1296" class="Bound">n</a>
  <a id="1325" class="Symbol">...</a> <a id="1329" class="Symbol">|</a> <a id="1331" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1336" href="Tactic.Derive.DecEq.html#1336" class="Bound">n&#39;</a>     <a id="1343" class="Symbol">=</a> <a id="1345" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1349" class="Symbol">(</a><a id="1350" class="Keyword">quote</a> <a id="1356" href="Interface.DecEq.html#239" class="Field Operator">_≟_</a><a id="1359" class="Symbol">)</a> <a id="1361" class="Symbol">(</a><a id="1362" href="Reflection.Argument.html#1333" class="InductiveConstructor">iArg</a> <a id="1367" class="Symbol">(</a><a id="1368" href="Tactic.Derive.DecEq.html#1336" class="Bound">n&#39;</a> <a id="1371" href="Generics.Core.html#1819" class="InductiveConstructor Operator">∙</a><a id="1372" class="Symbol">)</a> <a id="1374" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1376" href="Reflection.Argument.html#1209" class="InductiveConstructor">vArg</a> <a id="1381" class="Bound">t</a> <a id="1383" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1385" href="Reflection.Argument.html#1209" class="InductiveConstructor">vArg</a> <a id="1390" class="Bound">t&#39;</a> <a id="1393" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1395" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1397" class="Symbol">)</a>
  <a id="1401" class="Symbol">...</a> <a id="1405" class="Symbol">|</a> <a id="1407" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>     <a id="1419" class="Symbol">=</a> <a id="1421" class="Keyword">quote</a> <a id="1427" href="Interface.DecEq.html#239" class="Field Operator">_≟_</a> <a id="1431" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∙⟦</a> <a id="1434" class="Bound">t</a> <a id="1436" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∣</a> <a id="1438" class="Bound">t&#39;</a> <a id="1441" href="Generics.Core.html#1883" class="InductiveConstructor Operator">⟧</a>
  <a id="1445" href="Tactic.Derive.DecEq.html#1239" class="CatchallClause Function">eqFromTerm</a><a id="1455" class="CatchallClause"> </a><a id="1456" class="CatchallClause Symbol">_</a><a id="1457" class="CatchallClause"> </a><a id="1458" href="Tactic.Derive.DecEq.html#1458" class="CatchallClause Bound">t</a><a id="1459" class="CatchallClause"> </a><a id="1460" href="Tactic.Derive.DecEq.html#1460" class="CatchallClause Bound">t&#39;</a> <a id="1463" class="Symbol">=</a> <a id="1465" class="Keyword">quote</a> <a id="1471" href="Interface.DecEq.html#239" class="Field Operator">_≟_</a> <a id="1475" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∙⟦</a> <a id="1478" href="Tactic.Derive.DecEq.html#1458" class="Bound">t</a> <a id="1480" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∣</a> <a id="1482" href="Tactic.Derive.DecEq.html#1460" class="Bound">t&#39;</a> <a id="1485" href="Generics.Core.html#1883" class="InductiveConstructor Operator">⟧</a>

  <a id="1490" href="Tactic.Derive.DecEq.html#1490" class="Function">toDecEqName</a> <a id="1502" class="Symbol">:</a> <a id="1504" href="Tactic.ClauseBuilder.html#1162" class="Function">SinglePattern</a> <a id="1518" class="Symbol">→</a> <a id="1520" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1525" class="Symbol">(</a><a id="1526" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1531" class="Symbol">→</a> <a id="1533" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1538" class="Symbol">→</a> <a id="1540" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a><a id="1544" class="Symbol">)</a>
  <a id="1548" href="Tactic.Derive.DecEq.html#1490" class="Function">toDecEqName</a> <a id="1560" class="Symbol">(</a><a id="1561" href="Tactic.Derive.DecEq.html#1561" class="Bound">l</a> <a id="1563" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1565" class="Symbol">_)</a> <a id="1568" class="Symbol">=</a> <a id="1570" href="Data.List.Base.html#1544" class="Function">L.map</a> <a id="1576" class="Symbol">(λ</a> <a id="1579" class="Keyword">where</a> <a id="1585" class="Symbol">(_</a> <a id="1588" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1590" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="1594" class="Symbol">_</a> <a id="1596" href="Tactic.Derive.DecEq.html#1596" class="Bound">t</a><a id="1597" class="Symbol">)</a> <a id="1599" class="Symbol">→</a> <a id="1601" href="Tactic.Derive.DecEq.html#1239" class="Function">eqFromTerm</a> <a id="1612" href="Tactic.Derive.DecEq.html#1596" class="Bound">t</a><a id="1613" class="Symbol">)</a> <a id="1615" href="Tactic.Derive.DecEq.html#1561" class="Bound">l</a>

  <a id="1620" class="Comment">-- on the diagonal we have one pattern, outside we don&#39;t care</a>
  <a id="1684" class="Comment">-- assume that the types in the pattern are properly normalized</a>
  <a id="1750" href="Tactic.Derive.DecEq.html#1750" class="Function">mapDiag</a> <a id="1758" class="Symbol">:</a> <a id="1760" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1766" href="Tactic.ClauseBuilder.html#1162" class="Function">SinglePattern</a> <a id="1780" class="Symbol">→</a> <a id="1782" href="Reflection.TCI.html#628" class="Function">TC</a> <a id="1785" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1792" href="Tactic.Derive.DecEq.html#1750" class="Function">mapDiag</a> <a id="1800" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>          <a id="1817" class="Symbol">=</a> <a id="1819" href="Interface.Monad.html#286" class="Field">return</a> <a id="1826" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1828" href="Tactic.Derive.DecEq.html#939" class="Function">`no</a> <a id="1832" href="Generics.Core.html#1404" class="InductiveConstructor Operator">`λ⦅</a> <a id="1836" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="1838" class="Symbol">(</a><a id="1839" class="String">&quot;&quot;</a> <a id="1842" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1844" href="Generics.Core.html#300" class="InductiveConstructor">vArg?</a><a id="1849" class="Symbol">)</a> <a id="1851" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="1853" href="Generics.Core.html#1404" class="InductiveConstructor Operator">⦆∅</a>
  <a id="1858" href="Tactic.Derive.DecEq.html#1750" class="Function">mapDiag</a> <a id="1866" class="Symbol">(</a><a id="1867" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1872" href="Tactic.Derive.DecEq.html#1872" class="Bound">p</a><a id="1873" class="Symbol">@(</a><a id="1875" href="Tactic.Derive.DecEq.html#1875" class="Bound">l</a> <a id="1877" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1879" class="Symbol">_))</a> <a id="1883" class="Symbol">=</a> <a id="1885" class="Keyword">let</a> <a id="1889" href="Tactic.Derive.DecEq.html#1889" class="Bound">k</a> <a id="1891" class="Symbol">=</a> <a id="1893" href="Data.List.Base.html#4864" class="Function">length</a> <a id="1900" href="Tactic.Derive.DecEq.html#1875" class="Bound">l</a> <a id="1902" class="Keyword">in</a> <a id="1905" class="Keyword">do</a>
    <a id="1912" href="Tactic.Derive.DecEq.html#1912" class="Bound">typeList</a> <a id="1921" href="Interface.Monad.html#307" class="Field Operator">←</a> <a id="1923" href="Interface.Monad.html#820" class="Function">traverseList</a> <a id="1936" href="Interface.MonadTC.html#1579" class="Field">inferType</a> <a id="1946" class="Symbol">(</a><a id="1947" href="Data.List.Base.html#5865" class="Function">applyDownFrom</a> <a id="1961" href="Generics.Core.html#372" class="InductiveConstructor">♯</a> <a id="1963" class="Symbol">(</a><a id="1964" href="Data.List.Base.html#4864" class="Function">length</a> <a id="1971" href="Tactic.Derive.DecEq.html#1875" class="Bound">l</a><a id="1972" class="Symbol">))</a>
    <a id="1979" href="Interface.Monad.html#286" class="Field">return</a> <a id="1986" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1988" class="Keyword">quote</a> <a id="1994" href="Tactic.Derive.DecEq.html#1084" class="Function">map&#39;</a> <a id="1999" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∙⟦</a> <a id="2002" href="Tactic.Derive.DecEq.html#2308" class="Function">genEquiv</a> <a id="2011" href="Tactic.Derive.DecEq.html#1889" class="Bound">k</a> <a id="2013" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∣</a> <a id="2015" href="Tactic.Derive.DecEq.html#2069" class="Function">genPf</a> <a id="2021" href="Tactic.Derive.DecEq.html#1889" class="Bound">k</a> <a id="2023" class="Symbol">(</a><a id="2024" href="Data.List.Base.html#1544" class="Function">L.map</a> <a id="2030" href="Tactic.Derive.DecEq.html#1239" class="Function">eqFromTerm</a> <a id="2041" href="Tactic.Derive.DecEq.html#1912" class="Bound">typeList</a><a id="2049" class="Symbol">)</a> <a id="2051" href="Generics.Core.html#1883" class="InductiveConstructor Operator">⟧</a>
    <a id="2057" class="Keyword">where</a>
      <a id="2069" href="Tactic.Derive.DecEq.html#2069" class="Function">genPf</a> <a id="2075" class="Symbol">:</a> <a id="2077" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2079" class="Symbol">→</a> <a id="2081" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2086" class="Symbol">(</a><a id="2087" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="2092" class="Symbol">→</a> <a id="2094" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="2099" class="Symbol">→</a> <a id="2101" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a><a id="2105" class="Symbol">)</a> <a id="2107" class="Symbol">→</a> <a id="2109" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
      <a id="2120" href="Tactic.Derive.DecEq.html#2069" class="Function">genPf</a> <a id="2126" href="Tactic.Derive.DecEq.html#2126" class="Bound">k</a> <a id="2128" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>      <a id="2136" class="Symbol">=</a> <a id="2138" href="Tactic.Derive.DecEq.html#934" class="Function">`yes</a> <a id="2143" class="Symbol">(</a><a id="2144" class="Keyword">quote</a> <a id="2150" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="2153" href="Generics.Core.html#2082" class="InductiveConstructor Operator">◆</a><a id="2154" class="Symbol">)</a>
      <a id="2162" href="Tactic.Derive.DecEq.html#2069" class="Function">genPf</a> <a id="2168" href="Tactic.Derive.DecEq.html#2168" class="Bound">k</a> <a id="2170" class="Symbol">(</a><a id="2171" href="Tactic.Derive.DecEq.html#2171" class="Bound">n</a> <a id="2173" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2175" href="Tactic.Derive.DecEq.html#2175" class="Bound">l</a><a id="2176" class="Symbol">)</a> <a id="2178" class="Symbol">=</a> <a id="2180" class="Keyword">quote</a> <a id="2186" href="Relation.Nullary.Product.html#921" class="Function Operator">_×-dec_</a> <a id="2194" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∙⟦</a> <a id="2197" href="Tactic.Derive.DecEq.html#2069" class="Function">genPf</a> <a id="2203" href="Tactic.Derive.DecEq.html#2168" class="Bound">k</a> <a id="2205" href="Tactic.Derive.DecEq.html#2175" class="Bound">l</a> <a id="2207" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∣</a> <a id="2209" href="Tactic.Derive.DecEq.html#2171" class="Bound">n</a> <a id="2211" class="Symbol">(</a><a id="2212" href="Generics.Core.html#372" class="InductiveConstructor">♯</a> <a id="2214" class="Symbol">(</a><a id="2215" href="Data.List.Base.html#4864" class="Function">length</a> <a id="2222" href="Tactic.Derive.DecEq.html#2175" class="Bound">l</a><a id="2223" class="Symbol">))</a> <a id="2226" class="Symbol">(</a><a id="2227" href="Generics.Core.html#372" class="InductiveConstructor">♯</a> <a id="2229" class="Symbol">(</a><a id="2230" href="Data.List.Base.html#4864" class="Function">length</a> <a id="2237" href="Tactic.Derive.DecEq.html#2175" class="Bound">l</a> <a id="2239" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2241" href="Tactic.Derive.DecEq.html#2168" class="Bound">k</a><a id="2242" class="Symbol">))</a> <a id="2245" href="Generics.Core.html#1883" class="InductiveConstructor Operator">⟧</a>

      <a id="2254" class="Comment">-- c x1 .. xn ≡ c y1 .. yn ⇔ x1 ≡ y1 .. xn ≡ yn</a>
      <a id="2308" href="Tactic.Derive.DecEq.html#2308" class="Function">genEquiv</a> <a id="2317" class="Symbol">:</a> <a id="2319" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2321" class="Symbol">→</a> <a id="2323" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
      <a id="2334" href="Tactic.Derive.DecEq.html#2308" class="Function">genEquiv</a> <a id="2343" href="Tactic.Derive.DecEq.html#2343" class="Bound">n</a> <a id="2345" class="Symbol">=</a> <a id="2347" class="Keyword">quote</a> <a id="2353" href="Function.Bundles.html#9613" class="Function">mk⇔</a> <a id="2357" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∙⟦</a> <a id="2360" href="Generics.Core.html#1491" class="InductiveConstructor Operator">`λ⟦</a> <a id="2364" href="Tactic.Derive.DecEq.html#2455" class="Function">reflPattern</a> <a id="2376" href="Tactic.Derive.DecEq.html#2343" class="Bound">n</a> <a id="2378" href="Generics.Core.html#1491" class="InductiveConstructor Operator">⇒</a> <a id="2380" class="Keyword">quote</a> <a id="2386" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2391" href="Generics.Core.html#2082" class="InductiveConstructor Operator">◆</a> <a id="2393" href="Generics.Core.html#1491" class="InductiveConstructor Operator">⟧</a> <a id="2395" href="Generics.Core.html#1883" class="InductiveConstructor Operator">∣</a> <a id="2397" href="Generics.Core.html#1491" class="InductiveConstructor Operator">`λ⟦</a> <a id="2401" class="Keyword">quote</a> <a id="2407" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2412" href="Generics.Core.html#2200" class="InductiveConstructor Operator">◇</a> <a id="2414" href="Generics.Core.html#1491" class="InductiveConstructor Operator">⇒</a> <a id="2416" href="Tactic.Derive.DecEq.html#2611" class="Function">reflTerm</a> <a id="2425" href="Tactic.Derive.DecEq.html#2343" class="Bound">n</a> <a id="2427" href="Generics.Core.html#1491" class="InductiveConstructor Operator">⟧</a> <a id="2429" href="Generics.Core.html#1883" class="InductiveConstructor Operator">⟧</a>
        <a id="2439" class="Keyword">where</a>
          <a id="2455" href="Tactic.Derive.DecEq.html#2455" class="Function">reflPattern</a> <a id="2467" class="Symbol">:</a> <a id="2469" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2471" class="Symbol">→</a> <a id="2473" href="Agda.Builtin.Reflection.html#4726" class="Datatype">Pattern</a>
          <a id="2491" href="Tactic.Derive.DecEq.html#2455" class="Function">reflPattern</a> <a id="2503" class="Number">0</a>       <a id="2511" class="Symbol">=</a> <a id="2513" class="Keyword">quote</a> <a id="2519" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="2522" href="Generics.Core.html#2200" class="InductiveConstructor Operator">◇</a>
          <a id="2534" href="Tactic.Derive.DecEq.html#2455" class="Function">reflPattern</a> <a id="2546" class="Symbol">(</a><a id="2547" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2551" href="Tactic.Derive.DecEq.html#2551" class="Bound">n</a><a id="2552" class="Symbol">)</a> <a id="2554" class="Symbol">=</a> <a id="2556" class="Keyword">quote</a> <a id="2562" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="2566" href="Generics.Core.html#2280" class="InductiveConstructor Operator">◇⟦</a> <a id="2569" href="Tactic.Derive.DecEq.html#2455" class="Function">reflPattern</a> <a id="2581" href="Tactic.Derive.DecEq.html#2551" class="Bound">n</a> <a id="2583" href="Generics.Core.html#2280" class="InductiveConstructor Operator">∣</a> <a id="2585" class="Keyword">quote</a> <a id="2591" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2596" href="Generics.Core.html#2200" class="InductiveConstructor Operator">◇</a> <a id="2598" href="Generics.Core.html#2280" class="InductiveConstructor Operator">⟧</a>

          <a id="2611" href="Tactic.Derive.DecEq.html#2611" class="Function">reflTerm</a> <a id="2620" class="Symbol">:</a> <a id="2622" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2624" class="Symbol">→</a> <a id="2626" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
          <a id="2641" href="Tactic.Derive.DecEq.html#2611" class="Function">reflTerm</a> <a id="2650" class="Number">0</a>       <a id="2658" class="Symbol">=</a> <a id="2660" class="Keyword">quote</a> <a id="2666" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="2669" href="Generics.Core.html#2082" class="InductiveConstructor Operator">◆</a>
          <a id="2681" href="Tactic.Derive.DecEq.html#2611" class="Function">reflTerm</a> <a id="2690" class="Symbol">(</a><a id="2691" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2695" href="Tactic.Derive.DecEq.html#2695" class="Bound">n</a><a id="2696" class="Symbol">)</a> <a id="2698" class="Symbol">=</a> <a id="2700" class="Keyword">quote</a> <a id="2706" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="2710" href="Generics.Core.html#2146" class="InductiveConstructor Operator">◆⟦</a> <a id="2713" href="Tactic.Derive.DecEq.html#2611" class="Function">reflTerm</a> <a id="2722" href="Tactic.Derive.DecEq.html#2695" class="Bound">n</a> <a id="2724" href="Generics.Core.html#2146" class="InductiveConstructor Operator">∣</a> <a id="2726" class="Keyword">quote</a> <a id="2732" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2737" href="Generics.Core.html#2082" class="InductiveConstructor Operator">◆</a> <a id="2739" href="Generics.Core.html#2146" class="InductiveConstructor Operator">⟧</a>

  <a id="2744" href="Tactic.Derive.DecEq.html#2744" class="Function">toMapDiag</a> <a id="2754" class="Symbol">:</a> <a id="2756" href="Tactic.ClauseBuilder.html#1162" class="Function">SinglePattern</a> <a id="2770" class="Symbol">→</a> <a id="2772" href="Tactic.ClauseBuilder.html#1162" class="Function">SinglePattern</a> <a id="2786" class="Symbol">→</a> <a id="2788" href="Data.List.NonEmpty.Base.html#1079" class="Record">NE.List⁺</a> <a id="2797" href="Tactic.ClauseBuilder.html#1162" class="Function">SinglePattern</a> <a id="2811" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2813" href="Reflection.TCI.html#628" class="Function">TC</a> <a id="2816" class="Symbol">(</a><a id="2817" href="Tactic.ClauseBuilder.html#5652" class="Datatype">ClauseExpr</a> <a id="2828" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="2830" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2836" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a><a id="2840" class="Symbol">)</a>
  <a id="2844" href="Tactic.Derive.DecEq.html#2744" class="Function">toMapDiag</a> <a id="2854" href="Tactic.Derive.DecEq.html#2854" class="Bound">p</a><a id="2855" class="Symbol">@(_</a> <a id="2859" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2861" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="2865" class="Symbol">_</a> <a id="2867" href="Tactic.Derive.DecEq.html#2867" class="Bound">p₁</a><a id="2869" class="Symbol">)</a> <a id="2871" href="Tactic.Derive.DecEq.html#2871" class="Bound">p&#39;</a><a id="2873" class="Symbol">@(_</a> <a id="2877" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2879" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="2883" class="Symbol">_</a> <a id="2885" href="Tactic.Derive.DecEq.html#2885" class="Bound">p₂</a><a id="2887" class="Symbol">)</a> <a id="2889" class="Symbol">=</a>
    <a id="2895" class="Symbol">(</a><a id="2896" href="Tactic.Derive.DecEq.html#2854" class="Bound">p</a> <a id="2898" href="Data.List.NonEmpty.Base.html#1125" class="InductiveConstructor Operator">NE.∷</a> <a id="2903" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="2905" href="Tactic.Derive.DecEq.html#2871" class="Bound">p&#39;</a> <a id="2908" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="2910" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2912" href="Tactic.ClauseBuilder.html#12779" class="Function">finishMatch</a> <a id="2924" class="Symbol">(</a><a id="2925" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="2928" href="Relation.Nullary.Decidable.Core.html#1312" class="Function Operator">⌊</a> <a id="2930" href="Tactic.Derive.DecEq.html#2867" class="Bound">p₁</a> <a id="2933" href="Reflection.Term.html#4610" class="Function Operator">≟-Pattern</a> <a id="2943" href="Tactic.Derive.DecEq.html#2885" class="Bound">p₂</a> <a id="2946" href="Relation.Nullary.Decidable.Core.html#1312" class="Function Operator">⌋</a> <a id="2948" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2953" href="Tactic.Derive.DecEq.html#1750" class="Function">mapDiag</a> <a id="2961" class="Symbol">(</a><a id="2962" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2967" href="Tactic.Derive.DecEq.html#2854" class="Bound">p</a><a id="2968" class="Symbol">)</a> <a id="2970" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="2975" href="Tactic.Derive.DecEq.html#1750" class="Function">mapDiag</a> <a id="2983" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="2990" class="Symbol">))</a>

<a id="2994" class="Keyword">module</a> <a id="3001" href="Tactic.Derive.DecEq.html#3001" class="Module">_</a> <a id="3003" class="Symbol">⦃</a> <a id="3005" href="Tactic.Derive.DecEq.html#3005" class="Bound">_</a> <a id="3007" class="Symbol">:</a> <a id="3009" href="Reflection.Debug.html#2340" class="Record">DebugOptions</a> <a id="3022" class="Symbol">⦄</a> <a id="3024" class="Keyword">where</a>
  <a id="3032" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="3045" class="Symbol">:</a> <a id="3047" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3052" class="Symbol">(</a><a id="3053" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="3058" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3060" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a><a id="3064" class="Symbol">)</a> <a id="3066" class="Symbol">→</a> <a id="3068" href="Generics.Core.html#2480" class="Function">UnquoteDecl</a>
  <a id="3082" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="3095" class="Symbol">=</a> <a id="3097" href="Tactic.Derive.html#4928" class="Function">derive-Class</a> <a id="3110" class="Number">0</a> <a id="3112" class="Symbol">(λ</a> <a id="3115" href="Tactic.Derive.DecEq.html#3115" class="Bound">transName</a> <a id="3125" href="Tactic.Derive.DecEq.html#3125" class="Bound">ps</a> <a id="3128" class="Symbol">→</a> <a id="3130" href="Data.List.Base.html#2208" class="Function">cartesianProductWith</a> <a id="3151" class="Symbol">(</a><a id="3152" href="Tactic.Derive.DecEq.html#2744" class="Function">toMapDiag</a> <a id="3162" href="Tactic.Derive.DecEq.html#3115" class="Bound">transName</a><a id="3171" class="Symbol">)</a> <a id="3173" href="Tactic.Derive.DecEq.html#3125" class="Bound">ps</a> <a id="3176" href="Tactic.Derive.DecEq.html#3125" class="Bound">ps</a><a id="3178" class="Symbol">)</a>

<a id="3181" class="Keyword">private</a>
  <a id="3191" class="Keyword">open</a> <a id="3196" class="Keyword">import</a> <a id="3203" href="Tactic.Derive.TestTypes.html" class="Module">Tactic.Derive.TestTypes</a>
  <a id="3229" class="Keyword">open</a> <a id="3234" class="Keyword">import</a> <a id="3241" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>

  <a id="3260" class="Keyword">unquoteDecl</a> <a id="DecEq-These"></a><a id="3272" href="Tactic.Derive.DecEq.html#3272" class="Function">DecEq-These</a> <a id="3284" class="Symbol">=</a> <a id="3286" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="3299" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3301" class="Symbol">(</a><a id="3302" class="Keyword">quote</a> <a id="3308" href="Data.These.Base.html#528" class="Datatype">These</a> <a id="3314" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3316" href="Tactic.Derive.DecEq.html#3272" class="Function">DecEq-These</a><a id="3327" class="Symbol">)</a> <a id="3329" href="Data.List.Base.html#5025" class="Function Operator">]</a>

  <a id="3334" class="Keyword">unquoteDecl</a> <a id="DecEq-⊎"></a><a id="3346" href="Tactic.Derive.DecEq.html#3346" class="Function">DecEq-⊎</a> <a id="3354" class="Symbol">=</a> <a id="3356" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="3369" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3371" class="Symbol">(</a><a id="3372" class="Keyword">quote</a> <a id="3378" href="Data.Sum.Base.html#734" class="Datatype Operator">_⊎_</a> <a id="3382" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3384" href="Tactic.Derive.DecEq.html#3346" class="Function">DecEq-⊎</a><a id="3391" class="Symbol">)</a> <a id="3393" href="Data.List.Base.html#5025" class="Function Operator">]</a>

  <a id="3398" class="Keyword">unquoteDecl</a> <a id="DecEq-Bool"></a><a id="3410" href="Tactic.Derive.DecEq.html#3410" class="Function">DecEq-Bool</a> <a id="DecEq-ℤ"></a><a id="3421" href="Tactic.Derive.DecEq.html#3421" class="Function">DecEq-ℤ</a> <a id="DecEq-List"></a><a id="3429" href="Tactic.Derive.DecEq.html#3429" class="Function">DecEq-List</a> <a id="DecEq-Maybe"></a><a id="3440" href="Tactic.Derive.DecEq.html#3440" class="Function">DecEq-Maybe</a> <a id="DecEq-ℕ"></a><a id="3452" href="Tactic.Derive.DecEq.html#3452" class="Function">DecEq-ℕ</a> <a id="DecEq-Sign"></a><a id="3460" href="Tactic.Derive.DecEq.html#3460" class="Function">DecEq-Sign</a> <a id="DecEq-⊤"></a><a id="3471" href="Tactic.Derive.DecEq.html#3471" class="Function">DecEq-⊤</a> <a id="3479" class="Symbol">=</a> <a id="3481" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="3494" class="Symbol">((</a><a id="3496" class="Keyword">quote</a> <a id="3502" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="3507" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3509" href="Tactic.Derive.DecEq.html#3410" class="Function">DecEq-Bool</a><a id="3519" class="Symbol">)</a> <a id="3521" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3523" class="Symbol">(</a><a id="3524" class="Keyword">quote</a> <a id="3530" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="3532" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3534" href="Tactic.Derive.DecEq.html#3421" class="Function">DecEq-ℤ</a><a id="3541" class="Symbol">)</a> <a id="3543" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3545" class="Symbol">(</a><a id="3546" class="Keyword">quote</a> <a id="3552" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3557" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3559" href="Tactic.Derive.DecEq.html#3429" class="Function">DecEq-List</a><a id="3569" class="Symbol">)</a> <a id="3571" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3573" class="Symbol">(</a><a id="3574" class="Keyword">quote</a> <a id="3580" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3586" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3588" href="Tactic.Derive.DecEq.html#3440" class="Function">DecEq-Maybe</a><a id="3599" class="Symbol">)</a> <a id="3601" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3603" class="Symbol">(</a><a id="3604" class="Keyword">quote</a> <a id="3610" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3612" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3614" href="Tactic.Derive.DecEq.html#3452" class="Function">DecEq-ℕ</a><a id="3621" class="Symbol">)</a> <a id="3623" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3625" class="Symbol">(</a><a id="3626" class="Keyword">quote</a> <a id="3632" href="Data.Sign.Base.html#507" class="Datatype">Sign</a> <a id="3637" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3639" href="Tactic.Derive.DecEq.html#3460" class="Function">DecEq-Sign</a><a id="3649" class="Symbol">)</a> <a id="3651" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3653" class="Symbol">(</a><a id="3654" class="Keyword">quote</a> <a id="3660" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a> <a id="3662" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3664" href="Tactic.Derive.DecEq.html#3471" class="Function">DecEq-⊤</a><a id="3671" class="Symbol">)</a> <a id="3673" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3675" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3677" class="Symbol">)</a>

  <a id="3682" class="Keyword">unquoteDecl</a> <a id="DecEq-Fin"></a><a id="3694" href="Tactic.Derive.DecEq.html#3694" class="Function">DecEq-Fin</a> <a id="3704" class="Symbol">=</a> <a id="3706" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="3719" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3721" class="Symbol">(</a><a id="3722" class="Keyword">quote</a> <a id="3728" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="3732" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3734" href="Tactic.Derive.DecEq.html#3694" class="Function">DecEq-Fin</a><a id="3743" class="Symbol">)</a> <a id="3745" href="Data.List.Base.html#5025" class="Function Operator">]</a>

  <a id="3750" class="Comment">-- this doesn&#39;t work since the clause builder machinery doesn&#39;t deal</a>
  <a id="3821" class="Comment">-- with absurd patterns yet</a>

  <a id="3852" class="Comment">--unquoteDecl DecEq-Vec = derive-DecEq [ (quote Vec , DecEq-Vec) ]</a>

  <a id="3922" class="Keyword">unquoteDecl</a> <a id="DecEq-E1"></a><a id="3934" href="Tactic.Derive.DecEq.html#3934" class="Function">DecEq-E1</a> <a id="3943" class="Symbol">=</a> <a id="3945" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="3958" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3960" class="Symbol">(</a><a id="3961" class="Keyword">quote</a> <a id="3967" href="Tactic.Derive.TestTypes.html#193" class="Datatype">E1</a> <a id="3970" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3972" href="Tactic.Derive.DecEq.html#3934" class="Function">DecEq-E1</a><a id="3980" class="Symbol">)</a> <a id="3982" href="Data.List.Base.html#5025" class="Function Operator">]</a>
  <a id="3986" class="Keyword">unquoteDecl</a> <a id="DecEq-E2"></a><a id="3998" href="Tactic.Derive.DecEq.html#3998" class="Function">DecEq-E2</a> <a id="4007" class="Symbol">=</a> <a id="4009" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="4022" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4024" class="Symbol">(</a><a id="4025" class="Keyword">quote</a> <a id="4031" href="Tactic.Derive.TestTypes.html#298" class="Datatype">E2</a> <a id="4034" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4036" href="Tactic.Derive.DecEq.html#3998" class="Function">DecEq-E2</a><a id="4044" class="Symbol">)</a> <a id="4046" href="Data.List.Base.html#5025" class="Function Operator">]</a>

  <a id="4051" class="Comment">-- this uses mutual recursion with List E3</a>
  <a id="4096" class="Keyword">unquoteDecl</a> <a id="DecEq-E3"></a><a id="4108" href="Tactic.Derive.DecEq.html#4108" class="Function">DecEq-E3</a> <a id="4117" class="Symbol">=</a> <a id="4119" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="4132" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4134" class="Symbol">(</a><a id="4135" class="Keyword">quote</a> <a id="4141" href="Tactic.Derive.TestTypes.html#376" class="Datatype">E3</a> <a id="4144" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4146" href="Tactic.Derive.DecEq.html#4108" class="Function">DecEq-E3</a><a id="4154" class="Symbol">)</a> <a id="4156" href="Data.List.Base.html#5025" class="Function Operator">]</a>
  <a id="4160" class="Comment">-- unquoteDecl DecEq-E4 = derive-DecEq [ (quote E4 , DecEq-E4) ]</a>

  <a id="4228" class="Keyword">unquoteDecl</a> <a id="DecEq-R1"></a><a id="4240" href="Tactic.Derive.DecEq.html#4240" class="Function">DecEq-R1</a> <a id="4249" class="Symbol">=</a> <a id="4251" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="4264" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4266" class="Symbol">(</a><a id="4267" class="Keyword">quote</a> <a id="4273" href="Tactic.Derive.TestTypes.html#586" class="Record">R1</a> <a id="4276" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4278" href="Tactic.Derive.DecEq.html#4240" class="Function">DecEq-R1</a><a id="4286" class="Symbol">)</a> <a id="4288" href="Data.List.Base.html#5025" class="Function Operator">]</a>
  <a id="4292" class="Keyword">unquoteDecl</a> <a id="DecEq-R2"></a><a id="4304" href="Tactic.Derive.DecEq.html#4304" class="Function">DecEq-R2</a> <a id="4313" class="Symbol">=</a> <a id="4315" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="4328" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4330" class="Symbol">(</a><a id="4331" class="Keyword">quote</a> <a id="4337" href="Tactic.Derive.TestTypes.html#647" class="Record">R2</a> <a id="4340" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4342" href="Tactic.Derive.DecEq.html#4304" class="Function">DecEq-R2</a><a id="4350" class="Symbol">)</a> <a id="4352" href="Data.List.Base.html#5025" class="Function Operator">]</a>

  <a id="4357" class="Keyword">unquoteDecl</a> <a id="DecEq-M₁"></a><a id="4369" href="Tactic.Derive.DecEq.html#4369" class="Function">DecEq-M₁</a> <a id="DecEq-M₂"></a><a id="4378" href="Tactic.Derive.DecEq.html#4378" class="Function">DecEq-M₂</a> <a id="4387" class="Symbol">=</a> <a id="4389" href="Tactic.Derive.DecEq.html#3032" class="Function">derive-DecEq</a> <a id="4402" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="4404" class="Symbol">(</a><a id="4405" class="Keyword">quote</a> <a id="4411" href="Tactic.Derive.TestTypes.html#794" class="Datatype">M₁</a> <a id="4414" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4416" href="Tactic.Derive.DecEq.html#4369" class="Function">DecEq-M₁</a><a id="4424" class="Symbol">)</a> <a id="4426" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4428" class="Symbol">(</a><a id="4429" class="Keyword">quote</a> <a id="4435" href="Tactic.Derive.TestTypes.html#808" class="Datatype">M₂</a> <a id="4438" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4440" href="Tactic.Derive.DecEq.html#4378" class="Function">DecEq-M₂</a><a id="4448" class="Symbol">)</a> <a id="4450" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4452" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

  <a id="4458" class="Comment">-- Expected: DecEq-Term DecEq-Product</a>
</pre></body></html>